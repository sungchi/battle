(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Oc={exports:{}},ki={},Rc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Qf=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Xf=Symbol.for("react.provider"),Zf=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),ou=Symbol.iterator;function sp(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var Lc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$c=Object.assign,Ac={};function ur(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Lc}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ic(){}Ic.prototype=ur.prototype;function Ra(e,t,n){this.props=e,this.context=t,this.refs=Ac,this.updater=n||Lc}var La=Ra.prototype=new Ic;La.constructor=Ra;$c(La,ur.prototype);La.isPureReactComponent=!0;var au=Array.isArray,Dc=Object.prototype.hasOwnProperty,$a={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Uc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Dc.call(t,r)&&!zc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:is,type:e,key:i,ref:o,props:s,_owner:$a.current}}function ip(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Aa(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function op(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lu=/\/+/g;function Zi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?op(""+e.key):t.toString(36)}function Us(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case Qf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Zi(o,0):r,au(s)?(n="",e!=null&&(n=e.replace(lu,"$&/")+"/"),Us(s,t,n,"",function(c){return c})):s!=null&&(Aa(s)&&(s=ip(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",au(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Zi(i,a);o+=Us(i,t,n,l,s)}else if(l=sp(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Zi(i,a++),o+=Us(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vs(e,t,n){if(e==null)return e;var r=[],s=0;return Us(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ap(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Ms={transition:null},lp={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:$a};function Mc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:vs,forEach:function(e,t,n){vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vs(e,function(){t++}),t},toArray:function(e){return vs(e,function(t){return t})||[]},only:function(e){if(!Aa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=ur;U.Fragment=qf;U.Profiler=Yf;U.PureComponent=Ra;U.StrictMode=Jf;U.Suspense=tp;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;U.act=Mc;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$c({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Dc.call(t,l)&&!zc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:is,type:e.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(e){return e={$$typeof:Zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xf,_context:e},e.Consumer=e};U.createElement=Uc;U.createFactory=function(e){var t=Uc.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:ep,render:e}};U.isValidElement=Aa;U.lazy=function(e){return{$$typeof:rp,_payload:{_status:-1,_result:e},_init:ap}};U.memo=function(e,t){return{$$typeof:np,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Ms.transition;Ms.transition={};try{e()}finally{Ms.transition=t}};U.unstable_act=Mc;U.useCallback=function(e,t){return Se.current.useCallback(e,t)};U.useContext=function(e){return Se.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};U.useEffect=function(e,t){return Se.current.useEffect(e,t)};U.useId=function(){return Se.current.useId()};U.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Se.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};U.useRef=function(e){return Se.current.useRef(e)};U.useState=function(e){return Se.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Se.current.useTransition()};U.version="18.3.1";Rc.exports=U;var N=Rc.exports;const up=Kf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=N,dp=Symbol.for("react.element"),hp=Symbol.for("react.fragment"),fp=Object.prototype.hasOwnProperty,pp=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mp={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fp.call(t,r)&&!mp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dp,type:e,key:i,ref:o,props:s,_owner:pp.current}}ki.Fragment=hp;ki.jsx=Fc;ki.jsxs=Fc;Oc.exports=ki;var u=Oc.exports,Bc={exports:{}},Ue={},Hc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,L){var $=k.length;k.push(L);e:for(;0<$;){var Q=$-1>>>1,oe=k[Q];if(0<s(oe,L))k[Q]=L,k[$]=oe,$=Q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],$=k.pop();if($!==L){k[0]=$;e:for(var Q=0,oe=k.length,Zt=oe>>>1;Q<Zt;){var it=2*(Q+1)-1,bn=k[it],ht=it+1,en=k[ht];if(0>s(bn,$))ht<oe&&0>s(en,bn)?(k[Q]=en,k[ht]=$,Q=ht):(k[Q]=bn,k[it]=$,Q=it);else if(ht<oe&&0>s(en,$))k[Q]=en,k[ht]=$,Q=ht;else break e}}return L}function s(k,L){var $=k.sortIndex-L.sortIndex;return $!==0?$:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,y=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=k)r(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function _(k){if(S=!1,g(k),!x)if(n(l)!==null)x=!0,_e(b);else{var L=n(c);L!==null&&st(_,L.startTime-k)}}function b(k,L){x=!1,S&&(S=!1,m(R),R=-1),y=!0;var $=p;try{for(g(L),h=n(l);h!==null&&(!(h.expirationTime>L)||k&&!V());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var oe=Q(h.expirationTime<=L);L=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),g(L)}else r(l);h=n(l)}if(h!==null)var Zt=!0;else{var it=n(c);it!==null&&st(_,it.startTime-L),Zt=!1}return Zt}finally{h=null,p=$,y=!1}}var T=!1,P=null,R=-1,W=5,z=-1;function V(){return!(e.unstable_now()-z<W)}function ie(){if(P!==null){var k=e.unstable_now();z=k;var L=!0;try{L=P(!0,k)}finally{L?we():(T=!1,P=null)}}else T=!1}var we;if(typeof f=="function")we=function(){f(ie)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,hs=Sn.port2;Sn.port1.onmessage=ie,we=function(){hs.postMessage(null)}}else we=function(){C(ie,0)};function _e(k){P=k,T||(T=!0,we())}function st(k,L){R=C(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,_e(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var $=p;p=L;try{return k()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=p;p=k;try{return L()}finally{p=$}},e.unstable_scheduleCallback=function(k,L,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,k){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,k={id:d++,callback:L,priorityLevel:k,startTime:$,expirationTime:oe,sortIndex:-1},$>Q?(k.sortIndex=$,t(c,k),n(l)===null&&k===n(c)&&(S?(m(R),R=-1):S=!0,st(_,$-Q))):(k.sortIndex=oe,t(l,k),x||y||(x=!0,_e(b))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var L=p;return function(){var $=p;p=L;try{return k.apply(this,arguments)}finally{p=$}}}})(Vc);Hc.exports=Vc;var gp=Hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=N,ze=gp;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,Fr={};function wn(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(Fr[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uu={},cu={};function wp(e){return Ro.call(cu,e)?!0:Ro.call(uu,e)?!1:yp.test(e)?cu[e]=!0:(uu[e]=!0,!1)}function _p(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xp(e,t,n,r){if(t===null||typeof t>"u"||_p(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ia=/[\-:]([a-z])/g;function Da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ia,Da);pe[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ia,Da);pe[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ia,Da);pe[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function za(e,t,n,r){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xp(t,n,s,r)&&(n=null),r||s===null?wp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Ua=Symbol.for("react.strict_mode"),Lo=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Gc=Symbol.for("react.context"),Ma=Symbol.for("react.forward_ref"),$o=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Fa=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),du=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,eo;function jr(e){if(eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eo=t&&t[1]||""}return`
`+eo+e}var to=!1;function no(e,t){if(!e||to)return"";to=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{to=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function kp(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=no(e.type,!1),e;case 11:return e=no(e.type.render,!1),e;case 1:return e=no(e.type,!0),e;default:return""}}function Io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Ln:return"Portal";case Lo:return"Profiler";case Ua:return"StrictMode";case $o:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gc:return(e.displayName||"Context")+".Consumer";case Kc:return(e._context.displayName||"Context")+".Provider";case Ma:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fa:return t=e.displayName||null,t!==null?t:Io(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Io(e(t))}catch{}}return null}function Sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Io(t);case 8:return t===Ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bp(e){var t=qc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ws(e){e._valueTracker||(e._valueTracker=bp(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Do(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yc(e,t){t=t.checked,t!=null&&za(e,"checked",t,!1)}function zo(e,t){Yc(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uo(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uo(e,t,n){(t!=="number"||Ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Gn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(Er(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function Xc(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jp=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(e){jp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pr[t]=Pr[e]})});function td(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pr.hasOwnProperty(e)&&Pr[e]?(""+t).trim():t+"px"}function nd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=td(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ep=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,Qn=null,qn=null;function gu(e){if(e=ls(e)){if(typeof Wo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Ci(t),Wo(e.stateNode,e.type,t))}}function rd(e){Qn?qn?qn.push(e):qn=[e]:Qn=e}function sd(){if(Qn){var e=Qn,t=qn;if(qn=Qn=null,gu(e),t)for(e=0;e<t.length;e++)gu(t[e])}}function id(e,t){return e(t)}function od(){}var ro=!1;function ad(e,t,n){if(ro)return e(t,n);ro=!0;try{return id(e,t,n)}finally{ro=!1,(Qn!==null||qn!==null)&&(od(),sd())}}function Hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ci(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Ko=!1;if(xt)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Ko=!1}function Cp(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Or=!1,Xs=null,Zs=!1,Go=null,Np={onError:function(e){Or=!0,Xs=e}};function Tp(e,t,n,r,s,i,o,a,l){Or=!1,Xs=null,Cp.apply(Np,arguments)}function Pp(e,t,n,r,s,i,o,a,l){if(Tp.apply(this,arguments),Or){if(Or){var c=Xs;Or=!1,Xs=null}else throw Error(j(198));Zs||(Zs=!0,Go=c)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vu(e){if(_n(e)!==e)throw Error(j(188))}function Op(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vu(s),e;if(i===r)return vu(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function ud(e){return e=Op(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var dd=ze.unstable_scheduleCallback,yu=ze.unstable_cancelCallback,Rp=ze.unstable_shouldYield,Lp=ze.unstable_requestPaint,ne=ze.unstable_now,$p=ze.unstable_getCurrentPriorityLevel,Ha=ze.unstable_ImmediatePriority,hd=ze.unstable_UserBlockingPriority,ei=ze.unstable_NormalPriority,Ap=ze.unstable_LowPriority,fd=ze.unstable_IdlePriority,Si=null,ct=null;function Ip(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Up,Dp=Math.log,zp=Math.LN2;function Up(e){return e>>>=0,e===0?32:31-(Dp(e)/zp|0)|0}var xs=64,ks=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Cr(a):(i&=o,i!==0&&(r=Cr(i)))}else o=n&~s,o!==0?r=Cr(o):i!==0&&(r=Cr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),s=1<<n,r|=e[n],t&=~s;return r}function Mp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Mp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Qo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function so(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function Bp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Va(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var H=0;function md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gd,Wa,vd,yd,wd,qo=!1,Ss=[],Mt=null,Ft=null,Bt=null,Vr=new Map,Wr=new Map,At=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function yr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&Wa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vp(e,t,n,r,s){switch(t){case"focusin":return Mt=yr(Mt,e,t,n,r,s),!0;case"dragenter":return Ft=yr(Ft,e,t,n,r,s),!0;case"mouseover":return Bt=yr(Bt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vr.set(i,yr(Vr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wr.set(i,yr(Wr.get(i)||null,e,t,n,r,s)),!0}return!1}function _d(e){var t=un(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,wd(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return t=ls(n),t!==null&&Wa(t),e.blockedOn=n,!1;t.shift()}return!0}function _u(e,t,n){Fs(e)&&n.delete(t)}function Wp(){qo=!1,Mt!==null&&Fs(Mt)&&(Mt=null),Ft!==null&&Fs(Ft)&&(Ft=null),Bt!==null&&Fs(Bt)&&(Bt=null),Vr.forEach(_u),Wr.forEach(_u)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Wp)))}function Kr(e){function t(s){return wr(s,e)}if(0<Ss.length){wr(Ss[0],e);for(var n=1;n<Ss.length;n++){var r=Ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&wr(Mt,e),Ft!==null&&wr(Ft,e),Bt!==null&&wr(Bt,e),Vr.forEach(t),Wr.forEach(t),n=0;n<At.length;n++)r=At[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&At.shift()}var Jn=jt.ReactCurrentBatchConfig,ni=!0;function Kp(e,t,n,r){var s=H,i=Jn.transition;Jn.transition=null;try{H=1,Ka(e,t,n,r)}finally{H=s,Jn.transition=i}}function Gp(e,t,n,r){var s=H,i=Jn.transition;Jn.transition=null;try{H=4,Ka(e,t,n,r)}finally{H=s,Jn.transition=i}}function Ka(e,t,n,r){if(ni){var s=Jo(e,t,n,r);if(s===null)mo(e,t,r,ri,n),wu(e,r);else if(Vp(s,e,t,n,r))r.stopPropagation();else if(wu(e,r),t&4&&-1<Hp.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&gd(i),i=Jo(e,t,n,r),i===null&&mo(e,t,r,ri,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mo(e,t,r,null,n)}}var ri=null;function Jo(e,t,n,r){if(ri=null,e=Ba(r),e=un(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ri=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case Ha:return 1;case hd:return 4;case ei:case Ap:return 16;case fd:return 536870912;default:return 16}default:return 16}}var zt=null,Ga=null,Bs=null;function kd(){if(Bs)return Bs;var e,t=Ga,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Bs=s.slice(e,1<r?1-r:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function xu(){return!1}function Me(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:xu,this.isPropagationStopped=xu,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Me(cr),as=ee({},cr,{view:0,detail:0}),Qp=Me(as),io,oo,_r,bi=ee({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(io=e.screenX-_r.screenX,oo=e.screenY-_r.screenY):oo=io=0,_r=e),io)},movementY:function(e){return"movementY"in e?e.movementY:oo}}),ku=Me(bi),qp=ee({},bi,{dataTransfer:0}),Jp=Me(qp),Yp=ee({},as,{relatedTarget:0}),ao=Me(Yp),Xp=ee({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=Me(Xp),em=ee({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tm=Me(em),nm=ee({},cr,{data:0}),Su=Me(nm),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=im[e])?!!t[e]:!1}function qa(){return om}var am=ee({},as,{key:function(e){if(e.key){var t=rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lm=Me(am),um=ee({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Me(um),cm=ee({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),dm=Me(cm),hm=ee({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Me(hm),pm=ee({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=Me(pm),gm=[9,13,27,32],Ja=xt&&"CompositionEvent"in window,Rr=null;xt&&"documentMode"in document&&(Rr=document.documentMode);var vm=xt&&"TextEvent"in window&&!Rr,Sd=xt&&(!Ja||Rr&&8<Rr&&11>=Rr),ju=" ",Eu=!1;function bd(e,t){switch(e){case"keyup":return gm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function ym(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(Eu=!0,ju);case"textInput":return e=t.data,e===ju&&Eu?null:e;default:return null}}function wm(e,t){if(An)return e==="compositionend"||!Ja&&bd(e,t)?(e=kd(),Bs=Ga=zt=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_m[e.type]:t==="textarea"}function Ed(e,t,n,r){rd(r),t=si(t,"onChange"),0<t.length&&(n=new Qa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lr=null,Gr=null;function xm(e){Dd(e,0)}function ji(e){var t=zn(e);if(Jc(t))return e}function km(e,t){if(e==="change")return t}var Cd=!1;if(xt){var lo;if(xt){var uo="oninput"in document;if(!uo){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),uo=typeof Nu.oninput=="function"}lo=uo}else lo=!1;Cd=lo&&(!document.documentMode||9<document.documentMode)}function Tu(){Lr&&(Lr.detachEvent("onpropertychange",Nd),Gr=Lr=null)}function Nd(e){if(e.propertyName==="value"&&ji(Gr)){var t=[];Ed(t,Gr,e,Ba(e)),ad(xm,t)}}function Sm(e,t,n){e==="focusin"?(Tu(),Lr=t,Gr=n,Lr.attachEvent("onpropertychange",Nd)):e==="focusout"&&Tu()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(Gr)}function jm(e,t){if(e==="click")return ji(t)}function Em(e,t){if(e==="input"||e==="change")return ji(t)}function Cm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Cm;function Qr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ro.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function Pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var n=Pu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pu(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=Ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ys(e.document)}return t}function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nm(e){var t=Pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(r!==null&&Ya(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ou(n,i);var o=Ou(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tm=xt&&"documentMode"in document&&11>=document.documentMode,In=null,Yo=null,$r=null,Xo=!1;function Ru(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||In==null||In!==Ys(r)||(r=In,"selectionStart"in r&&Ya(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&Qr($r,r)||($r=r,r=si(Yo,"onSelect"),0<r.length&&(t=new Qa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=In)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dn={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},co={},Od={};xt&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ei(e){if(co[e])return co[e];if(!Dn[e])return e;var t=Dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Od)return co[e]=t[n];return e}var Rd=Ei("animationend"),Ld=Ei("animationiteration"),$d=Ei("animationstart"),Ad=Ei("transitionend"),Id=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Id.set(e,t),wn(t,[e])}for(var ho=0;ho<Lu.length;ho++){var fo=Lu[ho],Pm=fo.toLowerCase(),Om=fo[0].toUpperCase()+fo.slice(1);Jt(Pm,"on"+Om)}Jt(Rd,"onAnimationEnd");Jt(Ld,"onAnimationIteration");Jt($d,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Ad,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function $u(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pp(r,t,void 0,e),e.currentTarget=null}function Dd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$u(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$u(s,a,c),i=l}}}if(Zs)throw e=Go,Zs=!1,Go=null,e}function q(e,t){var n=t[ra];n===void 0&&(n=t[ra]=new Set);var r=e+"__bubble";n.has(r)||(zd(t,e,2,!1),n.add(r))}function po(e,t,n){var r=0;t&&(r|=4),zd(n,e,r,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Es]){e[Es]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(Rm.has(n)||po(n,!1,e),po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,po("selectionchange",!1,t))}}function zd(e,t,n,r){switch(xd(t)){case 1:var s=Kp;break;case 4:s=Gp;break;default:s=Ka}n=s.bind(null,t,n,e),s=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ad(function(){var c=i,d=Ba(n),h=[];e:{var p=Id.get(e);if(p!==void 0){var y=Qa,x=e;switch(e){case"keypress":if(Hs(n)===0)break e;case"keydown":case"keyup":y=lm;break;case"focusin":x="focus",y=ao;break;case"focusout":x="blur",y=ao;break;case"beforeblur":case"afterblur":y=ao;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dm;break;case Rd:case Ld:case $d:y=Zp;break;case Ad:y=fm;break;case"scroll":y=Qp;break;case"wheel":y=mm;break;case"copy":case"cut":case"paste":y=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bu}var S=(t&4)!==0,C=!S&&e==="scroll",m=S?p!==null?p+"Capture":null:p;S=[];for(var f=c,g;f!==null;){g=f;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Hr(f,m),_!=null&&S.push(Jr(f,_,g)))),C)break;f=f.return}0<S.length&&(p=new y(p,x,null,n,d),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Vo&&(x=n.relatedTarget||n.fromElement)&&(un(x)||x[kt]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?un(x):null,x!==null&&(C=_n(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(S=ku,_="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=bu,_="onPointerLeave",m="onPointerEnter",f="pointer"),C=y==null?p:zn(y),g=x==null?p:zn(x),p=new S(_,f+"leave",y,n,d),p.target=C,p.relatedTarget=g,_=null,un(d)===c&&(S=new S(m,f+"enter",x,n,d),S.target=g,S.relatedTarget=C,_=S),C=_,y&&x)t:{for(S=y,m=x,f=0,g=S;g;g=Nn(g))f++;for(g=0,_=m;_;_=Nn(_))g++;for(;0<f-g;)S=Nn(S),f--;for(;0<g-f;)m=Nn(m),g--;for(;f--;){if(S===m||m!==null&&S===m.alternate)break t;S=Nn(S),m=Nn(m)}S=null}else S=null;y!==null&&Au(h,p,y,S,!1),x!==null&&C!==null&&Au(h,C,x,S,!0)}}e:{if(p=c?zn(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var b=km;else if(Cu(p))if(Cd)b=Em;else{b=bm;var T=Sm}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=jm);if(b&&(b=b(e,c))){Ed(h,b,n,d);break e}T&&T(e,p,c),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Uo(p,"number",p.value)}switch(T=c?zn(c):window,e){case"focusin":(Cu(T)||T.contentEditable==="true")&&(In=T,Yo=c,$r=null);break;case"focusout":$r=Yo=In=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,Ru(h,n,d);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":Ru(h,n,d)}var P;if(Ja)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else An?bd(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Sd&&n.locale!=="ko"&&(An||R!=="onCompositionStart"?R==="onCompositionEnd"&&An&&(P=kd()):(zt=d,Ga="value"in zt?zt.value:zt.textContent,An=!0)),T=si(c,R),0<T.length&&(R=new Su(R,e,null,n,d),h.push({event:R,listeners:T}),P?R.data=P:(P=jd(n),P!==null&&(R.data=P)))),(P=vm?ym(e,n):wm(e,n))&&(c=si(c,"onBeforeInput"),0<c.length&&(d=new Su("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=P))}Dd(h,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function si(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hr(e,n),i!=null&&r.unshift(Jr(e,i,s)),i=Hr(e,t),i!=null&&r.push(Jr(e,i,s))),e=e.return}return r}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Au(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Hr(n,i),l!=null&&o.unshift(Jr(n,l,a))):s||(l=Hr(n,i),l!=null&&o.push(Jr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Lm=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Iu(e){return(typeof e=="string"?e:""+e).replace(Lm,`
`).replace($m,"")}function Cs(e,t,n){if(t=Iu(t),Iu(e)!==t&&n)throw Error(j(425))}function ii(){}var Zo=null,ea=null;function ta(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var na=typeof setTimeout=="function"?setTimeout:void 0,Am=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,Im=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(Dm)}:na;function Dm(e){setTimeout(function(){throw e})}function go(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Kr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),ut="__reactFiber$"+dr,Yr="__reactProps$"+dr,kt="__reactContainer$"+dr,ra="__reactEvents$"+dr,zm="__reactListeners$"+dr,Um="__reactHandles$"+dr;function un(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zu(e);e!==null;){if(n=e[ut])return n;e=zu(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[ut]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Ci(e){return e[Yr]||null}var sa=[],Un=-1;function Yt(e){return{current:e}}function J(e){0>Un||(e.current=sa[Un],sa[Un]=null,Un--)}function G(e,t){Un++,sa[Un]=e.current,e.current=t}var qt={},ye=Yt(qt),Te=Yt(!1),pn=qt;function tr(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function oi(){J(Te),J(ye)}function Uu(e,t,n){if(ye.current!==qt)throw Error(j(168));G(ye,t),G(Te,n)}function Ud(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Sp(e)||"Unknown",s));return ee({},n,r)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,pn=ye.current,G(ye,e),G(Te,Te.current),!0}function Mu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Ud(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,J(Te),J(ye),G(ye,e)):J(Te),G(Te,n)}var vt=null,Ni=!1,vo=!1;function Md(e){vt===null?vt=[e]:vt.push(e)}function Mm(e){Ni=!0,Md(e)}function Xt(){if(!vo&&vt!==null){vo=!0;var e=0,t=H;try{var n=vt;for(H=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,Ni=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),dd(Ha,Xt),s}finally{H=t,vo=!1}}return null}var Mn=[],Fn=0,li=null,ui=0,Be=[],He=0,mn=null,yt=1,wt="";function rn(e,t){Mn[Fn++]=ui,Mn[Fn++]=li,li=e,ui=t}function Fd(e,t,n){Be[He++]=yt,Be[He++]=wt,Be[He++]=mn,mn=e;var r=yt;e=wt;var s=32-tt(r)-1;r&=~(1<<s),n+=1;var i=32-tt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yt=1<<32-tt(t)+s|n<<s|r,wt=i+e}else yt=1<<i|n<<s|r,wt=e}function Xa(e){e.return!==null&&(rn(e,1),Fd(e,1,0))}function Za(e){for(;e===li;)li=Mn[--Fn],Mn[Fn]=null,ui=Mn[--Fn],Mn[Fn]=null;for(;e===mn;)mn=Be[--He],Be[He]=null,wt=Be[--He],Be[He]=null,yt=Be[--He],Be[He]=null}var De=null,Ie=null,Y=!1,et=null;function Bd(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Ie=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:yt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Ie=null,!0):!1;default:return!1}}function ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oa(e){if(Y){var t=Ie;if(t){var n=t;if(!Fu(e,t)){if(ia(e))throw Error(j(418));t=Ht(n.nextSibling);var r=De;t&&Fu(e,t)?Bd(r,n):(e.flags=e.flags&-4097|2,Y=!1,De=e)}}else{if(ia(e))throw Error(j(418));e.flags=e.flags&-4097|2,Y=!1,De=e}}}function Bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Ns(e){if(e!==De)return!1;if(!Y)return Bu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ta(e.type,e.memoizedProps)),t&&(t=Ie)){if(ia(e))throw Hd(),Error(j(418));for(;t;)Bd(e,t),t=Ht(t.nextSibling)}if(Bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=De?Ht(e.stateNode.nextSibling):null;return!0}function Hd(){for(var e=Ie;e;)e=Ht(e.nextSibling)}function nr(){Ie=De=null,Y=!1}function el(e){et===null?et=[e]:et.push(e)}var Fm=jt.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hu(e){var t=e._init;return t(e._payload)}function Vd(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Gt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,_){return f===null||f.tag!==6?(f=bo(g,m.mode,_),f.return=m,f):(f=s(f,g),f.return=m,f)}function l(m,f,g,_){var b=g.type;return b===$n?d(m,f,g.props.children,_,g.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Rt&&Hu(b)===f.type)?(_=s(f,g.props),_.ref=xr(m,f,g),_.return=m,_):(_=Js(g.type,g.key,g.props,null,m.mode,_),_.ref=xr(m,f,g),_.return=m,_)}function c(m,f,g,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=jo(g,m.mode,_),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,_,b){return f===null||f.tag!==7?(f=fn(g,m.mode,_,b),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=bo(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:return g=Js(f.type,f.key,f.props,null,m.mode,g),g.ref=xr(m,null,f),g.return=m,g;case Ln:return f=jo(f,m.mode,g),f.return=m,f;case Rt:var _=f._init;return h(m,_(f._payload),g)}if(Er(f)||gr(f))return f=fn(f,m.mode,g,null),f.return=m,f;Ts(m,f)}return null}function p(m,f,g,_){var b=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(m,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return g.key===b?l(m,f,g,_):null;case Ln:return g.key===b?c(m,f,g,_):null;case Rt:return b=g._init,p(m,f,b(g._payload),_)}if(Er(g)||gr(g))return b!==null?null:d(m,f,g,_,null);Ts(m,g)}return null}function y(m,f,g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(f,m,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ys:return m=m.get(_.key===null?g:_.key)||null,l(f,m,_,b);case Ln:return m=m.get(_.key===null?g:_.key)||null,c(f,m,_,b);case Rt:var T=_._init;return y(m,f,g,T(_._payload),b)}if(Er(_)||gr(_))return m=m.get(g)||null,d(f,m,_,b,null);Ts(f,_)}return null}function x(m,f,g,_){for(var b=null,T=null,P=f,R=f=0,W=null;P!==null&&R<g.length;R++){P.index>R?(W=P,P=null):W=P.sibling;var z=p(m,P,g[R],_);if(z===null){P===null&&(P=W);break}e&&P&&z.alternate===null&&t(m,P),f=i(z,f,R),T===null?b=z:T.sibling=z,T=z,P=W}if(R===g.length)return n(m,P),Y&&rn(m,R),b;if(P===null){for(;R<g.length;R++)P=h(m,g[R],_),P!==null&&(f=i(P,f,R),T===null?b=P:T.sibling=P,T=P);return Y&&rn(m,R),b}for(P=r(m,P);R<g.length;R++)W=y(P,m,R,g[R],_),W!==null&&(e&&W.alternate!==null&&P.delete(W.key===null?R:W.key),f=i(W,f,R),T===null?b=W:T.sibling=W,T=W);return e&&P.forEach(function(V){return t(m,V)}),Y&&rn(m,R),b}function S(m,f,g,_){var b=gr(g);if(typeof b!="function")throw Error(j(150));if(g=b.call(g),g==null)throw Error(j(151));for(var T=b=null,P=f,R=f=0,W=null,z=g.next();P!==null&&!z.done;R++,z=g.next()){P.index>R?(W=P,P=null):W=P.sibling;var V=p(m,P,z.value,_);if(V===null){P===null&&(P=W);break}e&&P&&V.alternate===null&&t(m,P),f=i(V,f,R),T===null?b=V:T.sibling=V,T=V,P=W}if(z.done)return n(m,P),Y&&rn(m,R),b;if(P===null){for(;!z.done;R++,z=g.next())z=h(m,z.value,_),z!==null&&(f=i(z,f,R),T===null?b=z:T.sibling=z,T=z);return Y&&rn(m,R),b}for(P=r(m,P);!z.done;R++,z=g.next())z=y(P,m,R,z.value,_),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?R:z.key),f=i(z,f,R),T===null?b=z:T.sibling=z,T=z);return e&&P.forEach(function(ie){return t(m,ie)}),Y&&rn(m,R),b}function C(m,f,g,_){if(typeof g=="object"&&g!==null&&g.type===$n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:e:{for(var b=g.key,T=f;T!==null;){if(T.key===b){if(b=g.type,b===$n){if(T.tag===7){n(m,T.sibling),f=s(T,g.props.children),f.return=m,m=f;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Rt&&Hu(b)===T.type){n(m,T.sibling),f=s(T,g.props),f.ref=xr(m,T,g),f.return=m,m=f;break e}n(m,T);break}else t(m,T);T=T.sibling}g.type===$n?(f=fn(g.props.children,m.mode,_,g.key),f.return=m,m=f):(_=Js(g.type,g.key,g.props,null,m.mode,_),_.ref=xr(m,f,g),_.return=m,m=_)}return o(m);case Ln:e:{for(T=g.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=jo(g,m.mode,_),f.return=m,m=f}return o(m);case Rt:return T=g._init,C(m,f,T(g._payload),_)}if(Er(g))return x(m,f,g,_);if(gr(g))return S(m,f,g,_);Ts(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=bo(g,m.mode,_),f.return=m,m=f),o(m)):n(m,f)}return C}var rr=Vd(!0),Wd=Vd(!1),ci=Yt(null),di=null,Bn=null,tl=null;function nl(){tl=Bn=di=null}function rl(e){var t=ci.current;J(ci),e._currentValue=t}function aa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){di=e,tl=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(di===null)throw Error(j(308));Bn=e,di.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var cn=null;function sl(e){cn===null?cn=[e]:cn.push(e)}function Kd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sl(t)):(n.next=s.next,s.next=n),t.interleaved=n,St(e,r)}function St(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lt=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,St(e,n)}return s=r.interleaved,s===null?(t.next=t,sl(r)):(t.next=s.next,s.next=t),r.interleaved=t,St(e,n)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Va(e,n)}}function Vu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,S=a;switch(p=t,y=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){h=x.call(y,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,p=typeof x=="function"?x.call(y,h,p):x,p==null)break e;h=ee({},h,p);break e;case 2:Lt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=h}}function Wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var us={},dt=Yt(us),Xr=Yt(us),Zr=Yt(us);function dn(e){if(e===us)throw Error(j(174));return e}function ol(e,t){switch(G(Zr,t),G(Xr,e),G(dt,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fo(t,e)}J(dt),G(dt,t)}function sr(){J(dt),J(Xr),J(Zr)}function Qd(e){dn(Zr.current);var t=dn(dt.current),n=Fo(t,e.type);t!==n&&(G(Xr,e),G(dt,n))}function al(e){Xr.current===e&&(J(dt),J(Xr))}var X=Yt(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function ll(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Ws=jt.ReactCurrentDispatcher,wo=jt.ReactCurrentBatchConfig,gn=0,Z=null,ae=null,ce=null,pi=!1,Ar=!1,es=0,Bm=0;function me(){throw Error(j(321))}function ul(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function cl(e,t,n,r,s,i){if(gn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?Km:Gm,e=n(r,s),Ar){i=0;do{if(Ar=!1,es=0,25<=i)throw Error(j(301));i+=1,ce=ae=null,t.updateQueue=null,Ws.current=Qm,e=n(r,s)}while(Ar)}if(Ws.current=mi,t=ae!==null&&ae.next!==null,gn=0,ce=ae=Z=null,pi=!1,t)throw Error(j(300));return e}function dl(){var e=es!==0;return es=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=e:ce=ce.next=e,ce}function Qe(){if(ae===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ce===null?Z.memoizedState:ce.next;if(t!==null)ce=t,ae=e;else{if(e===null)throw Error(j(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?Z.memoizedState=ce=e:ce=ce.next=e}return ce}function ts(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=Qe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((gn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Z.lanes|=d,vn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rt(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,vn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=Qe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);rt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qd(){}function Jd(e,t){var n=Z,r=Qe(),s=t(),i=!rt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,hl(Zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,ns(9,Xd.bind(null,n,r,s,t),void 0,null),de===null)throw Error(j(349));gn&30||Yd(n,t,s)}return s}function Yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,eh(t)&&th(e)}function Zd(e,t,n){return n(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function th(e){var t=St(e,1);t!==null&&nt(t,e,1,-1)}function Ku(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Wm.bind(null,Z,e),[t.memoizedState,e]}function ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nh(){return Qe().memoizedState}function Ks(e,t,n,r){var s=lt();Z.flags|=e,s.memoizedState=ns(1|t,n,void 0,r===void 0?null:r)}function Ti(e,t,n,r){var s=Qe();r=r===void 0?null:r;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,r!==null&&ul(r,o.deps)){s.memoizedState=ns(t,n,i,r);return}}Z.flags|=e,s.memoizedState=ns(1|t,n,i,r)}function Gu(e,t){return Ks(8390656,8,e,t)}function hl(e,t){return Ti(2048,8,e,t)}function rh(e,t){return Ti(4,2,e,t)}function sh(e,t){return Ti(4,4,e,t)}function ih(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4,4,ih.bind(null,t,e),n)}function fl(){}function ah(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uh(e,t,n){return gn&21?(rt(n,t)||(n=pd(),Z.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function Hm(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var r=wo.transition;wo.transition={};try{e(!1),t()}finally{H=n,wo.transition=r}}function ch(){return Qe().memoizedState}function Vm(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dh(e))hh(t,n);else if(n=Kd(e,t,n,r),n!==null){var s=ke();nt(n,e,r,s),fh(n,t,r)}}function Wm(e,t,n){var r=Kt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(e))hh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rt(a,o)){var l=t.interleaved;l===null?(s.next=s,sl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Kd(e,t,s,r),n!==null&&(s=ke(),nt(n,e,r,s),fh(n,t,r))}}function dh(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function hh(e,t){Ar=pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Va(e,n)}}var mi={readContext:Ge,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Km={readContext:Ge,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Gu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4194308,4,ih.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vm.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:fl,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=Hm.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=lt();if(Y){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),de===null)throw Error(j(349));gn&30||Yd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Gu(Zd.bind(null,r,i,e),[e]),r.flags|=2048,ns(9,Xd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=lt(),t=de.identifierPrefix;if(Y){var n=wt,r=yt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=es++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gm={readContext:Ge,useCallback:ah,useContext:Ge,useEffect:hl,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:lh,useReducer:_o,useRef:nh,useState:function(){return _o(ts)},useDebugValue:fl,useDeferredValue:function(e){var t=Qe();return uh(t,ae.memoizedState,e)},useTransition:function(){var e=_o(ts)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Jd,useId:ch,unstable_isNewReconciler:!1},Qm={readContext:Ge,useCallback:ah,useContext:Ge,useEffect:hl,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:lh,useReducer:xo,useRef:nh,useState:function(){return xo(ts)},useDebugValue:fl,useDeferredValue:function(e){var t=Qe();return ae===null?t.memoizedState=e:uh(t,ae.memoizedState,e)},useTransition:function(){var e=xo(ts)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Jd,useId:ch,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function la(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pi={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Kt(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(nt(t,e,s,r),Vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Kt(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(nt(t,e,s,r),Vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Kt(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(nt(t,e,r,n),Vs(t,e,r))}};function Qu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,i):!0}function ph(e,t,n){var r=!1,s=qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Pe(t)?pn:ye.current,r=t.contextTypes,i=(r=r!=null)?tr(e,s):qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Pe(t)?pn:ye.current,s.context=tr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(la(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pi.enqueueReplaceState(s,s.state,null),hi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ir(e,t){try{var n="",r=t;do n+=kp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ca(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qm=typeof WeakMap=="function"?WeakMap:Map;function mh(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vi||(vi=!0,_a=r),ca(e,t)},n}function gh(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ca(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ca(e,t),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ju(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ug.bind(null,e,t,n),t.then(e,e))}function Yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var Jm=jt.ReactCurrentOwner,Ne=!1;function xe(e,t,n,r){t.child=e===null?Wd(t,null,n,r):rr(t,e.child,n,r)}function Zu(e,t,n,r,s){n=n.render;var i=t.ref;return Yn(t,s),r=cl(e,t,n,r,i,s),n=dl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&n&&Xa(t),t.flags|=1,xe(e,t,r,s),t.child)}function ec(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!xl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vh(e,t,i,r,s)):(e=Js(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(o,r)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Qr(i,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,bt(e,t,s)}return da(e,t,n,r,s)}function yh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Vn,Ae),Ae|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Vn,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,G(Vn,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,G(Vn,Ae),Ae|=r;return xe(e,t,s,n),t.child}function wh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function da(e,t,n,r,s){var i=Pe(n)?pn:ye.current;return i=tr(t,i),Yn(t,s),n=cl(e,t,n,r,i,s),r=dl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&r&&Xa(t),t.flags|=1,xe(e,t,n,s),t.child)}function tc(e,t,n,r,s){if(Pe(n)){var i=!0;ai(t)}else i=!1;if(Yn(t,s),t.stateNode===null)Gs(e,t),ph(t,n,r),ua(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=Pe(n)?pn:ye.current,c=tr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qu(t,o,r,c),Lt=!1;var p=t.memoizedState;o.state=p,hi(t,r,o,s),l=t.memoizedState,a!==r||p!==l||Te.current||Lt?(typeof d=="function"&&(la(t,n,d,r),l=t.memoizedState),(a=Lt||Qu(t,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Gd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Je(t.type,a),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=Pe(n)?pn:ye.current,l=tr(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&qu(t,o,r,l),Lt=!1,p=t.memoizedState,o.state=p,hi(t,r,o,s);var x=t.memoizedState;a!==h||p!==x||Te.current||Lt?(typeof y=="function"&&(la(t,n,y,r),x=t.memoizedState),(c=Lt||Qu(t,n,c,r,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ha(e,t,n,r,i,s)}function ha(e,t,n,r,s,i){wh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Mu(t,n,!1),bt(e,t,i);r=t.stateNode,Jm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rr(t,e.child,null,i),t.child=rr(t,null,a,i)):xe(e,t,a,i),t.memoizedState=r.state,s&&Mu(t,n,!0),t.child}function _h(e){var t=e.stateNode;t.pendingContext?Uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uu(e,t.context,!1),ol(e,t.containerInfo)}function nc(e,t,n,r,s){return nr(),el(s),t.flags|=256,xe(e,t,n,r),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function xh(e,t,n){var r=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(X,s&1),e===null)return oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Li(o,r,0,null),e=fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pa(n),t.memoizedState=fa,e):pl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ym(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gt(a,i):(i=fn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?pa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fa,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pl(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,n,r){return r!==null&&el(r),rr(t,e.child,null,n),e=pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ym(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ko(Error(j(422))),Ps(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Li({mode:"visible",children:r.children},s,0,null),i=fn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&rr(t,e.child,null,o),t.child.memoizedState=pa(o),t.memoizedState=fa,i);if(!(t.mode&1))return Ps(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=ko(i,r,void 0),Ps(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ne||a){if(r=de,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),nt(r,e,s,-1))}return _l(),r=ko(Error(j(421))),Ps(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Ht(s.nextSibling),De=t,Y=!0,et=null,e!==null&&(Be[He++]=yt,Be[He++]=wt,Be[He++]=mn,yt=e.id,wt=e.overflow,mn=t),t=pl(t,r.children),t.flags|=4096,t)}function rc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),aa(e.return,t,n)}function So(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xe(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rc(e,n,t);else if(e.tag===19)rc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(X,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&fi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),So(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&fi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}So(t,!0,n,null,i);break;case"together":So(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xm(e,t,n){switch(t.tag){case 3:_h(t),nr();break;case 5:Qd(t);break;case 1:Pe(t.type)&&ai(t);break;case 4:ol(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;G(ci,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?xh(e,t,n):(G(X,X.current&1),e=bt(e,t,n),e!==null?e.sibling:null);G(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,yh(e,t,n)}return bt(e,t,n)}var Sh,ma,bh,jh;Sh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ma=function(){};bh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dn(dt.current);var i=null;switch(n){case"input":s=Do(e,s),r=Do(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Mo(e,s),r=Mo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ii)}Bo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};jh=function(e,t,n,r){n!==r&&(t.flags|=4)};function kr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zm(e,t,n){var r=t.pendingProps;switch(Za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&oi(),ge(t),null;case 3:return r=t.stateNode,sr(),J(Te),J(ye),ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Sa(et),et=null))),ma(e,t),ge(t),null;case 5:al(t);var s=dn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)bh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return ge(t),null}if(e=dn(dt.current),Ns(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ut]=t,r[Yr]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<Nr.length;s++)q(Nr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":hu(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":pu(r,i),q("invalid",r)}Bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cs(r.textContent,a,e),s=["children",""+a]):Fr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":ws(r),fu(r,i,!0);break;case"textarea":ws(r),mu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ii)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ut]=t,e[Yr]=r,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ho(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Nr.length;s++)q(Nr[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":hu(e,r),s=Do(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),q("invalid",e);break;case"textarea":pu(e,r),s=Mo(e,r),q("invalid",e);break;default:s=r}Bo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?nd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ed(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Br(e,l):typeof l=="number"&&Br(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&za(e,i,l,o))}switch(n){case"input":ws(e),fu(e,r,!1);break;case"textarea":ws(e),mu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)jh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=dn(Zr.current),dn(dt.current),Ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[ut]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ut]=t,t.stateNode=r}return ge(t),null;case 13:if(J(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ie!==null&&t.mode&1&&!(t.flags&128))Hd(),nr(),t.flags|=98560,i=!1;else if(i=Ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ut]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else et!==null&&(Sa(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?le===0&&(le=3):_l())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return sr(),ma(e,t),e===null&&qr(t.stateNode.containerInfo),ge(t),null;case 10:return rl(t.type._context),ge(t),null;case 17:return Pe(t.type)&&oi(),ge(t),null;case 19:if(J(X),i=t.memoizedState,i===null)return ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)kr(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fi(e),o!==null){for(t.flags|=128,kr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>or&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304)}else{if(!r)if(e=fi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return ge(t),null}else 2*ne()-i.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,kr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=X.current,G(X,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return wl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function eg(e,t){switch(Za(t),t.tag){case 1:return Pe(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sr(),J(Te),J(ye),ll(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return al(t),null;case 13:if(J(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(X),null;case 4:return sr(),null;case 10:return rl(t.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var Os=!1,ve=!1,tg=typeof WeakSet=="function"?WeakSet:Set,O=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(e,t,r)}else n.current=null}function ga(e,t,n){try{n()}catch(r){te(e,t,r)}}var sc=!1;function ng(e,t){if(Zo=ni,e=Pd(),Ya(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:e,selectionRange:n},ni=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,C=x.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:Je(t.type,S),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=sc,sc=!1,x}function Ir(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ga(t,n,i)}s=s.next}while(s!==r)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[Yr],delete t[ra],delete t[zm],delete t[Um])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ii));else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wa(e,t,n),e=e.sibling;e!==null;)wa(e,t,n),e=e.sibling}var he=null,Ye=!1;function Nt(e,t,n){for(n=n.child;n!==null;)Nh(e,t,n),n=n.sibling}function Nh(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Si,n)}catch{}switch(n.tag){case 5:ve||Hn(n,t);case 6:var r=he,s=Ye;he=null,Nt(e,t,n),he=r,Ye=s,he!==null&&(Ye?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Ye?(e=he,n=n.stateNode,e.nodeType===8?go(e.parentNode,n):e.nodeType===1&&go(e,n),Kr(e)):go(he,n.stateNode));break;case 4:r=he,s=Ye,he=n.stateNode.containerInfo,Ye=!0,Nt(e,t,n),he=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ga(n,t,o),s=s.next}while(s!==r)}Nt(e,t,n);break;case 1:if(!ve&&(Hn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,t,a)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Nt(e,t,n),ve=r):Nt(e,t,n);break;default:Nt(e,t,n)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tg),t.forEach(function(r){var s=dg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Ye=!1;break e;case 3:he=a.stateNode.containerInfo,Ye=!0;break e;case 4:he=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(he===null)throw Error(j(160));Nh(i,o,s),he=null,Ye=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Th(t,e),t=t.sibling}function Th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),ot(e),r&4){try{Ir(3,e,e.return),Oi(3,e)}catch(S){te(e,e.return,S)}try{Ir(5,e,e.return)}catch(S){te(e,e.return,S)}}break;case 1:qe(t,e),ot(e),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(qe(t,e),ot(e),r&512&&n!==null&&Hn(n,n.return),e.flags&32){var s=e.stateNode;try{Br(s,"")}catch(S){te(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Yc(s,i),Ho(a,o);var c=Ho(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?nd(s,h):d==="dangerouslySetInnerHTML"?ed(s,h):d==="children"?Br(s,h):za(s,d,h,c)}switch(a){case"input":zo(s,i);break;case"textarea":Xc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Gn(s,!!i.multiple,i.defaultValue,!0):Gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yr]=i}catch(S){te(e,e.return,S)}}break;case 6:if(qe(t,e),ot(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){te(e,e.return,S)}}break;case 3:if(qe(t,e),ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kr(t.containerInfo)}catch(S){te(e,e.return,S)}break;case 4:qe(t,e),ot(e);break;case 13:qe(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vl=ne())),r&4&&oc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||d,qe(t,e),ve=c):qe(t,e),ot(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(p=O,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ir(4,p,p.return);break;case 1:Hn(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){te(r,n,S)}}break;case 5:Hn(p,p.return);break;case 22:if(p.memoizedState!==null){lc(h);continue}}y!==null?(y.return=p,O=y):lc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=td("display",o))}catch(S){te(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){te(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(t,e),ot(e),r&4&&oc(e);break;case 21:break;default:qe(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ch(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Br(s,""),r.flags&=-33);var i=ic(e);wa(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ic(e);ya(e,a,o);break;default:throw Error(j(161))}}catch(l){te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rg(e,t,n){O=e,Ph(e)}function Ph(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Os;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ve;a=Os;var c=ve;if(Os=o,(ve=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?uc(s):l!==null?(l.return=o,O=l):uc(s);for(;i!==null;)O=i,Ph(i),i=i.sibling;O=s,Os=a,ve=c}ac(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):ac(e)}}function ac(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Oi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ve||t.flags&512&&va(t)}catch(p){te(t,t.return,p)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function lc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function uc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(l){te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){te(t,s,l)}}var i=t.return;try{va(t)}catch(l){te(t,i,l)}break;case 5:var o=t.return;try{va(t)}catch(l){te(t,o,l)}}}catch(l){te(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var sg=Math.ceil,gi=jt.ReactCurrentDispatcher,ml=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,F=0,de=null,se=null,fe=0,Ae=0,Vn=Yt(0),le=0,rs=null,vn=0,Ri=0,gl=0,Dr=null,Ee=null,vl=0,or=1/0,mt=null,vi=!1,_a=null,Wt=null,Rs=!1,Ut=null,yi=0,zr=0,xa=null,Qs=-1,qs=0;function ke(){return F&6?ne():Qs!==-1?Qs:Qs=ne()}function Kt(e){return e.mode&1?F&2&&fe!==0?fe&-fe:Fm.transition!==null?(qs===0&&(qs=pd()),qs):(e=H,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function nt(e,t,n,r){if(50<zr)throw zr=0,xa=null,Error(j(185));os(e,n,r),(!(F&2)||e!==de)&&(e===de&&(!(F&2)&&(Ri|=n),le===4&&It(e,fe)),Oe(e,r),n===1&&F===0&&!(t.mode&1)&&(or=ne()+500,Ni&&Xt()))}function Oe(e,t){var n=e.callbackNode;Fp(e,t);var r=ti(e,e===de?fe:0);if(r===0)n!==null&&yu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yu(n),t===1)e.tag===0?Mm(cc.bind(null,e)):Md(cc.bind(null,e)),Im(function(){!(F&6)&&Xt()}),n=null;else{switch(md(r)){case 1:n=Ha;break;case 4:n=hd;break;case 16:n=ei;break;case 536870912:n=fd;break;default:n=ei}n=zh(n,Oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oh(e,t){if(Qs=-1,qs=0,F&6)throw Error(j(327));var n=e.callbackNode;if(Xn()&&e.callbackNode!==n)return null;var r=ti(e,e===de?fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wi(e,r);else{t=r;var s=F;F|=2;var i=Lh();(de!==e||fe!==t)&&(mt=null,or=ne()+500,hn(e,t));do try{ag();break}catch(a){Rh(e,a)}while(!0);nl(),gi.current=i,F=s,se!==null?t=0:(de=null,fe=0,t=le)}if(t!==0){if(t===2&&(s=Qo(e),s!==0&&(r=s,t=ka(e,s))),t===1)throw n=rs,hn(e,0),It(e,r),Oe(e,ne()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!ig(s)&&(t=wi(e,r),t===2&&(i=Qo(e),i!==0&&(r=i,t=ka(e,i))),t===1))throw n=rs,hn(e,0),It(e,r),Oe(e,ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:sn(e,Ee,mt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=vl+500-ne(),10<t)){if(ti(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=na(sn.bind(null,e,Ee,mt),t);break}sn(e,Ee,mt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-tt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sg(r/1960))-r,10<r){e.timeoutHandle=na(sn.bind(null,e,Ee,mt),r);break}sn(e,Ee,mt);break;case 5:sn(e,Ee,mt);break;default:throw Error(j(329))}}}return Oe(e,ne()),e.callbackNode===n?Oh.bind(null,e):null}function ka(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&Sa(t)),e}function Sa(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function ig(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~gl,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(F&6)throw Error(j(327));Xn();var t=ti(e,0);if(!(t&1))return Oe(e,ne()),null;var n=wi(e,t);if(e.tag!==0&&n===2){var r=Qo(e);r!==0&&(t=r,n=ka(e,r))}if(n===1)throw n=rs,hn(e,0),It(e,t),Oe(e,ne()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Ee,mt),Oe(e,ne()),null}function yl(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(or=ne()+500,Ni&&Xt())}}function yn(e){Ut!==null&&Ut.tag===0&&!(F&6)&&Xn();var t=F;F|=1;var n=We.transition,r=H;try{if(We.transition=null,H=1,e)return e()}finally{H=r,We.transition=n,F=t,!(F&6)&&Xt()}}function wl(){Ae=Vn.current,J(Vn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Am(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oi();break;case 3:sr(),J(Te),J(ye),ll();break;case 5:al(r);break;case 4:sr();break;case 13:J(X);break;case 19:J(X);break;case 10:rl(r.type._context);break;case 22:case 23:wl()}n=n.return}if(de=e,se=e=Gt(e.current,null),fe=Ae=t,le=0,rs=null,gl=Ri=vn=0,Ee=Dr=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cn=null}return e}function Rh(e,t){do{var n=se;try{if(nl(),Ws.current=mi,pi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pi=!1}if(gn=0,ce=ae=Z=null,Ar=!1,es=0,ml.current=null,n===null||n.return===null){le=1,rs=t,se=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Yu(o);if(y!==null){y.flags&=-257,Xu(y,o,a,i,t),y.mode&1&&Ju(i,c,t),t=y,l=c;var x=t.updateQueue;if(x===null){var S=new Set;S.add(l),t.updateQueue=S}else x.add(l);break e}else{if(!(t&1)){Ju(i,c,t),_l();break e}l=Error(j(426))}}else if(Y&&a.mode&1){var C=Yu(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Xu(C,o,a,i,t),el(ir(l,a));break e}}i=l=ir(l,a),le!==4&&(le=2),Dr===null?Dr=[i]:Dr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=mh(i,l,t);Vu(i,m);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=gh(i,a,t);Vu(i,_);break e}}i=i.return}while(i!==null)}Ah(n)}catch(b){t=b,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function Lh(){var e=gi.current;return gi.current=mi,e===null?mi:e}function _l(){(le===0||le===3||le===2)&&(le=4),de===null||!(vn&268435455)&&!(Ri&268435455)||It(de,fe)}function wi(e,t){var n=F;F|=2;var r=Lh();(de!==e||fe!==t)&&(mt=null,hn(e,t));do try{og();break}catch(s){Rh(e,s)}while(!0);if(nl(),F=n,gi.current=r,se!==null)throw Error(j(261));return de=null,fe=0,le}function og(){for(;se!==null;)$h(se)}function ag(){for(;se!==null&&!Rp();)$h(se)}function $h(e){var t=Dh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Ah(e):se=t,ml.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eg(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,se=null;return}}else if(n=Zm(n,t,Ae),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);le===0&&(le=5)}function sn(e,t,n){var r=H,s=We.transition;try{We.transition=null,H=1,lg(e,t,n,r)}finally{We.transition=s,H=r}return null}function lg(e,t,n,r){do Xn();while(Ut!==null);if(F&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bp(e,i),e===de&&(se=de=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rs||(Rs=!0,zh(ei,function(){return Xn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=H;H=1;var a=F;F|=4,ml.current=null,ng(e,n),Th(n,e),Nm(ea),ni=!!Zo,ea=Zo=null,e.current=n,rg(n),Lp(),F=a,H=o,We.transition=i}else e.current=n;if(Rs&&(Rs=!1,Ut=e,yi=s),i=e.pendingLanes,i===0&&(Wt=null),Ip(n.stateNode),Oe(e,ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=_a,_a=null,e;return yi&1&&e.tag!==0&&Xn(),i=e.pendingLanes,i&1?e===xa?zr++:(zr=0,xa=e):zr=0,Xt(),null}function Xn(){if(Ut!==null){var e=md(yi),t=We.transition,n=H;try{if(We.transition=null,H=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,yi=0,F&6)throw Error(j(331));var s=F;for(F|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Ir(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var p=d.sibling,y=d.return;if(Eh(d),d===c){O=null;break}if(p!==null){p.return=y,O=p;break}O=y}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ir(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oi(9,a)}}catch(b){te(a,a.return,b)}if(a===o){O=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,O=_;break e}O=a.return}}if(F=s,Xt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Si,e)}catch{}r=!0}return r}finally{H=n,We.transition=t}}return!1}function dc(e,t,n){t=ir(n,t),t=mh(e,t,1),e=Vt(e,t,1),t=ke(),e!==null&&(os(e,1,t),Oe(e,t))}function te(e,t,n){if(e.tag===3)dc(e,e,n);else for(;t!==null;){if(t.tag===3){dc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){e=ir(n,e),e=gh(t,e,1),t=Vt(t,e,1),e=ke(),t!==null&&(os(t,1,e),Oe(t,e));break}}t=t.return}}function ug(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(fe&n)===n&&(le===4||le===3&&(fe&130023424)===fe&&500>ne()-vl?hn(e,0):gl|=n),Oe(e,t)}function Ih(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var n=ke();e=St(e,t),e!==null&&(os(e,t,n),Oe(e,n))}function cg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ih(e,n)}function dg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Ih(e,n)}var Dh;Dh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,Xm(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,Y&&t.flags&1048576&&Fd(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var s=tr(t,ye.current);Yn(t,n),s=cl(null,t,r,e,s,n);var i=dl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(r)?(i=!0,ai(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,il(t),s.updater=Pi,t.stateNode=s,s._reactInternals=t,ua(t,r,e,n),t=ha(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Xa(t),xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=fg(r),e=Je(r,e),s){case 0:t=da(null,t,r,e,n);break e;case 1:t=tc(null,t,r,e,n);break e;case 11:t=Zu(null,t,r,e,n);break e;case 14:t=ec(null,t,r,Je(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),da(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),tc(e,t,r,s,n);case 3:e:{if(_h(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Gd(e,t),hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ir(Error(j(423)),t),t=nc(e,t,r,n,s);break e}else if(r!==s){s=ir(Error(j(424)),t),t=nc(e,t,r,n,s);break e}else for(Ie=Ht(t.stateNode.containerInfo.firstChild),De=t,Y=!0,et=null,n=Wd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),r===s){t=bt(e,t,n);break e}xe(e,t,r,n)}t=t.child}return t;case 5:return Qd(t),e===null&&oa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ta(r,s)?o=null:i!==null&&ta(r,i)&&(t.flags|=32),wh(e,t),xe(e,t,o,n),t.child;case 6:return e===null&&oa(t),null;case 13:return xh(e,t,n);case 4:return ol(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rr(t,null,r,n):xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),Zu(e,t,r,s,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,G(ci,r._currentValue),r._currentValue=o,i!==null)if(rt(i.value,o)){if(i.children===s.children&&!Te.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_t(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),aa(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),aa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Yn(t,n),s=Ge(s),r=r(s),t.flags|=1,xe(e,t,r,n),t.child;case 14:return r=t.type,s=Je(r,t.pendingProps),s=Je(r.type,s),ec(e,t,r,s,n);case 15:return vh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),Gs(e,t),t.tag=1,Pe(r)?(e=!0,ai(t)):e=!1,Yn(t,n),ph(t,r,s),ua(t,r,s,n),ha(null,t,r,!0,e,n);case 19:return kh(e,t,n);case 22:return yh(e,t,n)}throw Error(j(156,t.tag))};function zh(e,t){return dd(e,t)}function hg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new hg(e,t,n,r)}function xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fg(e){if(typeof e=="function")return xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ma)return 11;if(e===Fa)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Js(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")xl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $n:return fn(n.children,s,i,t);case Ua:o=8,s|=8;break;case Lo:return e=Ve(12,n,t,s|2),e.elementType=Lo,e.lanes=i,e;case $o:return e=Ve(13,n,t,s),e.elementType=$o,e.lanes=i,e;case Ao:return e=Ve(19,n,t,s),e.elementType=Ao,e.lanes=i,e;case Qc:return Li(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kc:o=10;break e;case Gc:o=9;break e;case Ma:o=11;break e;case Fa:o=14;break e;case Rt:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ve(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fn(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Li(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=Qc,e.lanes=n,e.stateNode={isHidden:!1},e}function bo(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function jo(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kl(e,t,n,r,s,i,o,a,l){return e=new pg(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(i),e}function mg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uh(e){if(!e)return qt;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Pe(n))return Ud(e,n,t)}return t}function Mh(e,t,n,r,s,i,o,a,l){return e=kl(n,r,!0,e,s,i,o,a,l),e.context=Uh(null),n=e.current,r=ke(),s=Kt(n),i=_t(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,os(e,s,r),Oe(e,r),e}function $i(e,t,n,r){var s=t.current,i=ke(),o=Kt(s);return n=Uh(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,o),e!==null&&(nt(e,s,o,i),Vs(e,s,o)),o}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sl(e,t){hc(e,t),(e=e.alternate)&&hc(e,t)}function gg(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function bl(e){this._internalRoot=e}Ai.prototype.render=bl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));$i(e,t,null,null)};Ai.prototype.unmount=bl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){$i(null,e,null,null)}),t[kt]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&_d(e)}};function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fc(){}function vg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=_i(o);i.call(c)}}var o=Mh(t,r,e,0,null,!1,!1,"",fc);return e._reactRootContainer=o,e[kt]=o.current,qr(e.nodeType===8?e.parentNode:e),yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=_i(l);a.call(c)}}var l=kl(e,0,!1,null,null,!1,!1,"",fc);return e._reactRootContainer=l,e[kt]=l.current,qr(e.nodeType===8?e.parentNode:e),yn(function(){$i(t,l,n,r)}),l}function Di(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_i(o);a.call(l)}}$i(t,o,e,s)}else o=vg(n,t,e,s,r);return _i(o)}gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(Va(t,n|1),Oe(t,ne()),!(F&6)&&(or=ne()+500,Xt()))}break;case 13:yn(function(){var r=St(e,1);if(r!==null){var s=ke();nt(r,e,1,s)}}),Sl(e,1)}};Wa=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var n=ke();nt(t,e,134217728,n)}Sl(e,134217728)}};vd=function(e){if(e.tag===13){var t=Kt(e),n=St(e,t);if(n!==null){var r=ke();nt(n,e,t,r)}Sl(e,t)}};yd=function(){return H};wd=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};Wo=function(e,t,n){switch(t){case"input":if(zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ci(r);if(!s)throw Error(j(90));Jc(r),zo(r,s)}}}break;case"textarea":Xc(e,n);break;case"select":t=n.value,t!=null&&Gn(e,!!n.multiple,t,!1)}};id=yl;od=yn;var yg={usingClientEntryPoint:!1,Events:[ls,zn,Ci,rd,sd,yl]},Sr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Si=Ls.inject(wg),ct=Ls}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(t))throw Error(j(200));return mg(e,t,null,n)};Ue.createRoot=function(e,t){if(!jl(e))throw Error(j(299));var n=!1,r="",s=Fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kl(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,qr(e.nodeType===8?e.parentNode:e),new bl(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return yn(e)};Ue.hydrate=function(e,t,n){if(!Ii(t))throw Error(j(200));return Di(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!jl(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mh(t,null,e,1,n??null,s,!1,i,o),e[kt]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ai(t)};Ue.render=function(e,t,n){if(!Ii(t))throw Error(j(200));return Di(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(j(40));return e._reactRootContainer?(yn(function(){Di(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};Ue.unstable_batchedUpdates=yl;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ii(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Di(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bh)}catch(e){console.error(e)}}Bh(),Bc.exports=Ue;var _g=Bc.exports,Hh,pc=_g;Hh=pc.createRoot,pc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>N.createElement("svg",{ref:d,...xg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kg(e)}`,a].join(" "),...c},[...t.map(([h,p])=>N.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Re("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Re("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rg="modulepreload",Lg=function(e){return"/battle/"+e},vc={},ar=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Lg(l),l in vc)return;vc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Rg,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},$g=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class El extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ag extends El{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ig extends El{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dg extends El{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ba;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ba||(ba={}));var zg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Ug{constructor(t,{headers:n={},customFetch:r,region:s=ba.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$g(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return zg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Ag(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ig(d);if(!d.ok)throw new Dg(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},Cl={},zi={},cs={},Ui={},Mi={},Mg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lr=Mg();const Fg=lr.fetch,Wh=lr.fetch.bind(lr),Kh=lr.Headers,Bg=lr.Request,Hg=lr.Response,hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kh,Request:Bg,Response:Hg,default:Wh,fetch:Fg},Symbol.toStringTag,{value:"Module"})),Vg=Gf(hr);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});let Wg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fi.default=Wg;var Gh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const Kg=Gh(Vg),Gg=Gh(Fi);let Qg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Kg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,y="OK")}catch{i.status===404&&S===""?(p=204,y="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&this.shouldThrowOnError)throw new Gg.default(c)}return{error:c,data:d,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Mi.default=Qg;var qg=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const Jg=qg(Mi);let Yg=class extends Jg.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ui.default=Yg;var Xg=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});const Zg=Xg(Ui);let ev=class extends Zg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};cs.default=ev;var tv=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});const br=tv(cs);let nv=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new br.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new br.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new br.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zi.default=nv;var Bi={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.version=void 0;Hi.version="0.0.0-automated";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.DEFAULT_HEADERS=void 0;const rv=Hi;Bi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rv.version}`};var Qh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const sv=Qh(zi),iv=Qh(cs),ov=Bi;let av=class qh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ov.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new sv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new iv.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Cl.default=av;var fr=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Jh=fr(Cl);Ce.PostgrestClient=Jh.default;const Yh=fr(zi);Ce.PostgrestQueryBuilder=Yh.default;const Xh=fr(cs);Ce.PostgrestFilterBuilder=Xh.default;const Zh=fr(Ui);Ce.PostgrestTransformBuilder=Zh.default;const ef=fr(Mi);Ce.PostgrestBuilder=ef.default;const tf=fr(Fi);Ce.PostgrestError=tf.default;var lv=Ce.default={PostgrestClient:Jh.default,PostgrestQueryBuilder:Yh.default,PostgrestFilterBuilder:Xh.default,PostgrestTransformBuilder:Zh.default,PostgrestBuilder:ef.default,PostgrestError:tf.default};const{PostgrestClient:uv,PostgrestQueryBuilder:o0,PostgrestFilterBuilder:a0,PostgrestTransformBuilder:l0,PostgrestBuilder:u0,PostgrestError:c0}=lv,cv="2.11.2",dv={"X-Client-Info":`realtime-js/${cv}`},hv="1.0.0",nf=1e4,fv=1e3;var Zn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zn||(Zn={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var ja;(function(e){e.websocket="websocket"})(ja||(ja={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class pv{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class rf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const yc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=mv(o,e,t,s),i),{})},mv=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?sf(i,o):Ea(o)},sf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return wv(t,n)}switch(e){case K.bool:return gv(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return vv(t);case K.json:case K.jsonb:return yv(t);case K.timestamp:return _v(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Ea(t);default:return Ea(t)}},Ea=e=>e,gv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wv=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sf(t,a))}return e},_v=e=>typeof e=="string"?e.replace(" ","T"):e,of=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Co{constructor(t,n,r={},s=nf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wc||(wc={}));class Ur{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ur.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ur.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ur.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(C=>C.presence_ref),y=h.map(C=>C.presence_ref),x=d.filter(C=>y.indexOf(C.presence_ref)<0),S=h.filter(C=>p.indexOf(C.presence_ref)<0);x.length>0&&(a[c]=x),S.length>0&&(l[c]=S)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(y=>y.presence_ref),p=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _c;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_c||(_c={}));var xc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xc||(xc={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Nl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ur(this),this.broadcastEndpointURL=of(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(gt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(gt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(gt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,x=[];for(let S=0;S<y;S++){const C=p[S],{filter:{event:m,schema:f,table:g,filter:_}}=C,b=d&&d[S];if(b&&b.event===m&&b.schema===f&&b.table===g&&b.filter===_)x.push(Object.assign(Object.assign({},C),{id:b.id}));else{this.unsubscribe(),t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(gt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Co(this,Ze.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Co(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ze;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,S,C;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(S=y.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(y=>y.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,S,C,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,b=(x=y.filter)===null||x===void 0?void 0:x.event;return _&&((S=n.ids)===null||S===void 0?void 0:S.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const _=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:S,table:C,commit_timestamp:m,type:f,errors:g}=x;p=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(x))}y.callback(p,r)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nl.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yc(t.columns,t.old_record)),n}}const xv=()=>{},kv=typeof WebSocket<"u",Sv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bv{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dv,this.params={},this.timeout=nf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xv,this.conn=null,this.sendBuffer=[],this.serializer=new pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ar(async()=>{const{default:l}=await Promise.resolve().then(()=>hr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ja.websocket}`,this.httpEndpoint=of(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(kv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new jv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ar(async()=>{const{default:t}=await import("./browser-DzHORFKT.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hv}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zn.connecting:return ln.Connecting;case Zn.open:return ln.Open;case Zn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(t,n={config:{}}){const r=new Nl(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ze.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(fv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Sv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jv{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Tl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ev extends Tl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ca extends Tl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Cv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const af=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Nv=()=>Cv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ar(()=>Promise.resolve().then(()=>hr),void 0)).Response:Response}),Na=e=>{if(Array.isArray(e))return e.map(n=>Na(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Na(r)}),t};var xn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const No=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tv=(e,t,n)=>xn(void 0,void 0,void 0,function*(){const r=yield Nv();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Ev(No(s),e.status||500))}).catch(s=>{t(new Ca(No(s),s))}):t(new Ca(No(e),e))}),Pv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ds(e,t,n,r,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Pv(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Tv(l,a,r))})})}function xi(e,t,n,r){return xn(this,void 0,void 0,function*(){return ds(e,"GET",t,n,r)})}function $t(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ds(e,"POST",t,r,s,n)})}function Ov(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ds(e,"PUT",t,r,s,n)})}function Rv(e,t,n,r){return xn(this,void 0,void 0,function*(){return ds(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lf(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ds(e,"DELETE",t,r,s,n)})}var je=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Lv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $v{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=af(s)}uploadOrUpdate(t,n,r,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:kc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Tl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(t,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return je(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(t,n,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield $t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return je(this,void 0,void 0,function*(){try{const s=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(t,n){return je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield xi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(t){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Na(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(t){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Rv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof Ca){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}list(t,n,r){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Lv),n),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Av="2.7.1",Iv={"X-Client-Info":`storage-js/${Av}`};var Tn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Dv{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Iv),n),this.fetch=af(r)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ov(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}}class zv extends Dv{constructor(t,n={},r){super(t,n,r)}from(t){return new $v(this.url,this.headers,t,this.fetch)}}const Uv="2.49.1";let Tr="";typeof Deno<"u"?Tr="deno":typeof document<"u"?Tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tr="react-native":Tr="node";const Mv={"X-Client-Info":`supabase-js-${Tr}/${Uv}`},Fv={headers:Mv},Bv={schema:"public"},Hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vv={};var Wv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Kv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Wh:t=fetch,(...n)=>t(...n)},Gv=()=>typeof Headers>"u"?Kh:Headers,Qv=(e,t,n)=>{const r=Kv(n),s=Gv();return(i,o)=>Wv(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var qv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Jv(e){return e.replace(/\/$/,"")}function Yv(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>qv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const uf="2.68.0",Rn=30*1e3,Ta=3,To=Ta*Rn,Xv="http://localhost:9999",Zv="supabase.auth.token",ey={"X-Client-Info":`gotrue-js/${uf}`},Pa="X-Supabase-Api-Version",cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ty(e){return Math.round(Date.now()/1e3)+e}function ny(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Mr=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function ry(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const df=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ar(async()=>{const{default:r}=await Promise.resolve().then(()=>hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$s=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},As=async(e,t)=>{await e.removeItem(t)};function iy(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Vi{constructor(){this.promise=new Vi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vi.promiseConstructor=Promise;function Sc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(iy(r))}async function oy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ay(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ly(e){return("0"+e.toString(16)).substr(-2)}function uy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ly).join("")}async function cy(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function dy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cy(e);return dy(n)}async function Pn(e,t,n=!1){const r=uy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await hf(e,`${t}-code-verifier`,s);const i=await hy(r);return[i,r===i?"plain":"s256"]}const fy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function py(e){const t=e.headers.get(Pa);if(!t||!t.match(fy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Pl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class my extends Pl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function gy(e){return D(e)&&e.name==="AuthApiError"}class ff extends Pl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kn extends Pl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Pt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vy(e){return D(e)&&e.name==="AuthSessionMissingError"}class Po extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Is extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ds extends kn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yy(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class bc extends kn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oa extends kn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Oo(e){return D(e)&&e.name==="AuthRetryableFetchError"}class jc extends kn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var wy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_y=[502,503,504];async function Ec(e){var t;if(!sy(e))throw new Oa(on(e),0);if(_y.includes(e.status))throw new Oa(on(e),e.status);let n;try{n=await e.json()}catch(i){throw new ff(on(i),i)}let r;const s=py(e);if(s&&s.getTime()>=cf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jc(on(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new jc(on(n),e.status,n.weak_password.reasons);throw new my(on(n),e.status||500,r)}const xy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Pa]||(i[Pa]=cf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ky(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ky(e,t,n,r,s,i){const o=xy(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Oa(on(l),0)}if(a.ok||await Ec(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ec(l)}}function Ot(e){var t;let n=null;Ey(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ty(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cc(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sy(e){return{data:e,error:null}}function by(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=wy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function jy(e){return e}function Ey(e){return e.access_token&&e.refresh_token&&e.expires_in}var Cy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Ny{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=df(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Cy(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:by,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jy});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);c[`${C}Page`]=S}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}const Ty={getItem:e=>Mr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Mr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Mr()&&globalThis.localStorage.removeItem(e)}};function Nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const On={debug:!!(globalThis&&Mr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Oy extends pf{}async function Ry(e,t,n){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Oy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(On.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Py();const Ly={url:Xv,storageKey:Zv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ey,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tc(e,t,n){return await n()}class ss{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ly),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ny({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=df(s.fetch),this.lock=s.lock||Tc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:at()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ry:this.lock=Tc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Mr()?this.storage=Ty:(this.memoryStorage={},this.storage=Nc(this.memoryStorage)):(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ry(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),at()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new ff("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Pn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:x},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ot})}else throw new Is("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else throw new Is("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Po}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await $s(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ot});if(await As(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Po}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ot}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Po}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Pn(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Is("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pn(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Sy})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Is("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(n){if(D(n))return vy(n)&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Pn(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Sc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Sc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!at())throw new Ds("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ds(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ds("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bc("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Ds("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const y=p-d;y*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:S,error:C}=await this._getUser(i);if(C)throw C;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(gy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ny(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Pn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return at()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ay(async s=>(s>0&&await oy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Oo(i)&&Date.now()+o-r<Rn})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),at()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $s(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<To;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${To}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Oo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return Oo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await As(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${Ta} ticks`),s<=Ta&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ss.nextInstanceID=0;const $y=ss;class Ay extends $y{constructor(t){super(t)}}var Iy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Dy{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Jv(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Bv,realtime:Vv,auth:Object.assign(Object.assign({},Hv),{storageKey:l}),global:Fv},d=Yv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Qv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new uv(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ug(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Iy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ay({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zy=(e,t,n)=>new Dy(e,t,n),Uy="https://lveuekjktmkmvlxzkoai.supabase.co",My="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2ZXVla2prdG1rbXZseHprb2FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5MzQzNzEsImV4cCI6MjA1NzUxMDM3MX0.1wjy2lo0OYhOtV2nGbXDmeIPxEojCCdAkOZooDilru4",I=zy(Uy,My),an={dark:{gradient:"from-zinc-700 to-slate-800",text:"text-slate-600",background:"bg-slate-700"},purple:{gradient:"from-purple-500 to-indigo-600",text:"text-purple-600",background:"bg-purple-700"}},Fy={appName:"텍스트 배틀",appDescription:"캐릭터 설정을 만들어 다른 사용자들의 캐릭터와 대결하고 승패에 따라 랭킹이 정해집니다.",loading:"로딩 중...",save:"저장",cancel:"취소",edit:"수정",delete:"삭제",login:"로그인",signup:"회원가입",email:"이메일",password:"비밀번호",continueWithGoogle:"Google로 계속하기",accountManagement:"계정",name:"이름",nameNotSet:"(이름 없음)",changePassword:"비밀번호 변경",language:"UI 언어",theme:"테마",themeDark:"다크",themePurple:"퍼플",logout:"로그아웃",deleteAccount:"계정 삭제",deleteAccountConfirm:'계정을 삭제하려면 "계정 삭제"를 입력하세요.',deleteButton:"삭제",deleteAccountConfirmText:"계정 삭제",deleteAccountWrongText:"올바른 확인 텍스트를 입력해주세요.",deleteAccountError:"계정 삭제 중 오류가 발생했습니다.",accountDeletable:"계정은 언제든 삭제할 수 있습니다.",myCharacters:"내 캐릭터",addCharacter:"캐릭터 추가",noCharactersYet:"아직 생성된 캐릭터가 없습니다",createCharacter:"새 캐릭터 만들기",editCharacter:"캐릭터 수정",characterName:"캐릭터 이름",characterDescription:"캐릭터 설정",create:"생성하기",characterInfo:"캐릭터 정보",battleLeague:"배틀 리그",leagueSelection:"리그 선택",leagueHint:"캐릭터가 참여할 리그를 선택하세요",leagueFixed:"리그는 생성 후 변경할 수 없습니다",ranking:"랭킹",battle:"배틀",startBattle:"배틀 시작",battling:"배틀 진행중...",eloScore:"Elo 점수",rank:"순위",winRate:"승률",recentBattleResult:"최근 배틀 결과",win:"승리!",lose:"패배",draw:"무승부",restTime:"휴식 시간",seconds:"초",noRankingsYet:"랭킹 정보가 없습니다",winStreakSingle:"1승 중",winStreakMulti:"연승 중",totalParticipants:"전체 참여자",sessionNotFound:"세션이 없습니다",failedToFetchRankings:"랭킹 데이터를 가져오는데 실패했습니다",contactInfo:"의견, 버그제보: ",ko:"한국어",en:"영어",ja:"일본어",battleStartFailed:"배틀 시작에 실패했습니다. 상대가 없거나 휴식시간이 남아있을 수 있습니다.",getStarted:"Email로 계속하기",battleRecord:"전적",totalBattles:"총 배틀",victories:"승리",defeats:"패배",draws:"무승부",battleLanguage:"배틀 언어",battleLanguageHint:"캐릭터간 배틀에 사용되는 언어입니다.",league_daily:"일간",league_daily_reverse:"일간 - 역순위",league_standard:"무기한",quickStart:"익명으로 시작",or:"또는",anonymousAccountNotice:"익명 계정은 기기를 변경하거나 브라우저 데이터를 삭제하면 접근할 수 없게 됩니다.",registerAccount:"계정 등록하기",accountRegistrationSuccess:"계정이 성공적으로 등록되었습니다!",home:"홈",test:"모의 배틀",testScreenDescription:"두 캐릭터의 모의 배틀을 해보세요.",account:"계정",load:"불러오기",selectCharacter:"캐릭터 선택",testBattle:"모의 배틀",opponent:"상대",deleteCharacterConfirm:"캐릭터를 삭제하시겠습니까?",deleteCharacterWarning:"이 작업은 되돌릴 수 없습니다.",connectGoogleAccount:"구글 계정 연결",termsOfService:"이용약관",privacyPolicy:"개인정보 처리방침",totalCharacters:"현재 대전 중인 캐릭터"},By={appName:"Text Battle",appDescription:"Create a character description to battle against other users' characters, and your ranking will be determined by wins and losses.",loading:"Loading...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",login:"Login",signup:"Sign Up",email:"Email",password:"Password",continueWithGoogle:"Continue with Google",accountManagement:"Account",name:"Name",nameNotSet:"(No Name)",changePassword:"Change Password",language:"UI Language",theme:"Theme",themeDark:"Dark",themePurple:"Purple",logout:"Logout",deleteAccount:"Delete Account",deleteAccountConfirm:'Type "Delete Account" to confirm deletion.',deleteButton:"Delete",deleteAccountConfirmText:"Delete Account",deleteAccountWrongText:"Please enter the correct confirmation text.",deleteAccountError:"An error occurred while deleting the account.",accountDeletable:"You can delete your account at any time.",myCharacters:"My Characters",addCharacter:"Add Character",noCharactersYet:"No characters created yet",createCharacter:"Create New Character",editCharacter:"Edit Character",characterName:"Character Name",characterDescription:"Character Description",create:"Create",characterInfo:"Character Info",battleLeague:"Battle League",leagueSelection:"League Selection",leagueHint:"Choose the league for your character",leagueFixed:"League cannot be changed after creation",ranking:"Ranking",battle:"Battle",startBattle:"Start Battle",battling:"Battling...",eloScore:"Elo Score",rank:"Rank",winRate:"Win Rate",recentBattleResult:"Recent Battle Result",win:"Victory!",lose:"Defeat",draw:"Draw",restTime:"Rest Time",seconds:"seconds",noRankingsYet:"No ranking information available",winStreakSingle:"1 win",winStreakMulti:"win streak",totalParticipants:"Total Participants",sessionNotFound:"Session not found",failedToFetchRankings:"Failed to fetch rankings",contactInfo:"Feedback, bug reports: ",ko:"Korean",en:"English",ja:"Japanese",battleStartFailed:"Failed to start battle. There might be remaining rest time or opponent.",getStarted:"Continue with Email",battleRecord:"Battle Record",totalBattles:"Total Battles",victories:"Victories",defeats:"Defeats",draws:"Draws",battleLanguage:"Battle Language",battleLanguageHint:"Language used for character battles",league_daily:"Daily",league_daily_reverse:"Daily - Reverse",league_standard:"Endless",quickStart:"Anonymous Start",or:"or",anonymousAccountNotice:"Anonymous accounts cannot be accessed if you change devices or clear browser data.",registerAccount:"Register Account",accountRegistrationSuccess:"Account registered successfully!",home:"Home",test:"Test Battle",testScreenDescription:"Let the two characters have a mock battle.",account:"Account",load:"Load",selectCharacter:"Select Character",testBattle:"Test Battle",opponent:"Opponent",deleteCharacterConfirm:"Delete Character?",deleteCharacterWarning:"This action cannot be undone.",connectGoogleAccount:"Connect Google Account",termsOfService:"Terms of Service",privacyPolicy:"Privacy Policy",totalCharacters:"Active Characters"},Hy={appName:"テキストバトル",appDescription:"キャラクター設定を作成して他のユーザーのキャラクターと対戦し、勝敗に応じてランキングが決まります。",loading:"読み込み中...",save:"保存",cancel:"キャンセル",edit:"編集",delete:"削除",login:"ログイン",signup:"会員登録",email:"メールアドレス",password:"パスワード",continueWithGoogle:"Googleで続ける",accountManagement:"アカウント",name:"名前",nameNotSet:"(名前なし)",changePassword:"パスワード変更",language:"UI 言語",theme:"テーマ",themeDark:"ダーク",themePurple:"パープル",logout:"ログアウト",deleteAccount:"アカウント削除",deleteAccountConfirm:"アカウントを削除するには「アカウント削除」と入力してください。",deleteButton:"削除",deleteAccountConfirmText:"アカウント削除",deleteAccountWrongText:"正確な確認テキストを入力してください。",deleteAccountError:"アカウント削除中にエラーが発生しました。",accountDeletable:"アカウントはいつでも削除できます。",myCharacters:"マイキャラ",addCharacter:"キャラクター追加",noCharactersYet:"まだキャラクターが作成されていません",createCharacter:"新しいキャラを作成",editCharacter:"キャラクター編集",characterName:"キャラクター名",characterDescription:"キャラクター設定",create:"作成",characterInfo:"キャラクター情報",battleLeague:"バトルリーグ",leagueSelection:"リーグ選択",leagueHint:"キャラクターが参加するリーグを選択してください",leagueFixed:"リーグは作成後に変更できません",ranking:"ランキング",battle:"バトル",startBattle:"バトル開始",battling:"バトル進行中...",eloScore:"Eloスコア",rank:"順位",winRate:"勝率",recentBattleResult:"最近のバトル結果",win:"勝利！",lose:"敗北",draw:"引き分け",restTime:"休憩時間",seconds:"秒",noRankingsYet:"ランキング情報がありません",winStreakSingle:"1勝中",winStreakMulti:"連勝中",totalParticipants:"総参加者",sessionNotFound:"セッションが見つかりません",failedToFetchRankings:"ランキングデータの取得に失敗しました",contactInfo:"ご意見、バグ報告: ",ko:"韓国語",en:"英語",ja:"日本語",battleStartFailed:"バトル開始に失敗しました。対戦相手がいないか、休憩時間が残っているかもしれません。",getStarted:"Emailで続ける",battleRecord:"戦績",totalBattles:"総バトル",victories:"勝利",defeats:"敗北",draws:"引き分け",battleLanguage:"バトル言語",battleLanguageHint:"キャラクター間のバトルで使用される言語です。",league_daily:"デイリー",league_daily_reverse:"デイリー - 逆順",league_standard:"エンドレス",quickStart:"匿名で始める",or:"または",anonymousAccountNotice:"匿名アカウントは、デバイスを変更したりブラウザデータを消去すると、アクセスできなくなります。",registerAccount:"アカウント登録",accountRegistrationSuccess:"アカウントが正常に登録されました！",home:"ホーム",test:"もぎバトル",testScreenDescription:"二人のキャラクターで模擬バトルをしてみて。",account:"アカウント",load:"ロード",selectCharacter:"キャラクター選択",testBattle:"もぎバトル",opponent:"対戦相手",deleteCharacterConfirm:"キャラクターを削除しますか？",deleteCharacterWarning:"この操作は取り消すことができません。",connectGoogleAccount:"Googleアカウントに接続",termsOfService:"利用規約",privacyPolicy:"プライバシーポリシー",totalCharacters:"現在の対戦キャラクター"},Vy={ko:Fy,en:By,ja:Hy},Wn=()=>{if(typeof window>"u")return"en";const e=navigator.language.toLowerCase();return e.startsWith("ko")?"ko":e.startsWith("ja")?"ja":"en"},Wy=(e=Wn())=>{let t=e;return{t:i=>Vy[t][i],setLanguage:i=>{t=i},getLanguage:()=>t}},pt={ar:"العربية",bn:"বাংলা",bg:"Български","zh-CN":"简体中文","zh-TW":"繁體中文",hr:"Hrvatski",cs:"Čeština",da:"Dansk",nl:"Nederlands",en:"English",et:"Eesti",fa:"فارسی",fi:"Suomi",fr:"Français",de:"Deutsch",el:"Νέα Ελληνικά",gu:"ગુજરાતી",he:"עברית",hi:"हिन्दी",hu:"Magyar nyelv",id:"Bahasa Indonesia",it:"Italiano",ja:"日本語",kn:"ಕನ್ನಡ",ko:"한국어",lv:"Latviešu",lt:"Lietuvių",ml:"മലയാളം",mr:"मराठी",no:"Norsk",pl:"Polski",pt:"Português",ro:"Română",ru:"Русский язык",sr:"Српски",sk:"Slovenčina",sl:"Slovenščina",es:"Español",sw:"Kiswahili",sv:"Svenska",ta:"தமிழ்",te:"తెలుగు",th:"ภาษาไทย",tr:"Türkçe",uk:"Українська",ur:"اردو",vi:"Tiếng Việt"},w=Wy(),Kn=()=>{if(typeof window>"u")return pt.en;const e=navigator.language.toLowerCase();if(e.startsWith("zh"))return e.includes("cn")||e.includes("hans")?pt["zh-CN"]:e.includes("tw")||e.includes("hant")?pt["zh-TW"]:pt["zh-CN"];const t=e.split("-")[0];return Object.keys(pt).includes(t)?pt[t]:t==="nb"||t==="nn"?pt.no:pt.en};function Ky({onAuthSuccess:e,onLogout:t,isAuthenticated:n,currentTheme:r}){const[s,i]=N.useState(""),[o,a]=N.useState(""),[l,c]=N.useState(!1),[d,h]=N.useState(null),p=async C=>{C.preventDefault(),c(!0),h(null);try{const m=Kn(),{data:f,error:g}=await I.auth.signInWithPassword({email:s,password:o});if(f&&f.user){const _=f.user.user_metadata;if(!_.battle_language_name){const{error:b}=await I.auth.updateUser({data:{..._,battle_language_name:m}});b&&console.error("battle_language_name update failed:",b.message)}}if(g){const{data:_,error:b}=await I.auth.signUp({email:s,password:o});if(b)throw b;if(_&&_.user){const T=Wn(),{error:P}=await I.auth.updateUser({data:{language:T,battle_language_name:m}});P?console.error("update user language failed:",P.message):console.log("user language updated successfully")}}e()}catch(m){h(m.message)}finally{c(!1)}},y=async()=>{c(!0);try{const{error:C}=await I.auth.signOut();if(C)throw C;t()}catch(C){h(C.message)}finally{c(!1)}},x=async()=>{c(!0),h(null);try{const C=Kn(),m=Wn(),{data:f,error:g}=await I.auth.signInAnonymously();if(g)throw g;if(f&&f.user){const{error:_}=await I.auth.updateUser({data:{language:m,battle_language_name:C}});_&&console.error("update user language failed:",_.message)}e()}catch(C){h(C.message)}finally{c(!1)}},S=async()=>{try{c(!0),h(null);const{data:C,error:m}=await I.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://plan9.kr/battle"}});if(m)throw m;C!=null&&C.url&&(window.location.href=C.url)}catch(C){h(C.message),c(!1)}};return N.useEffect(()=>{(async()=>{const m=new URLSearchParams(window.location.hash.substring(1)),f=m.get("access_token"),g=m.get("refresh_token");if(f){const{data:{session:_},error:b}=await I.auth.setSession({access_token:f,refresh_token:g||""});if(b){console.error("Session setting error:",b);return}if(_){const T=_.user.user_metadata,P=Kn(),R=Wn();if(!T.battle_language_name||!T.language){const{error:W}=await I.auth.updateUser({data:{...T,battle_language_name:T.battle_language_name||P,language:T.language||R}});W?console.error("User metadata update failed:",W.message):console.log("User metadata updated successfully")}e()}}else{const{data:{session:_}}=await I.auth.getSession();if(_){const b=_.user.user_metadata,T=Kn(),P=Wn();if(!b.battle_language_name||!b.language){const{error:R}=await I.auth.updateUser({data:{...b,battle_language_name:b.battle_language_name||T,language:b.language||P}});R?console.error("User metadata update failed:",R.message):console.log("User metadata updated successfully")}e()}}})()},[]),n?u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:w.t("logout")}),u.jsx("button",{onClick:y,disabled:l,className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:l?u.jsx(Xe,{className:"animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Vh,{size:20}),w.t("logout")]})})]}):u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[d&&u.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:d}),u.jsx("button",{onClick:x,disabled:l,className:`w-full bg-white ${an[r].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 mb-6 btn-quick-start`,children:l?u.jsx(Xe,{className:"animate-spin mx-auto"}):w.t("quickStart")}),u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"}),u.jsx("span",{className:"text-sm text-white text-opacity-50",children:w.t("or")}),u.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"})]}),u.jsx("button",{onClick:S,disabled:l,className:"w-full bg-white text-gray-700 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 mb-6",children:l?u.jsx(Xe,{className:"animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"https://plan9.kr/battle/google-logo.svg",alt:"Google",className:"w-5 h-5"}),w.t("continueWithGoogle")]})}),u.jsxs("form",{onSubmit:p,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("email")}),u.jsx("input",{type:"email",value:s,onChange:C=>i(C.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("password")}),u.jsx("input",{type:"password",value:o,onChange:C=>a(C.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0}),u.jsx("p",{className:"text-sm mt-2 opacity-70",children:w.t("accountDeletable")})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full border border-white  text-white py-2 rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-colors btn-get-started",children:l?u.jsx(Xe,{className:"animate-spin mx-auto"}):w.t("getStarted")})]})]})}async function Gy(){const{data:{user:e}}=await I.auth.getUser();if(!e)throw new Error("Login required");const{data:t,error:n}=await I.from("characters").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return await Promise.all((t||[]).map(async s=>{try{const i=await mf(s.id);return{...s,rank:i}}catch(i){return console.error(`순위 정보를 가져오는데 실패했습니다: ${i}`),s}}))}const Qy=async e=>{const{data:{session:t}}=await I.auth.getSession();if(!t)throw new Error("인증이 필요합니다");const{data:n,error:r}=await I.functions.invoke("create_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{...e}});if(r)throw r;return n.data};async function qy(e){if(!e.id)throw new Error("character id required");const{data:{session:t}}=await I.auth.getSession();if(console.log("session",t),!t)throw new Error("authentication required");const{data:n,error:r}=await I.functions.invoke("update_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{name:e.name,description:e.description,character_id:e.id}});if(console.log("updatedCharacter",n),r)throw console.error("failed to update character:",r),r;return n.updatedCharacter}async function Jy(e){const{error:t}=await I.from("characters").delete().eq("id",e);if(t)throw t}const Yy=async e=>{const{data:{session:t}}=await I.auth.getSession();if(!t)throw new Error("인증이 필요합니다");if(t&&t.user){const n=t.user.user_metadata;if(!n.battle_language_name){const{error:r}=await I.auth.updateUser({data:{...n,battle_language_name:Kn()}});r&&console.error("battle_language_name update failed:",r.message)}}try{const n=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_text2",{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({character_id:e})});if(!n.ok){const o=await n.json().catch(()=>null);throw console.error("battle response error:",{status:n.status,statusText:n.statusText,error:o}),new Error((o==null?void 0:o.message)||`battle start failed (${n.status})`)}const r=await n.json();if(!r)throw new Error("no response data");if(!t)throw new Error("authentication required");const{data:s,error:i}=await I.functions.invoke("update_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{character_id:e}});if(i)throw i;return r}catch(n){throw console.error("배틀 요청 중 에러:",n),n}},mf=async e=>{const{data:t,error:n}=await I.rpc("get_character_rank",{character_id:e});if(n)throw n;return t[0].rank};async function Xy(e){const{data:t,error:n}=await I.from("characters").select("*").eq("id",e).single();if(n)throw n;try{const r=await mf(e);return{...t,rank:r}}catch(r){return console.error(`순위 정보를 가져오는데 실패했습니다: ${r}`),t}}async function Zy(){const{data:e,error:t}=await I.from("character_count").select("total").single();if(t)throw t;return e.total}const zs=()=>(N.useEffect(()=>{const e="google-ads-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0368183753784097",n.async=!0,n.crossOrigin="anonymous",document.body.appendChild(n)}const t=setInterval(()=>{if(window.adsbygoogle){try{window.adsbygoogle.push({})}catch(n){console.error("Adsense loading failed:",n)}clearInterval(t)}},300);return()=>{clearInterval(t)}},[]),u.jsx("ins",{className:"adsbygoogle",style:{display:"block",height:"90px",margin:"1rem auto 1rem"},"data-ad-client":"ca-pub-0368183753784097","data-ad-slot":"2504047860","data-ad-format":"horizontal","data-full-width-responsive":"false"})),Pc=()=>u.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-400 mt-4",children:[u.jsx("a",{href:"https://plan9.kr/terms/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300",children:w.t("termsOfService")}),u.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),u.jsx("a",{href:"https://plan9.kr/privacy/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300",children:w.t("privacyPolicy")})]}),Tt=(e,t=30)=>e.length>t?`${e.slice(0,t)}...`:e;function e0(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState("daily"),[o,a]=N.useState(Kn()),[l,c]=N.useState(Wn()),[d,h]=N.useState(!1),[p,y]=N.useState("list"),[x,S]=N.useState(""),[C,m]=N.useState(""),[f,g]=N.useState(!1),[_,b]=N.useState(""),[T,P]=N.useState(!1),[R,W]=N.useState(""),[z,V]=N.useState(null),[ie,we]=N.useState([]),[Sn,hs]=N.useState(!1),[_e,st]=N.useState(null),[k,L]=N.useState(null),[$,Q]=N.useState(null),[oe,Zt]=N.useState(0);N.useState(null),N.useState(null),N.useState(!1);const[it,bn]=N.useState([]),[ht,en]=N.useState(!1),[pr,gf]=N.useState("daily"),[vf,Ol]=N.useState(!1),[Rl,yf]=N.useState(null),[Ll,$l]=N.useState(null);N.useRef(new Map);const Et=N.useRef(new Map),fs=N.useRef(new Map),[Le,Wi]=N.useState({name:"",description:""}),[ft,ps]=N.useState({name:"",description:""}),[Al,Il]=N.useState(""),[jn,Dl]=N.useState(null),[zl,Ul]=N.useState(!1),[Ki,Ml]=N.useState(0),[mr,Fl]=N.useState(null),[wf,Gi]=N.useState(!1),[Bl,_f]=N.useState(null),[En,Hl]=N.useState(null),[Ct,Vl]=N.useState(!1);N.useEffect(()=>{En&&Il(En.character_name)},[En]);const Wl=async v=>{_f(v),ie.length===0&&!Sn&&await Kl(),Gi(!0)},xf=v=>{Bl===1?Wi({name:v.name,description:v.description}):Bl===2&&ps({name:v.name,description:v.description}),Gi(!1)};N.useEffect(()=>{I.auth.getSession().then(({data:{session:E}})=>{var A,B;h(!!E),E!=null&&E.user&&(S(E.user.email||""),m(((A=E.user.user_metadata)==null?void 0:A.name)||""),b(((B=E.user.user_metadata)==null?void 0:B.name)||""),Ol(E.user.is_anonymous||!1))});const{data:{subscription:v}}=I.auth.onAuthStateChange((E,A)=>{var re,tn;const B=!!A;h(B),!B&&window.location.hash&&(window.location.hash=""),A!=null&&A.user&&(S(A.user.email||""),m(((re=A.user.user_metadata)==null?void 0:re.name)||""),b(((tn=A.user.user_metadata)==null?void 0:tn.name)||""),Ol(A.user.is_anonymous||!1))});return()=>v.unsubscribe()},[]),N.useEffect(()=>{d&&p==="list"&&Kl()},[d,p]);const Kl=async()=>{hs(!0),V(null);try{const v=await Gy();we(v)}catch(v){h(!1),y("list"),V(v.message)}finally{hs(!1)}},[Gl,Ql]=N.useState(!1),[ql,Jl]=N.useState(!1),kf=async v=>{if(v.preventDefault(),e.trim()&&n.trim())try{Ql(!0),V(null);const E=await Qy({name:e,description:n,league:s});we([E,...ie]),t(""),r(""),i("daily"),L(E),Fe("character-detail")}catch(E){V(E.message)}finally{Ql(!1)}},Sf=async v=>{if(v.preventDefault(),!!_e&&_e.name.trim()&&_e.description.trim())try{Jl(!0),V(null);const E=await qy(_e);we(ie.map(A=>A.id===E.id?E:A)),st(null),Fe("list")}catch(E){V(E.message)}finally{Jl(!1)}},[Yl,Qi]=N.useState(null),[bf,qi]=N.useState(!1),jf=async()=>{if(Yl)try{await Ef(Yl),qi(!1),Qi(null)}catch{}},Ef=async v=>{try{V(null),await Jy(v),we(ie.filter(E=>E.id!==v))}catch(E){V(E.message)}},Cf=async v=>{L(v),fs.current.set(v.id,!0),we(E=>[...E]),y("character-detail");try{const E=await Yy(v.id);Q(E);const A=await Xy(v.id);we(B=>B.map(re=>re.id===v.id?A:re)),Xl(v.id)}catch{alert(w.t("battleStartFailed"))}finally{fs.current.delete(v.id),we(E=>[...E])}},Nf=async v=>{v.preventDefault();try{const{error:E}=await I.auth.updateUser({data:{name:_}});if(E)throw E;m(_),g(!1),V(null)}catch(E){V(E.message)}},Tf=async()=>{try{const{error:v}=await I.auth.signOut();if(v)throw v;h(!1),window.location.hash=""}catch(v){V(v.message)}},Pf=async()=>{if(R!==w.t("deleteAccountConfirmText")){V(w.t("deleteAccountWrongText"));return}try{const{data:{session:v}}=await I.auth.getSession();if(!v)throw new Error("no session");const{data:E,error:A}=await I.functions.invoke("battle-del-user",{headers:{Authorization:`Bearer ${v.access_token}`}});if(await I.auth.signOut(),h(!1),window.location.hash="",Fe("list"),A)throw A}catch(v){console.error("계정 삭제 중 오류:",v),V(v.message||w.t("deleteAccountError"))}};N.useEffect(()=>{if(!(k!=null&&k.recent_battle_at))return;const v=()=>{const A=new Date(k.recent_battle_at),re=60-Math.floor((new Date().getTime()-A.getTime())/1e3);return Math.max(0,re)};Zt(v());const E=setInterval(()=>{const A=v();Zt(A),A<=0&&clearInterval(E)},1e3);return()=>clearInterval(E)},[k==null?void 0:k.recent_battle_at]),N.useEffect(()=>{if(k&&ie.length>0){const v=ie.find(E=>E.id===k.id);v&&L(v)}},[ie,k==null?void 0:k.id]),N.useEffect(()=>{(()=>{const E=localStorage.getItem("characterRestTimes");if(E){const A=JSON.parse(E),B=Date.now();A.forEach(re=>{const tn=Math.ceil((re.endTime-B)/1e3);tn>0&&(Et.current.set(re.characterId,tn),Xl(re.characterId,re.endTime))})}})()},[]);const Xl=(v,E)=>{const A=E||Date.now()+6e4;Et.current.set(v,60);const B=localStorage.getItem("characterRestTimes"),tn=[...(B?JSON.parse(B):[]).filter(Xi=>Xi.characterId!==v),{characterId:v,endTime:A}];localStorage.setItem("characterRestTimes",JSON.stringify(tn));const ru=setInterval(()=>{const Xi=Date.now(),su=Math.ceil((A-Xi)/1e3);if(su<=0){clearInterval(ru),Et.current.delete(v);const gs=localStorage.getItem("characterRestTimes");if(gs){const Vf=JSON.parse(gs).filter(Wf=>Wf.characterId!==v);localStorage.setItem("characterRestTimes",JSON.stringify(Vf))}we(iu=>[...iu]);return}Et.current.set(v,su),we(gs=>[...gs])},1e3);return ru},Zl=async(v=pr)=>{en(!0);try{const E=(await I.auth.getSession()).data.session;if(!E)throw new Error("세션이 없습니다");let A;if(v==="daily_reverse"?A=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/ranking_reverse",{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"}}):A=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_ranking3",{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({league:v})}),!A.ok)throw new Error("랭킹 데이터를 가져오는데 실패했습니다");const B=await A.json();v==="daily_reverse"?(bn(B.lowestRankings),B.dailyTotalCount!==void 0&&yf(B.dailyTotalCount)):bn(B.rankings)}catch(E){V(E.message)}finally{en(!1)}},Of=v=>{gf(v),Zl(v)},eu=up.memo(()=>u.jsxs("div",{className:"text-center text-sm opacity-70 mt-4",children:[w.t("contactInfo")," ",u.jsx("a",{href:"mailto:sungchi@plan9.kr",className:"hover:underline",children:"sungchi@plan9.kr"})]})),[Cn,tu]=N.useState("dark"),nu=async v=>{try{const{error:E}=await I.auth.updateUser({data:{theme:v}});if(E)throw E;tu(v),document.body.className=`min-h-screen bg-gradient-to-br ${an[v].gradient} text-white`}catch(E){V(E.message)}},Ji=async v=>{try{const{error:E}=await I.auth.updateUser({data:{language:v}});if(E)throw E;c(v),w.setLanguage(v)}catch(E){V(E.message)}};N.useEffect(()=>{I.auth.getSession().then(({data:{session:v}})=>{var E,A;if(v!=null&&v.user){const B=(E=v.user.user_metadata)==null?void 0:E.theme,re=(A=v.user.user_metadata)==null?void 0:A.language;B&&an[B]&&(tu(B),document.body.className=`min-h-screen bg-gradient-to-br ${an[B].gradient} text-white`),re&&(c(re),w.setLanguage(re))}})},[]),N.useEffect(()=>{p==="ranking"&&Zl(pr)},[pr,p]),N.useEffect(()=>{var v;document.title=w.t("appName"),(v=document.querySelector('meta[name="description"]'))==null||v.setAttribute("content",w.t("appDescription"))},[l]),N.useEffect(()=>{const v=()=>{const E=window.location.hash.replace("#","")||"list";["list","create","battle","account","edit","character-detail","ranking","test"].includes(E)?y(E):window.location.hash="list"};return v(),window.addEventListener("hashchange",v),()=>{window.removeEventListener("hashchange",v)}},[]);const Fe=v=>{window.location.hash=v},Rf=async v=>{try{a(v),I.auth.getSession().then(({data:{session:E}})=>{E&&I.auth.updateUser({data:{battle_language_name:v}}).then(({error:A})=>{A?console.error("배틀 언어 설정 저장 실패:",A.message):console.log("배틀 언어 설정이 성공적으로 저장되었습니다.")})})}catch(E){console.error("배틀 언어 설정 중 오류 발생:",E)}},ms=v=>{(v==="list"||v==="ranking"||v==="account"||v==="test")&&(window.scrollTo({top:0,behavior:"smooth"}),Fe(v),Q(null),L(null),st(null))},Lf=async()=>{if(!Le.name||!Le.description){alert(w.t("battleStartFailed"));return}if(Ct&&!En){alert(w.t("battleStartFailed"));return}Ul(!0),Dl(null),Fl(null);try{const v=(await I.auth.getSession()).data.session;if(!v)throw new Error("세션이 없습니다");const E=await I.functions.invoke(Ct?"test_battle2":"test_battle",{headers:{Authorization:`Bearer ${v.access_token}`},body:Ct?{name1:Le.name,desc1:Le.description,char2Id:En.id}:{name1:Le.name,desc1:Le.description,name2:ft.name,desc2:ft.description}});if(E.error)throw E.error;Dl(E.data),Fl({name1:Le.name,name2:Ct?Al:ft.name}),Ml(Ct?60:10);const A=setInterval(()=>{Ml(B=>B<=1?(clearInterval(A),0):B-1)},1e3)}catch{alert(w.t("battleStartFailed"))}finally{Ul(!1)}},$f=()=>u.jsxs(u.Fragment,{children:[u.jsx(zs,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:w.t("test")}),u.jsx("p",{className:"mb-6",children:w.t("testScreenDescription")}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-semibold",children:[w.t("characterInfo")," 1"]}),u.jsx("button",{onClick:()=>Wl(1),className:"btn-load-character1 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("load")})]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{id:"character1-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Le.name,onChange:v=>Wi({...Le,name:v.target.value}),placeholder:w.t("characterName")})}),u.jsx("div",{className:"mb-4",children:u.jsx("textarea",{id:"character1-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Le.description,onChange:v=>Wi({...Le,description:v.target.value}),placeholder:w.t("characterDescription"),rows:4})})]}),Ct&&En?u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:w.t("opponent")}),u.jsx("button",{onClick:()=>{ps({name:"",description:""}),Il(""),Vl(!1),Hl(null)},className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("cancel")})]}),u.jsx("div",{className:"text-lg",children:Tt(Al)})]}):!Ct&&u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-semibold",children:[w.t("characterInfo")," 2"]}),u.jsx("button",{onClick:()=>Wl(2),className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("load")})]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{id:"character2-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:ft.name,onChange:v=>ps({...ft,name:v.target.value}),placeholder:w.t("characterName")})}),u.jsx("div",{className:"mb-4",children:u.jsx("textarea",{id:"character2-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:ft.description,onChange:v=>ps({...ft,description:v.target.value}),placeholder:w.t("characterDescription"),rows:4})})]})]}),u.jsx("button",{onClick:Lf,disabled:zl||Ki>0||!Le.name||!Le.description||!Ct&&(!ft.name||!ft.description),className:"btn-start-battle mb-6 w-full bg-white bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:zl?u.jsxs(u.Fragment,{children:[u.jsx(Xe,{className:"animate-spin mr-2",size:20}),w.t("battling")]}):Ki>0?u.jsxs(u.Fragment,{children:[w.t("restTime"),": ",Ki,w.t("seconds")]}):u.jsxs(u.Fragment,{children:[u.jsx(mc,{size:18,className:"mr-2"}),w.t("startBattle")]})}),jn&&mr&&u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:w.t("recentBattleResult")}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"text-lg",children:Tt(mr.name1)}),u.jsx("div",{className:"text-lg",children:"VS"}),u.jsx("div",{className:"text-lg",children:Tt(mr.name2)})]}),u.jsx("pre",{className:"whitespace-pre-wrap font-mono mb-4",children:jn.battle}),u.jsx("div",{className:`text-center font-bold ${jn.winner==="1"?"text-green-400":jn.winner==="2"?"text-red-400":"text-yellow-400"}`,children:jn.winner==="1"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),u.jsxs("span",{children:[mr.name1,"의 승리!"]})]}):jn.winner==="2"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),u.jsxs("span",{children:[mr.name2,"의 승리!"]})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:"⚖️"}),u.jsx("span",{children:"무승부!"})]})})]})]})]})]}),Af=()=>wf?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] overflow-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold",children:w.t("selectCharacter")}),u.jsx("button",{onClick:()=>Gi(!1),className:"p-1 hover:bg-white hover:bg-opacity-10 rounded",children:u.jsx(Og,{size:20})})]}),Sn?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Xe,{className:"animate-spin",size:32})}):ie.length===0?u.jsx("div",{className:"text-center py-8 opacity-70",children:w.t("noCharactersYet")}):u.jsx("div",{className:"space-y-2",children:ie.map(v=>u.jsxs("div",{className:"bg-white bg-opacity-5 p-3 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>xf(v),children:[u.jsx("div",{className:"font-semibold",children:Tt(v.name)}),u.jsx("div",{className:"text-sm opacity-70 truncate",children:v.description})]},v.id))})]})}):null,If=()=>u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white bg-opacity-10 backdrop-blur-sm border-t border-white border-opacity-30 shadow-lg flex justify-center items-center h-16 z-10",children:u.jsxs("div",{className:"max-w-2xl w-full flex justify-around",children:[u.jsxs("button",{onClick:()=>ms("list"),className:`btn-tab-home flex flex-col items-center justify-center w-full h-full transition-colors ${p==="list"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(jg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("home")})]}),u.jsxs("button",{onClick:()=>ms("ranking"),className:`btn-tab-ranking flex flex-col items-center justify-center w-full h-full transition-colors ${p==="ranking"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(Sg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("ranking")})]}),u.jsxs("button",{onClick:()=>ms("test"),className:`btn-tab-test flex flex-col items-center justify-center w-full h-full transition-colors ${p==="test"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(bg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("test")})]}),u.jsxs("button",{onClick:()=>ms("account"),className:`btn-tab-account flex flex-col items-center justify-center w-full h-full transition-colors ${p==="account"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(Pg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("account")})]})]})}),Yi=async()=>{try{const v=await Zy();$l(v)}catch(v){console.error("전체 캐릭터 수를 가져오는데 실패했습니다:",v),$l(null)}};if(N.useEffect(()=>{Yi();const v=setInterval(Yi,3e4);return()=>clearInterval(v)},[]),!d)return u.jsx("div",{className:"p-8",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[u.jsx("h1",{className:"font-bold mb-4 text-3xl",children:w.t("appName")}),u.jsx("p",{className:"text-lg opacity-90 text-left",children:w.t("appDescription")}),Ll!==null&&u.jsx("div",{className:"mt-2",children:u.jsxs("p",{className:"text-sm opacity-70 inline-flex items-center gap-2",children:[u.jsx("span",{className:"animate-pulse",children:"🟢"}),w.t("totalCharacters"),":",u.jsx("span",{className:"font-semibold animate-count-up",children:Ll})]})})]}),u.jsx(Ky,{onAuthSuccess:()=>{h(!0),y("list")},onLogout:()=>{h(!1),Yi()},isAuthenticated:d,currentTheme:Cn}),u.jsx(eu,{}),u.jsx(Pc,{})]})});const Df=()=>u.jsx("div",{className:"flex justify-between items-center mb-6 no-select",children:u.jsx("h1",{className:`font-bold cursor-pointer hover:opacity-80 transition-opacity ${l==="ja"?"text-2xl":"text-3xl"}`,onClick:()=>Fe("list"),children:w.t("appName")})}),zf=()=>u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("div",{className:"flex items-center mb-6",children:u.jsx("h2",{className:"text-xl font-semibold",children:w.t("accountManagement")})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:vf?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-4 rounded-lg text-yellow-200 text-sm mb-4",children:w.t("anonymousAccountNotice")}),u.jsxs("form",{onSubmit:async v=>{v.preventDefault();const E=v.currentTarget.elements.namedItem("email").value,A=v.currentTarget.elements.namedItem("password").value;try{const{data:B,error:re}=await I.auth.updateUser({email:E,password:A});if(re)throw re;alert(w.t("accountRegistrationSuccess"))}catch(B){alert(B.message)}},className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("email")}),u.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("password")}),u.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),u.jsx("button",{type:"submit",className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-register-account",children:w.t("registerAccount")})]})]}):u.jsxs(u.Fragment,{children:[f?u.jsxs("form",{onSubmit:Nf,className:"space-y-2",children:[u.jsx("label",{className:"block mb-2",children:w.t("name")}),u.jsx("input",{type:"text",value:_,onChange:v=>b(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{type:"submit",className:"bg-white text-slate-600 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-save-name",children:w.t("save")}),u.jsx("button",{type:"button",onClick:()=>{g(!1),b(C)},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-cancel-name",children:w.t("cancel")})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("name")}),u.jsx("div",{children:Tt(C)||w.t("nameNotSet")})]}),u.jsx("button",{onClick:()=>g(!0),className:"bg-white bg-opacity-20 p-2 rounded-lg hover:bg-opacity-30 transition-colors btn-edit-name",children:u.jsx(Ng,{size:20})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("email")}),u.jsx("div",{children:x})]})]})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("language")}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>Ji("ko"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="ko"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ko`,children:"한국어"}),u.jsx("button",{onClick:()=>Ji("en"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="en"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-en`,children:"English"}),u.jsx("button",{onClick:()=>Ji("ja"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="ja"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ja`,children:"日本語"})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("battleLanguage")}),u.jsx("select",{value:o,onChange:v=>Rf(v.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg \r
                border border-white border-opacity-30 focus:outline-none focus:border-opacity-50\r
                appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:Object.entries(pt).map(([v,E])=>u.jsx("option",{value:E,className:"bg-slate-800 text-white",children:E},v))}),u.jsx("div",{className:"text-xs opacity-50 mt-1",children:w.t("battleLanguageHint")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("theme")}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>nu("dark"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${Cn==="dark"?"border-white":"border-transparent"} bg-gradient-to-br from-zinc-700 to-slate-800 btn-theme-dark`,children:w.t("themeDark")}),u.jsx("button",{onClick:()=>nu("purple"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${Cn==="purple"?"border-white":"border-transparent"} bg-gradient-to-br from-purple-500 to-indigo-600 btn-theme-purple`,children:w.t("themePurple")})]})]}),u.jsxs("button",{onClick:Tf,className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 btn-logout",children:[u.jsx(Vh,{size:20}),w.t("logout")]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>P(!0),className:"text-red-400 hover:text-red-300 transition-colors flex items-center gap-2 btn-delete-account",children:[u.jsx(gc,{size:20}),w.t("deleteAccount")]}),T&&u.jsxs("div",{className:"mt-4 p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[u.jsx("p",{className:"text-sm mb-2",children:w.t("deleteAccountConfirm")}),u.jsx("input",{type:"text",value:R,onChange:v=>W(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50 mb-2"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:Pf,className:"bg-red-500 px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition-colors btn-delete-confirm",children:w.t("deleteButton")}),u.jsx("button",{onClick:()=>{P(!1),W("")},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-delete-cancel",children:w.t("cancel")})]})]})]})]})]}),Uf=()=>u.jsxs(u.Fragment,{children:[u.jsx(zs,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h2",{className:` font-semibold ${l==="ja"?"text-lg":"text-xl"}`,children:w.t("myCharacters")})}),Sn?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Xe,{className:"animate-spin",size:32})}):ie.length===0?u.jsx("div",{className:"text-center text-lg opacity-70 py-8",children:w.t("noCharactersYet")}):u.jsx("div",{className:"space-y-4",children:ie.map(v=>u.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>{L(v),Fe("character-detail")},children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:Tt(v.name)}),Et.current.has(v.id)&&u.jsx(Eg,{size:18,className:"text-blue-400 animate-bounce"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:E=>{E.stopPropagation(),st(v),Fe("edit")},className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-edit-character",children:u.jsx(Tg,{size:18})}),u.jsx("button",{onClick:E=>{E.stopPropagation(),Qi(v.id),qi(!0)},className:"p-2 text-red-400 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-delete-character",children:u.jsx(gc,{size:18})})]})]}),u.jsx("p",{className:"text-sm opacity-80 break-all",children:v.description}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsxs("div",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-lg text-sm",children:[v.elo_rate," Elo"]}),v&&v.streak?u.jsxs("div",{className:"ml-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-sm font-bold animate-pulse",children:[v.streak===1?w.t("winStreakSingle"):`${v.streak} ${w.t("winStreakMulti")}`,u.jsx("span",{className:"ml-1",children:"🔥"})]}):null]})]},v.id))})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("button",{onClick:()=>Fe("create"),className:"bg-white bg-opacity-20 p-3 hover:bg-opacity-30 transition-colors rounded-full flex items-center gap-2 mx-auto px-6 disabled:opacity-50 disabled:cursor-not-allowed btn-add-character",disabled:ie.length>=5,children:[u.jsx(Cg,{size:20}),u.jsx("span",{children:w.t("addCharacter")}),u.jsxs("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${an[Cn].background} text-white`,children:[ie.length,"/5"]})]})})]}),Mf=()=>u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>Fe("list"),className:" hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-create-character-back",children:u.jsx(Eo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("createCharacter")})]}),u.jsxs("form",{onSubmit:kf,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterName")}),u.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("characterDescription")}),u.jsx("textarea",{value:n,onChange:v=>r(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),u.jsxs("div",{className:"text-right text-sm mt-1",children:[n.length,"/100"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("battleLeague")}),u.jsx("p",{className:"text-sm opacity-70 mb-2",children:w.t("leagueHint")}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{type:"button",onClick:()=>i("daily"),className:`p-2 rounded-lg flex-1 ${s==="daily"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:w.t("league_daily")}),u.jsx("button",{type:"button",onClick:()=>i("standard"),className:`p-2 rounded-lg flex-1 ${s==="standard"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:w.t("league_standard")})]}),u.jsx("div",{className:"text-sm mt-2 opacity-70",children:w.t("leagueFixed")})]}),u.jsx("button",{type:"submit",disabled:Gl,className:`w-full bg-white ${an[Cn].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-create-character`,children:Gl?u.jsx(Xe,{className:"animate-spin mx-auto"}):w.t("create")})]})]}),Ff=()=>_e?u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>{st(null),Fe("list")},className:"mr-4 hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-edit-character-back",children:u.jsx(Eo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("editCharacter")})]}),u.jsxs("form",{onSubmit:Sf,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterName")}),u.jsx("input",{type:"text",value:_e.name,onChange:v=>st({..._e,name:v.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterDescription")}),u.jsx("textarea",{value:_e.description,onChange:v=>st({..._e,description:v.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),u.jsxs("div",{className:"text-right text-sm mt-1",children:[_e.description.length,"/100"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("battleLeague")}),u.jsxs("div",{className:"p-2 bg-white bg-opacity-10 border border-white border-opacity-30 rounded",children:[u.jsx("div",{className:"font-semibold",children:_e.league==="daily"?w.t("league_daily"):w.t("league_standard")}),u.jsx("div",{className:"text-sm mt-1 opacity-70",children:w.t("leagueFixed")})]})]}),u.jsx("button",{type:"submit",disabled:ql,className:`w-full bg-white ${an[Cn].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-edit-character-save`,children:ql?u.jsx(Xe,{className:"animate-spin mx-auto"}):w.t("save")})]})]}):null,Bf=()=>{if(!k)return null;const v=k.battle_count-(k.win_count+k.lose_count),E=k.battle_count>0?(k.win_count/k.battle_count*100).toFixed(2):"-";return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>{L(null),Q(null),Fe("list")},className:"mr-4 hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-character-detail-back",children:u.jsx(Eo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("characterInfo")})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h2",{className:"text-2xl font-bold",children:k.name}),k&&k.streak?u.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-base font-bold animate-pulse",children:[k.streak===1?w.t("winStreakSingle"):`${k.streak} ${w.t("winStreakMulti")}`,u.jsx("span",{className:"ml-1",children:"🔥"})]}):null]}),u.jsx("p",{className:"text-sm opacity-70 mb-4",children:k.description}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("eloScore")}),u.jsx("div",{className:"text-xl font-bold",children:k.elo_rate})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("rank")}),u.jsx("div",{className:"text-xl font-bold",children:k.rank?`#${k.rank}`:"-"})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("winRate")}),u.jsxs("div",{className:"text-xl font-bold",children:[E,"%"]})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("battleLeague")}),u.jsx("div",{className:"text-xl font-bold",children:k.league==="daily"?w.t("league_daily"):w.t("league_standard")})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:w.t("battleRecord")}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("totalBattles")}),u.jsx("div",{className:"text-xl font-bold",children:k.battle_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("victories")}),u.jsx("div",{className:"text-xl font-bold text-green-400",children:k.win_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("defeats")}),u.jsx("div",{className:"text-xl font-bold text-red-400",children:k.lose_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("draws")}),u.jsx("div",{className:"text-xl font-bold",children:v})]})]})]}),$&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:w.t("recentBattleResult")}),u.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"text-lg",children:Tt($.my_character)}),u.jsx("div",{className:"text-lg",children:"VS"}),u.jsx("div",{className:"text-lg",children:Tt($.opponent_character)})]}),u.jsx("p",{className:"mb-4 break-all",children:$.battle}),u.jsx("div",{className:`text-center font-bold ${$.winner==="1"?"text-green-400 animate-bounce-in":$.winner==="2"?"text-red-400 animate-shake":"text-yellow-400 animate-scale"}`,children:$.winner==="1"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-bounce-in",children:"🎉"}),u.jsx("span",{children:w.t("win")})]}):$.winner==="2"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-shake",children:"💀"}),u.jsx("span",{children:w.t("lose")})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-scale",children:"⚖️"}),u.jsx("span",{children:w.t("draw")})]})})]})]}),u.jsx("button",{onClick:()=>Cf(k),disabled:fs.current.get(k.id)||Et.current.has(k.id),className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed btn-character-detail-battle",children:fs.current.get(k.id)?u.jsxs(u.Fragment,{children:[u.jsx(Xe,{className:"animate-spin",size:18}),w.t("battling")]}):Et.current.has(k.id)?u.jsxs(u.Fragment,{children:[w.t("restTime"),": ",Et.current.get(k.id),w.t("seconds")]}):u.jsxs(u.Fragment,{children:[u.jsx(mc,{size:18}),w.t("startBattle")]})})]})]}),u.jsx(zs,{})]})},Hf=()=>u.jsxs(u.Fragment,{children:[u.jsx(zs,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:w.t("ranking")}),u.jsx("div",{className:"ml-auto",children:u.jsxs("select",{value:pr,onChange:v=>Of(v.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg \r
                border border-white border-opacity-30 focus:outline-none focus:border-opacity-50\r
                appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:[u.jsx("option",{value:"daily",className:"bg-slate-800 text-white",children:w.t("league_daily")}),u.jsx("option",{value:"daily_reverse",className:"bg-slate-800 text-white",children:w.t("league_daily_reverse")}),u.jsx("option",{value:"standard",className:"bg-slate-800 text-white",children:w.t("league_standard")})]})})]}),ht?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(Xe,{className:"animate-spin",size:32})}):it.length===0?u.jsx("div",{className:"text-center py-8 opacity-70",children:w.t("noRankingsYet")}):u.jsx("div",{className:"space-y-4",children:it.map((v,E)=>u.jsx("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex min-w-0",children:[u.jsx("div",{className:"w-10 text-center font-bold text-xl flex-shrink-0",children:pr==="daily_reverse"&&Rl!==null?Rl-E:E+1}),u.jsxs("div",{className:"ml-4 overflow-hidden",children:[u.jsx("div",{className:"font-semibold truncate",children:v.character_name}),u.jsx("div",{className:"text-sm opacity-70 truncate",children:v.user_name?v.user_name:w.t("nameNotSet")})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[u.jsxs("div",{className:"font-bold",children:[v.elo_rate," Elo"]}),u.jsx("button",{onClick:()=>{Hl(v),Vl(!0),Fe("test")},className:"btn-ranking-test bg-white bg-opacity-20 px-2 py-1 text-xs rounded hover:bg-opacity-30 transition-colors",children:w.t("testBattle")})]})]})},E))})]})]});return u.jsx("div",{className:"p-8 pb-24",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[Df(),z&&u.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:z}),p==="account"&&zf(),p==="list"&&Uf(),p==="create"&&Mf(),p==="edit"&&Ff(),p==="character-detail"&&Bf(),p==="ranking"&&Hf(),p==="test"&&$f(),bf&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-sm w-full",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:w.t("deleteCharacterConfirm")}),u.jsx("p",{className:"mb-6 opacity-70",children:w.t("deleteCharacterWarning")}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:jf,className:"flex-1 bg-red-500 hover:bg-red-600 transition-colors py-2 rounded-lg font-semibold",children:w.t("delete")}),u.jsx("button",{onClick:()=>{qi(!1),Qi(null)},className:"flex-1 bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors py-2 rounded-lg font-semibold",children:w.t("cancel")})]})]})}),u.jsx(eu,{}),u.jsx(Pc,{}),If(),Af()]})})}Hh(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsx(e0,{})}));export{Kf as g};
