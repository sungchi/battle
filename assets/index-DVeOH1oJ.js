(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Cd={exports:{}},Vi={},Nd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=Symbol.for("react.element"),Yp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),nm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),im=Symbol.for("react.memo"),om=Symbol.for("react.lazy"),Yu=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var Ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Td=Object.assign,Pd={};function mr(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||Ed}mr.prototype.isReactComponent={};mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rd(){}Rd.prototype=mr.prototype;function al(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||Ed}var ll=al.prototype=new Rd;ll.constructor=al;Td(ll,mr.prototype);ll.isPureReactComponent=!0;var Xu=Array.isArray,Od=Object.prototype.hasOwnProperty,ul={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Od.call(t,r)&&!Ld.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xs,type:e,key:i,ref:o,props:s,_owner:ul.current}}function lm(e,t){return{$$typeof:xs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===xs}function um(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zu=/\/+/g;function Eo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?um(""+e.key):t.toString(36)}function ai(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xs:case Yp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Eo(o,0):r,Xu(s)?(n="",e!=null&&(n=e.replace(Zu,"$&/")+"/"),ai(s,t,n,"",function(c){return c})):s!=null&&(cl(s)&&(s=lm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xu(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+Eo(i,a);o+=ai(i,t,n,u,s)}else if(u=am(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+Eo(i,a++),o+=ai(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ms(e,t,n){if(e==null)return e;var r=[],s=0;return ai(e,r,"","",function(i){return t.call(n,i,s++)}),r}function cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},li={transition:null},dm={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:li,ReactCurrentOwner:ul};function $d(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ms,forEach:function(e,t,n){Ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ms(e,function(){t++}),t},toArray:function(e){return Ms(e,function(t){return t})||[]},only:function(e){if(!cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=mr;B.Fragment=Xp;B.Profiler=em;B.PureComponent=al;B.StrictMode=Zp;B.Suspense=sm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;B.act=$d;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Td({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ul.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Od.call(t,u)&&!Ld.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xs,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:nm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tm,_context:e},e.Consumer=e};B.createElement=Ad;B.createFactory=function(e){var t=Ad.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:rm,render:e}};B.isValidElement=cl;B.lazy=function(e){return{$$typeof:om,_payload:{_status:-1,_result:e},_init:cm}};B.memo=function(e,t){return{$$typeof:im,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=li.transition;li.transition={};try{e()}finally{li.transition=t}};B.unstable_act=$d;B.useCallback=function(e,t){return Ee.current.useCallback(e,t)};B.useContext=function(e){return Ee.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ee.current.useEffect(e,t)};B.useId=function(){return Ee.current.useId()};B.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ee.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};B.useRef=function(e){return Ee.current.useRef(e)};B.useState=function(e){return Ee.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Ee.current.useTransition()};B.version="18.3.1";Nd.exports=B;var j=Nd.exports;const hm=Qp(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=j,pm=Symbol.for("react.element"),mm=Symbol.for("react.fragment"),gm=Object.prototype.hasOwnProperty,ym=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vm={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gm.call(t,r)&&!vm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pm,type:e,key:i,ref:o,props:s,_owner:ym.current}}Vi.Fragment=mm;Vi.jsx=Id;Vi.jsxs=Id;Cd.exports=Vi;var l=Cd.exports,Dd={exports:{}},Fe={},zd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,$){var I=k.length;k.push($);e:for(;0<I;){var Q=I-1>>>1,ae=k[Q];if(0<s(ae,$))k[Q]=$,k[I]=ae,I=Q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],I=k.pop();if(I!==$){k[0]=I;e:for(var Q=0,ae=k.length,sn=ae>>>1;Q<sn;){var Ye=2*(Q+1)-1,xr=k[Ye],lt=Ye+1,on=k[lt];if(0>s(xr,I))lt<ae&&0>s(on,xr)?(k[Q]=on,k[lt]=I,Q=lt):(k[Q]=xr,k[Ye]=I,Q=Ye);else if(lt<ae&&0>s(on,I))k[Q]=on,k[lt]=I,Q=lt;else break e}}return $}function s(k,$){var I=k.sortIndex-$.sortIndex;return I!==0?I:k.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,w=!1,b=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=k)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function x(k){if(S=!1,v(k),!b)if(n(u)!==null)b=!0,Se(C);else{var $=n(c);$!==null&&at(x,$.startTime-k)}}function C(k,$){b=!1,S&&(S=!1,g(L),L=-1),w=!0;var I=f;try{for(v($),h=n(u);h!==null&&(!(h.expirationTime>$)||k&&!V());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var ae=Q(h.expirationTime<=$);$=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(u)&&r(u),v($)}else r(u);h=n(u)}if(h!==null)var sn=!0;else{var Ye=n(c);Ye!==null&&at(x,Ye.startTime-$),sn=!1}return sn}finally{h=null,f=I,w=!1}}var P=!1,R=null,L=-1,G=5,M=-1;function V(){return!(e.unstable_now()-M<G)}function ie(){if(R!==null){var k=e.unstable_now();M=k;var $=!0;try{$=R(!0,k)}finally{$?we():(P=!1,R=null)}}else P=!1}var we;if(typeof p=="function")we=function(){p(ie)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,Ns=Tn.port2;Tn.port1.onmessage=ie,we=function(){Ns.postMessage(null)}}else we=function(){E(ie,0)};function Se(k){R=k,P||(P=!0,we())}function at(k,$){L=E(function(){k(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,Se(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var I=f;f=$;try{return k()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=f;f=k;try{return $()}finally{f=I}},e.unstable_scheduleCallback=function(k,$,I){var Q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=I+ae,k={id:d++,callback:$,priorityLevel:k,startTime:I,expirationTime:ae,sortIndex:-1},I>Q?(k.sortIndex=I,t(c,k),n(u)===null&&k===n(c)&&(S?(g(L),L=-1):S=!0,at(x,I-Q))):(k.sortIndex=ae,t(u,k),b||w||(b=!0,Se(C))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var $=f;return function(){var I=f;f=$;try{return k.apply(this,arguments)}finally{f=I}}}})(Ud);zd.exports=Ud;var wm=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=j,Be=wm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Md=new Set,ns={};function Cn(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(ns[e]=t,e=0;e<t.length;e++)Md.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=Object.prototype.hasOwnProperty,_m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function km(e){return aa.call(tc,e)?!0:aa.call(ec,e)?!1:_m.test(e)?tc[e]=!0:(ec[e]=!0,!1)}function bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sm(e,t,n,r){if(t===null||typeof t>"u"||bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var dl=/[\-:]([a-z])/g;function hl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dl,hl);ve[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dl,hl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dl,hl);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function fl(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sm(t,n,s,r)&&(n=null),r||s===null?km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nt=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),pl=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),ml=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),ca=Symbol.for("react.suspense_list"),gl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),nc=Symbol.iterator;function Tr(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,To;function Ur(e){if(To===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);To=t&&t[1]||""}return`
`+To+e}var Po=!1;function Ro(e,t){if(!e||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function jm(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=Ro(e.type,!1),e;case 11:return e=Ro(e.type.render,!1),e;case 1:return e=Ro(e.type,!0),e;default:return""}}function da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case Un:return"Portal";case la:return"Profiler";case pl:return"StrictMode";case ua:return"Suspense";case ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fd:return(e.displayName||"Context")+".Consumer";case Bd:return(e._context.displayName||"Context")+".Provider";case ml:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gl:return t=e.displayName||null,t!==null?t:da(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return da(e(t))}catch{}}return null}function Cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(t);case 8:return t===pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nm(e){var t=Vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=Nm(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ha(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gd(e,t){t=t.checked,t!=null&&fl(e,"checked",t,!1)}function fa(e,t){Gd(e,t);var n=Xt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ma(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Mr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xt(n)}}function qd(e,t){var n=Xt(t.value),r=Xt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hs,Qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Em=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){Em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vr[t]=Vr[e]})});function Jd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+t).trim():t+"px"}function Yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Tm=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(e,t){if(t){if(Tm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function va(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xa=null,er=null,tr=null;function ac(e){if(e=bs(e)){if(typeof xa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Qi(t),xa(e.stateNode,e.type,t))}}function Xd(e){er?tr?tr.push(e):tr=[e]:er=e}function Zd(){if(er){var e=er,t=tr;if(tr=er=null,ac(e),t)for(e=0;e<t.length;e++)ac(t[e])}}function eh(e,t){return e(t)}function th(){}var Oo=!1;function nh(e,t,n){if(Oo)return e(t,n);Oo=!0;try{return eh(e,t,n)}finally{Oo=!1,(er!==null||tr!==null)&&(th(),Zd())}}function ss(e,t){var n=e.stateNode;if(n===null)return null;var r=Qi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var _a=!1;if(bt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{_a=!1}function Pm(e,t,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Wr=!1,xi=null,_i=!1,ka=null,Rm={onError:function(e){Wr=!0,xi=e}};function Om(e,t,n,r,s,i,o,a,u){Wr=!1,xi=null,Pm.apply(Rm,arguments)}function Lm(e,t,n,r,s,i,o,a,u){if(Om.apply(this,arguments),Wr){if(Wr){var c=xi;Wr=!1,xi=null}else throw Error(N(198));_i||(_i=!0,ka=c)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(Nn(e)!==e)throw Error(N(188))}function Am(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lc(s),e;if(i===r)return lc(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function sh(e){return e=Am(e),e!==null?ih(e):null}function ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ih(e);if(t!==null)return t;e=e.sibling}return null}var oh=Be.unstable_scheduleCallback,uc=Be.unstable_cancelCallback,$m=Be.unstable_shouldYield,Im=Be.unstable_requestPaint,se=Be.unstable_now,Dm=Be.unstable_getCurrentPriorityLevel,vl=Be.unstable_ImmediatePriority,ah=Be.unstable_UserBlockingPriority,ki=Be.unstable_NormalPriority,zm=Be.unstable_LowPriority,lh=Be.unstable_IdlePriority,Wi=null,pt=null;function Um(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Fm,Mm=Math.log,Bm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Mm(e)/Bm|0)|0}var Vs=64,Ws=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Br(a):(i&=o,i!==0&&(r=Br(i)))}else o=n&~s,o!==0?r=Br(o):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-st(t),s=1<<n,r|=e[n],t&=~s;return r}function Hm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-st(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Hm(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function Lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _s(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=n}function Wm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-st(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var W=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dh,xl,hh,fh,ph,Sa=!1,Gs=[],Vt=null,Wt=null,Gt=null,is=new Map,os=new Map,Ut=[],Gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function Rr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=bs(t),t!==null&&xl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qm(e,t,n,r,s){switch(t){case"focusin":return Vt=Rr(Vt,e,t,n,r,s),!0;case"dragenter":return Wt=Rr(Wt,e,t,n,r,s),!0;case"mouseover":return Gt=Rr(Gt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,Rr(is.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,Rr(os.get(i)||null,e,t,n,r,s)),!0}return!1}function mh(e){var t=gn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=rh(n),t!==null){e.blockedOn=t,ph(e.priority,function(){hh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wa=r,n.target.dispatchEvent(r),wa=null}else return t=bs(n),t!==null&&xl(t),e.blockedOn=n,!1;t.shift()}return!0}function dc(e,t,n){ui(e)&&n.delete(t)}function Km(){Sa=!1,Vt!==null&&ui(Vt)&&(Vt=null),Wt!==null&&ui(Wt)&&(Wt=null),Gt!==null&&ui(Gt)&&(Gt=null),is.forEach(dc),os.forEach(dc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,Sa||(Sa=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Km)))}function as(e){function t(s){return Or(s,e)}if(0<Gs.length){Or(Gs[0],e);for(var n=1;n<Gs.length;n++){var r=Gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&Or(Vt,e),Wt!==null&&Or(Wt,e),Gt!==null&&Or(Gt,e),is.forEach(t),os.forEach(t),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)mh(n),n.blockedOn===null&&Ut.shift()}var nr=Nt.ReactCurrentBatchConfig,Si=!0;function Qm(e,t,n,r){var s=W,i=nr.transition;nr.transition=null;try{W=1,_l(e,t,n,r)}finally{W=s,nr.transition=i}}function Jm(e,t,n,r){var s=W,i=nr.transition;nr.transition=null;try{W=4,_l(e,t,n,r)}finally{W=s,nr.transition=i}}function _l(e,t,n,r){if(Si){var s=ja(e,t,n,r);if(s===null)Ho(e,t,r,ji,n),cc(e,r);else if(qm(s,e,t,n,r))r.stopPropagation();else if(cc(e,r),t&4&&-1<Gm.indexOf(e)){for(;s!==null;){var i=bs(s);if(i!==null&&dh(i),i=ja(e,t,n,r),i===null&&Ho(e,t,r,ji,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ho(e,t,r,null,n)}}var ji=null;function ja(e,t,n,r){if(ji=null,e=yl(r),e=gn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function gh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case vl:return 1;case ah:return 4;case ki:case zm:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Ft=null,kl=null,ci=null;function yh(){if(ci)return ci;var e,t=kl,n=t.length,r,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ci=s.slice(e,1<r?1-r:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function hc(){return!1}function He(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:hc,this.isPropagationStopped=hc,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=He(gr),ks=ne({},gr,{view:0,detail:0}),Ym=He(ks),Ao,$o,Lr,Gi=ne({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(Ao=e.screenX-Lr.screenX,$o=e.screenY-Lr.screenY):$o=Ao=0,Lr=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),fc=He(Gi),Xm=ne({},Gi,{dataTransfer:0}),Zm=He(Xm),eg=ne({},ks,{relatedTarget:0}),Io=He(eg),tg=ne({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=He(tg),rg=ne({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=He(rg),ig=ne({},gr,{data:0}),pc=He(ig),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lg[e])?!!t[e]:!1}function Sl(){return ug}var cg=ne({},ks,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=He(cg),hg=ne({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=He(hg),fg=ne({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),pg=He(fg),mg=ne({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=He(mg),yg=ne({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=He(yg),wg=[9,13,27,32],jl=bt&&"CompositionEvent"in window,Gr=null;bt&&"documentMode"in document&&(Gr=document.documentMode);var xg=bt&&"TextEvent"in window&&!Gr,vh=bt&&(!jl||Gr&&8<Gr&&11>=Gr),gc=" ",yc=!1;function wh(e,t){switch(e){case"keyup":return wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function _g(e,t){switch(e){case"compositionend":return xh(t);case"keypress":return t.which!==32?null:(yc=!0,gc);case"textInput":return e=t.data,e===gc&&yc?null:e;default:return null}}function kg(e,t){if(Bn)return e==="compositionend"||!jl&&wh(e,t)?(e=yh(),ci=kl=Ft=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function _h(e,t,n,r){Xd(r),t=Ci(t,"onChange"),0<t.length&&(n=new bl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,ls=null;function Sg(e){Oh(e,0)}function qi(e){var t=Vn(e);if(Wd(t))return e}function jg(e,t){if(e==="change")return t}var kh=!1;if(bt){var Do;if(bt){var zo="oninput"in document;if(!zo){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),zo=typeof wc.oninput=="function"}Do=zo}else Do=!1;kh=Do&&(!document.documentMode||9<document.documentMode)}function xc(){qr&&(qr.detachEvent("onpropertychange",bh),ls=qr=null)}function bh(e){if(e.propertyName==="value"&&qi(ls)){var t=[];_h(t,ls,e,yl(e)),nh(Sg,t)}}function Cg(e,t,n){e==="focusin"?(xc(),qr=t,ls=n,qr.attachEvent("onpropertychange",bh)):e==="focusout"&&xc()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(ls)}function Eg(e,t){if(e==="click")return qi(t)}function Tg(e,t){if(e==="input"||e==="change")return qi(t)}function Pg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Pg;function us(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!aa.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=_c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function Sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wi(e.document)}return t}function Cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rg(e){var t=jh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sh(n.ownerDocument.documentElement,n)){if(r!==null&&Cl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=kc(n,i);var o=kc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=bt&&"documentMode"in document&&11>=document.documentMode,Fn=null,Ca=null,Kr=null,Na=!1;function bc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Na||Fn==null||Fn!==wi(r)||(r=Fn,"selectionStart"in r&&Cl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&us(Kr,r)||(Kr=r,r=Ci(Ca,"onSelect"),0<r.length&&(t=new bl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function Ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Uo={},Ch={};bt&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Ki(e){if(Uo[e])return Uo[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ch)return Uo[e]=t[n];return e}var Nh=Ki("animationend"),Eh=Ki("animationiteration"),Th=Ki("animationstart"),Ph=Ki("transitionend"),Rh=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){Rh.set(e,t),Cn(t,[e])}for(var Mo=0;Mo<Sc.length;Mo++){var Bo=Sc[Mo],Lg=Bo.toLowerCase(),Ag=Bo[0].toUpperCase()+Bo.slice(1);en(Lg,"on"+Ag)}en(Nh,"onAnimationEnd");en(Eh,"onAnimationIteration");en(Th,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Ph,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lm(r,t,void 0,e),e.currentTarget=null}function Oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;jc(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;jc(s,a,c),i=u}}}if(_i)throw e=ka,_i=!1,ka=null,e}function J(e,t){var n=t[Oa];n===void 0&&(n=t[Oa]=new Set);var r=e+"__bubble";n.has(r)||(Lh(t,e,2,!1),n.add(r))}function Fo(e,t,n){var r=0;t&&(r|=4),Lh(n,e,r,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Qs]){e[Qs]=!0,Md.forEach(function(n){n!=="selectionchange"&&($g.has(n)||Fo(n,!1,e),Fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Fo("selectionchange",!1,t))}}function Lh(e,t,n,r){switch(gh(t)){case 1:var s=Qm;break;case 4:s=Jm;break;default:s=_l}n=s.bind(null,t,n,e),s=void 0,!_a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ho(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=gn(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nh(function(){var c=i,d=yl(n),h=[];e:{var f=Rh.get(e);if(f!==void 0){var w=bl,b=e;switch(e){case"keypress":if(di(n)===0)break e;case"keydown":case"keyup":w=dg;break;case"focusin":b="focus",w=Io;break;case"focusout":b="blur",w=Io;break;case"beforeblur":case"afterblur":w=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=pg;break;case Nh:case Eh:case Th:w=ng;break;case Ph:w=gg;break;case"scroll":w=Ym;break;case"wheel":w=vg;break;case"copy":case"cut":case"paste":w=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=mc}var S=(t&4)!==0,E=!S&&e==="scroll",g=S?f!==null?f+"Capture":null:f;S=[];for(var p=c,v;p!==null;){v=p;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=ss(p,g),x!=null&&S.push(ds(p,x,v)))),E)break;p=p.return}0<S.length&&(f=new w(f,b,null,n,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&n!==wa&&(b=n.relatedTarget||n.fromElement)&&(gn(b)||b[St]))break e;if((w||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=c,b=b?gn(b):null,b!==null&&(E=Nn(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=c),w!==b)){if(S=fc,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=mc,x="onPointerLeave",g="onPointerEnter",p="pointer"),E=w==null?f:Vn(w),v=b==null?f:Vn(b),f=new S(x,p+"leave",w,n,d),f.target=E,f.relatedTarget=v,x=null,gn(d)===c&&(S=new S(g,p+"enter",b,n,d),S.target=v,S.relatedTarget=E,x=S),E=x,w&&b)t:{for(S=w,g=b,p=0,v=S;v;v=Ln(v))p++;for(v=0,x=g;x;x=Ln(x))v++;for(;0<p-v;)S=Ln(S),p--;for(;0<v-p;)g=Ln(g),v--;for(;p--;){if(S===g||g!==null&&S===g.alternate)break t;S=Ln(S),g=Ln(g)}S=null}else S=null;w!==null&&Cc(h,f,w,S,!1),b!==null&&E!==null&&Cc(h,E,b,S,!0)}}e:{if(f=c?Vn(c):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var C=jg;else if(vc(f))if(kh)C=Tg;else{C=Ng;var P=Cg}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Eg);if(C&&(C=C(e,c))){_h(h,C,n,d);break e}P&&P(e,f,c),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&pa(f,"number",f.value)}switch(P=c?Vn(c):window,e){case"focusin":(vc(P)||P.contentEditable==="true")&&(Fn=P,Ca=c,Kr=null);break;case"focusout":Kr=Ca=Fn=null;break;case"mousedown":Na=!0;break;case"contextmenu":case"mouseup":case"dragend":Na=!1,bc(h,n,d);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":bc(h,n,d)}var R;if(jl)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Bn?wh(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(vh&&n.locale!=="ko"&&(Bn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Bn&&(R=yh()):(Ft=d,kl="value"in Ft?Ft.value:Ft.textContent,Bn=!0)),P=Ci(c,L),0<P.length&&(L=new pc(L,e,null,n,d),h.push({event:L,listeners:P}),R?L.data=R:(R=xh(n),R!==null&&(L.data=R)))),(R=xg?_g(e,n):kg(e,n))&&(c=Ci(c,"onBeforeInput"),0<c.length&&(d=new pc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=R))}Oh(h,t)})}function ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ci(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(e,n),i!=null&&r.unshift(ds(e,i,s)),i=ss(e,t),i!=null&&r.push(ds(e,i,s))),e=e.return}return r}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=ss(n,i),u!=null&&o.unshift(ds(n,u,a))):s||(u=ss(n,i),u!=null&&o.push(ds(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ig=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function Nc(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(Dg,"")}function Js(e,t,n){if(t=Nc(t),Nc(e)!==t&&n)throw Error(N(425))}function Ni(){}var Ea=null,Ta=null;function Pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ra=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(Mg)}:Ra;function Mg(e){setTimeout(function(){throw e})}function Vo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),as(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);as(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),ft="__reactFiber$"+yr,hs="__reactProps$"+yr,St="__reactContainer$"+yr,Oa="__reactEvents$"+yr,Bg="__reactListeners$"+yr,Fg="__reactHandles$"+yr;function gn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tc(e);e!==null;){if(n=e[ft])return n;e=Tc(e)}return t}e=n,n=e.parentNode}return null}function bs(e){return e=e[ft]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Qi(e){return e[hs]||null}var La=[],Wn=-1;function tn(e){return{current:e}}function Y(e){0>Wn||(e.current=La[Wn],La[Wn]=null,Wn--)}function K(e,t){Wn++,La[Wn]=e.current,e.current=t}var Zt={},be=tn(Zt),Ae=tn(!1),_n=Zt;function ar(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $e(e){return e=e.childContextTypes,e!=null}function Ei(){Y(Ae),Y(be)}function Pc(e,t,n){if(be.current!==Zt)throw Error(N(168));K(be,t),K(Ae,n)}function Ah(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Cm(e)||"Unknown",s));return ne({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,_n=be.current,K(be,e),K(Ae,Ae.current),!0}function Rc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Ah(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,Y(Ae),Y(be),K(be,e)):Y(Ae),K(Ae,n)}var wt=null,Ji=!1,Wo=!1;function $h(e){wt===null?wt=[e]:wt.push(e)}function Hg(e){Ji=!0,$h(e)}function nn(){if(!Wo&&wt!==null){Wo=!0;var e=0,t=W;try{var n=wt;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,Ji=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),oh(vl,nn),s}finally{W=t,Wo=!1}}return null}var Gn=[],qn=0,Pi=null,Ri=0,Ve=[],We=0,kn=null,xt=1,_t="";function dn(e,t){Gn[qn++]=Ri,Gn[qn++]=Pi,Pi=e,Ri=t}function Ih(e,t,n){Ve[We++]=xt,Ve[We++]=_t,Ve[We++]=kn,kn=e;var r=xt;e=_t;var s=32-st(r)-1;r&=~(1<<s),n+=1;var i=32-st(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xt=1<<32-st(t)+s|n<<s|r,_t=i+e}else xt=1<<i|n<<s|r,_t=e}function Nl(e){e.return!==null&&(dn(e,1),Ih(e,1,0))}function El(e){for(;e===Pi;)Pi=Gn[--qn],Gn[qn]=null,Ri=Gn[--qn],Gn[qn]=null;for(;e===kn;)kn=Ve[--We],Ve[We]=null,_t=Ve[--We],Ve[We]=null,xt=Ve[--We],Ve[We]=null}var Me=null,Ue=null,X=!1,rt=null;function Dh(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ue=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:xt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,Ue=null,!0):!1;default:return!1}}function Aa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(X){var t=Ue;if(t){var n=t;if(!Oc(e,t)){if(Aa(e))throw Error(N(418));t=qt(n.nextSibling);var r=Me;t&&Oc(e,t)?Dh(r,n):(e.flags=e.flags&-4097|2,X=!1,Me=e)}}else{if(Aa(e))throw Error(N(418));e.flags=e.flags&-4097|2,X=!1,Me=e}}}function Lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Ys(e){if(e!==Me)return!1;if(!X)return Lc(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pa(e.type,e.memoizedProps)),t&&(t=Ue)){if(Aa(e))throw zh(),Error(N(418));for(;t;)Dh(e,t),t=qt(t.nextSibling)}if(Lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ue=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Me?qt(e.stateNode.nextSibling):null;return!0}function zh(){for(var e=Ue;e;)e=qt(e.nextSibling)}function lr(){Ue=Me=null,X=!1}function Tl(e){rt===null?rt=[e]:rt.push(e)}var Vg=Nt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ac(e){var t=e._init;return t(e._payload)}function Uh(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Yt(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,x){return p===null||p.tag!==6?(p=Xo(v,g.mode,x),p.return=g,p):(p=s(p,v),p.return=g,p)}function u(g,p,v,x){var C=v.type;return C===Mn?d(g,p,v.props.children,x,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&Ac(C)===p.type)?(x=s(p,v.props),x.ref=Ar(g,p,v),x.return=g,x):(x=vi(v.type,v.key,v.props,null,g.mode,x),x.ref=Ar(g,p,v),x.return=g,x)}function c(g,p,v,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Zo(v,g.mode,x),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function d(g,p,v,x,C){return p===null||p.tag!==7?(p=xn(v,g.mode,x,C),p.return=g,p):(p=s(p,v),p.return=g,p)}function h(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Xo(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bs:return v=vi(p.type,p.key,p.props,null,g.mode,v),v.ref=Ar(g,null,p),v.return=g,v;case Un:return p=Zo(p,g.mode,v),p.return=g,p;case It:var x=p._init;return h(g,x(p._payload),v)}if(Mr(p)||Tr(p))return p=xn(p,g.mode,v,null),p.return=g,p;Xs(g,p)}return null}function f(g,p,v,x){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(g,p,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bs:return v.key===C?u(g,p,v,x):null;case Un:return v.key===C?c(g,p,v,x):null;case It:return C=v._init,f(g,p,C(v._payload),x)}if(Mr(v)||Tr(v))return C!==null?null:d(g,p,v,x,null);Xs(g,v)}return null}function w(g,p,v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,a(p,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bs:return g=g.get(x.key===null?v:x.key)||null,u(p,g,x,C);case Un:return g=g.get(x.key===null?v:x.key)||null,c(p,g,x,C);case It:var P=x._init;return w(g,p,v,P(x._payload),C)}if(Mr(x)||Tr(x))return g=g.get(v)||null,d(p,g,x,C,null);Xs(p,x)}return null}function b(g,p,v,x){for(var C=null,P=null,R=p,L=p=0,G=null;R!==null&&L<v.length;L++){R.index>L?(G=R,R=null):G=R.sibling;var M=f(g,R,v[L],x);if(M===null){R===null&&(R=G);break}e&&R&&M.alternate===null&&t(g,R),p=i(M,p,L),P===null?C=M:P.sibling=M,P=M,R=G}if(L===v.length)return n(g,R),X&&dn(g,L),C;if(R===null){for(;L<v.length;L++)R=h(g,v[L],x),R!==null&&(p=i(R,p,L),P===null?C=R:P.sibling=R,P=R);return X&&dn(g,L),C}for(R=r(g,R);L<v.length;L++)G=w(R,g,L,v[L],x),G!==null&&(e&&G.alternate!==null&&R.delete(G.key===null?L:G.key),p=i(G,p,L),P===null?C=G:P.sibling=G,P=G);return e&&R.forEach(function(V){return t(g,V)}),X&&dn(g,L),C}function S(g,p,v,x){var C=Tr(v);if(typeof C!="function")throw Error(N(150));if(v=C.call(v),v==null)throw Error(N(151));for(var P=C=null,R=p,L=p=0,G=null,M=v.next();R!==null&&!M.done;L++,M=v.next()){R.index>L?(G=R,R=null):G=R.sibling;var V=f(g,R,M.value,x);if(V===null){R===null&&(R=G);break}e&&R&&V.alternate===null&&t(g,R),p=i(V,p,L),P===null?C=V:P.sibling=V,P=V,R=G}if(M.done)return n(g,R),X&&dn(g,L),C;if(R===null){for(;!M.done;L++,M=v.next())M=h(g,M.value,x),M!==null&&(p=i(M,p,L),P===null?C=M:P.sibling=M,P=M);return X&&dn(g,L),C}for(R=r(g,R);!M.done;L++,M=v.next())M=w(R,g,L,M.value,x),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?L:M.key),p=i(M,p,L),P===null?C=M:P.sibling=M,P=M);return e&&R.forEach(function(ie){return t(g,ie)}),X&&dn(g,L),C}function E(g,p,v,x){if(typeof v=="object"&&v!==null&&v.type===Mn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Bs:e:{for(var C=v.key,P=p;P!==null;){if(P.key===C){if(C=v.type,C===Mn){if(P.tag===7){n(g,P.sibling),p=s(P,v.props.children),p.return=g,g=p;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&Ac(C)===P.type){n(g,P.sibling),p=s(P,v.props),p.ref=Ar(g,P,v),p.return=g,g=p;break e}n(g,P);break}else t(g,P);P=P.sibling}v.type===Mn?(p=xn(v.props.children,g.mode,x,v.key),p.return=g,g=p):(x=vi(v.type,v.key,v.props,null,g.mode,x),x.ref=Ar(g,p,v),x.return=g,g=x)}return o(g);case Un:e:{for(P=v.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Zo(v,g.mode,x),p.return=g,g=p}return o(g);case It:return P=v._init,E(g,p,P(v._payload),x)}if(Mr(v))return b(g,p,v,x);if(Tr(v))return S(g,p,v,x);Xs(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,v),p.return=g,g=p):(n(g,p),p=Xo(v,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return E}var ur=Uh(!0),Mh=Uh(!1),Oi=tn(null),Li=null,Kn=null,Pl=null;function Rl(){Pl=Kn=Li=null}function Ol(e){var t=Oi.current;Y(Oi),e._currentValue=t}function Ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){Li=e,Pl=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(Pl!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(Li===null)throw Error(N(308));Kn=e,Li.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var yn=null;function Ll(e){yn===null?yn=[e]:yn.push(e)}function Bh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ll(t)):(n.next=s.next,s.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dt=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,jt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ll(r)):(t.next=s.next,s.next=t),r.interleaved=t,jt(e,n)}function hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wl(e,n)}}function $c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ai(e,t,n,r){var s=e.updateQueue;Dt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,w=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,S=a;switch(f=t,w=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){h=b.call(w,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,f=typeof b=="function"?b.call(w,h,f):b,f==null)break e;h=ne({},h,f);break e;case 2:Dt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else w={eventTime:w,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=h):d=d.next=w,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sn|=o,e.lanes=o,e.memoizedState=h}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Ss={},mt=tn(Ss),fs=tn(Ss),ps=tn(Ss);function vn(e){if(e===Ss)throw Error(N(174));return e}function $l(e,t){switch(K(ps,t),K(fs,e),K(mt,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ga(t,e)}Y(mt),K(mt,t)}function cr(){Y(mt),Y(fs),Y(ps)}function Hh(e){vn(ps.current);var t=vn(mt.current),n=ga(t,e.type);t!==n&&(K(fs,e),K(mt,n))}function Il(e){fs.current===e&&(Y(mt),Y(fs))}var ee=tn(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=[];function Dl(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var fi=Nt.ReactCurrentDispatcher,qo=Nt.ReactCurrentBatchConfig,bn=0,te=null,ue=null,he=null,Ii=!1,Qr=!1,ms=0,Wg=0;function xe(){throw Error(N(321))}function zl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function Ul(e,t,n,r,s,i){if(bn=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=e===null||e.memoizedState===null?Qg:Jg,e=n(r,s),Qr){i=0;do{if(Qr=!1,ms=0,25<=i)throw Error(N(301));i+=1,he=ue=null,t.updateQueue=null,fi.current=Yg,e=n(r,s)}while(Qr)}if(fi.current=Di,t=ue!==null&&ue.next!==null,bn=0,he=ue=te=null,Ii=!1,t)throw Error(N(300));return e}function Ml(){var e=ms!==0;return ms=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?te.memoizedState=he=e:he=he.next=e,he}function Je(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?te.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?te.memoizedState=he=e:he=he.next=e}return he}function gs(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Je(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((bn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,te.lanes|=d,Sn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,ot(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,Sn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qo(e){var t=Je(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ot(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vh(){}function Wh(e,t){var n=te,r=Je(),s=t(),i=!ot(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,Bl(Kh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,ys(9,qh.bind(null,n,r,s,t),void 0,null),fe===null)throw Error(N(349));bn&30||Gh(n,t,s)}return s}function Gh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qh(e,t,n,r){t.value=n,t.getSnapshot=r,Qh(t)&&Jh(e)}function Kh(e,t,n){return n(function(){Qh(t)&&Jh(e)})}function Qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function Jh(e){var t=jt(e,1);t!==null&&it(t,e,1,-1)}function Dc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:e},t.queue=e,e=e.dispatch=Kg.bind(null,te,e),[t.memoizedState,e]}function ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yh(){return Je().memoizedState}function pi(e,t,n,r){var s=ht();te.flags|=e,s.memoizedState=ys(1|t,n,void 0,r===void 0?null:r)}function Yi(e,t,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&zl(r,o.deps)){s.memoizedState=ys(t,n,i,r);return}}te.flags|=e,s.memoizedState=ys(1|t,n,i,r)}function zc(e,t){return pi(8390656,8,e,t)}function Bl(e,t){return Yi(2048,8,e,t)}function Xh(e,t){return Yi(4,2,e,t)}function Zh(e,t){return Yi(4,4,e,t)}function ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4,4,ef.bind(null,t,e),n)}function Fl(){}function nf(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rf(e,t){var n=Je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sf(e,t,n){return bn&21?(ot(n,t)||(n=uh(),te.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Gg(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=qo.transition;qo.transition={};try{e(!1),t()}finally{W=n,qo.transition=r}}function of(){return Je().memoizedState}function qg(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},af(e))lf(t,n);else if(n=Bh(e,t,n,r),n!==null){var s=Ne();it(n,e,r,s),uf(n,t,r)}}function Kg(e,t,n){var r=Jt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(af(e))lf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ot(a,o)){var u=t.interleaved;u===null?(s.next=s,Ll(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Bh(e,t,s,r),n!==null&&(s=Ne(),it(n,e,r,s),uf(n,t,r))}}function af(e){var t=e.alternate;return e===te||t!==null&&t===te}function lf(e,t){Qr=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wl(e,n)}}var Di={readContext:Qe,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},Qg={readContext:Qe,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pi(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return pi(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qg.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Dc,useDebugValue:Fl,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Dc(!1),t=e[0];return e=Gg.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,s=ht();if(X){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),fe===null)throw Error(N(349));bn&30||Gh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,zc(Kh.bind(null,r,i,e),[e]),r.flags|=2048,ys(9,qh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=fe.identifierPrefix;if(X){var n=_t,r=xt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jg={readContext:Qe,useCallback:nf,useContext:Qe,useEffect:Bl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rf,useReducer:Ko,useRef:Yh,useState:function(){return Ko(gs)},useDebugValue:Fl,useDeferredValue:function(e){var t=Je();return sf(t,ue.memoizedState,e)},useTransition:function(){var e=Ko(gs)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Wh,useId:of,unstable_isNewReconciler:!1},Yg={readContext:Qe,useCallback:nf,useContext:Qe,useEffect:Bl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rf,useReducer:Qo,useRef:Yh,useState:function(){return Qo(gs)},useDebugValue:Fl,useDeferredValue:function(e){var t=Je();return ue===null?t.memoizedState=e:sf(t,ue.memoizedState,e)},useTransition:function(){var e=Qo(gs)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Wh,useId:of,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Da(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xi={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Jt(e),i=kt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(it(t,e,s,r),hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Jt(e),i=kt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(it(t,e,s,r),hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=Jt(e),s=kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kt(e,s,r),t!==null&&(it(t,e,r,n),hi(t,e,r))}};function Uc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!us(n,r)||!us(s,i):!0}function cf(e,t,n){var r=!1,s=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=$e(t)?_n:be.current,r=t.contextTypes,i=(r=r!=null)?ar(e,s):Zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function za(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Al(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=$e(t)?_n:be.current,s.context=ar(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Da(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xi.enqueueReplaceState(s,s.state,null),Ai(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t){try{var n="",r=t;do n+=jm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Jo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function df(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ui||(Ui=!0,Qa=r),Ua(e,t)},n}function hf(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ua(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ua(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Bc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=hy.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var Zg=Nt.ReactCurrentOwner,Le=!1;function Ce(e,t,n,r){t.child=e===null?Mh(t,null,n,r):ur(t,e.child,n,r)}function Vc(e,t,n,r,s){n=n.render;var i=t.ref;return rr(t,s),r=Ul(e,t,n,r,i,s),n=Ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(X&&n&&Nl(t),t.flags|=1,Ce(e,t,r,s),t.child)}function Wc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ff(e,t,i,r,s)):(e=vi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(o,r)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Yt(i,r),e.ref=t.ref,e.return=t,t.child=e}function ff(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(us(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return Ma(e,t,n,r,s)}function pf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Jn,ze),ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Jn,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Jn,ze),ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(Jn,ze),ze|=r;return Ce(e,t,s,n),t.child}function mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,s){var i=$e(n)?_n:be.current;return i=ar(t,i),rr(t,s),n=Ul(e,t,n,r,i,s),r=Ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(X&&r&&Nl(t),t.flags|=1,Ce(e,t,n,s),t.child)}function Gc(e,t,n,r,s){if($e(n)){var i=!0;Ti(t)}else i=!1;if(rr(t,s),t.stateNode===null)mi(e,t),cf(t,n,r),za(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=$e(n)?_n:be.current,c=ar(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Mc(t,o,r,c),Dt=!1;var f=t.memoizedState;o.state=f,Ai(t,r,o,s),u=t.memoizedState,a!==r||f!==u||Ae.current||Dt?(typeof d=="function"&&(Da(t,n,d,r),u=t.memoizedState),(a=Dt||Uc(t,n,a,r,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:et(t.type,a),o.props=c,h=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qe(u):(u=$e(n)?_n:be.current,u=ar(t,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Mc(t,o,r,u),Dt=!1,f=t.memoizedState,o.state=f,Ai(t,r,o,s);var b=t.memoizedState;a!==h||f!==b||Ae.current||Dt?(typeof w=="function"&&(Da(t,n,w,r),b=t.memoizedState),(c=Dt||Uc(t,n,c,r,f,b,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,i,s)}function Ba(e,t,n,r,s,i){mf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Rc(t,n,!1),Ct(e,t,i);r=t.stateNode,Zg.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ur(t,e.child,null,i),t.child=ur(t,null,a,i)):Ce(e,t,a,i),t.memoizedState=r.state,s&&Rc(t,n,!0),t.child}function gf(e){var t=e.stateNode;t.pendingContext?Pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pc(e,t.context,!1),$l(e,t.containerInfo)}function qc(e,t,n,r,s){return lr(),Tl(s),t.flags|=256,Ce(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function yf(e,t,n){var r=t.pendingProps,s=ee.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(ee,s&1),e===null)return $a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=to(o,r,0,null),e=xn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ha(n),t.memoizedState=Fa,e):Hl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ey(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Yt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yt(a,i):(i=xn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fa,r}return i=e.child,e=i.sibling,r=Yt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hl(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,n,r){return r!==null&&Tl(r),ur(t,e.child,null,n),e=Hl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ey(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Jo(Error(N(422))),Zs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=to({mode:"visible",children:r.children},s,0,null),i=xn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ur(t,e.child,null,o),t.child.memoizedState=Ha(o),t.memoizedState=Fa,i);if(!(t.mode&1))return Zs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Jo(i,r,void 0),Zs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Le||a){if(r=fe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(e,s),it(r,e,s,-1))}return Ql(),r=Jo(Error(N(421))),Zs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=qt(s.nextSibling),Me=t,X=!0,rt=null,e!==null&&(Ve[We++]=xt,Ve[We++]=_t,Ve[We++]=kn,xt=e.id,_t=e.overflow,kn=t),t=Hl(t,r.children),t.flags|=4096,t)}function Kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ia(e.return,t,n)}function Yo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ce(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,n,t);else if(e.tag===19)Kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$i(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$i(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yo(t,!0,n,null,i);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ty(e,t,n){switch(t.tag){case 3:gf(t),lr();break;case 5:Hh(t);break;case 1:$e(t.type)&&Ti(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;K(Oi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?yf(e,t,n):(K(ee,ee.current&1),e=Ct(e,t,n),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,pf(e,t,n)}return Ct(e,t,n)}var wf,Va,xf,_f;wf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Va=function(){};xf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,vn(mt.current);var i=null;switch(n){case"input":s=ha(e,s),r=ha(e,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=ma(e,s),r=ma(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ni)}ya(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&J("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};_f=function(e,t,n,r){n!==r&&(t.flags|=4)};function $r(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ny(e,t,n){var r=t.pendingProps;switch(El(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return $e(t.type)&&Ei(),_e(t),null;case 3:return r=t.stateNode,cr(),Y(Ae),Y(be),Dl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(Xa(rt),rt=null))),Va(e,t),_e(t),null;case 5:Il(t);var s=vn(ps.current);if(n=t.type,e!==null&&t.stateNode!=null)xf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return _e(t),null}if(e=vn(mt.current),Ys(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ft]=t,r[hs]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<Fr.length;s++)J(Fr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":rc(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":ic(r,i),J("invalid",r)}ya(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Js(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Js(r.textContent,a,e),s=["children",""+a]):ns.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Fs(r),sc(r,i,!0);break;case"textarea":Fs(r),oc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ni)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ft]=t,e[hs]=r,wf(e,t,!1,!1),t.stateNode=e;e:{switch(o=va(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fr.length;s++)J(Fr[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":rc(e,r),s=ha(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),J("invalid",e);break;case"textarea":ic(e,r),s=ma(e,r),J("invalid",e);break;default:s=r}ya(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Yd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qd(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rs(e,u):typeof u=="number"&&rs(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?u!=null&&i==="onScroll"&&J("scroll",e):u!=null&&fl(e,i,u,o))}switch(n){case"input":Fs(e),sc(e,r,!1);break;case"textarea":Fs(e),oc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Zn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)_f(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=vn(ps.current),vn(mt.current),Ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:Js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Js(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return _e(t),null;case 13:if(Y(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Ue!==null&&t.mode&1&&!(t.flags&128))zh(),lr(),t.flags|=98560,i=!1;else if(i=Ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ft]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else rt!==null&&(Xa(rt),rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):Ql())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return cr(),Va(e,t),e===null&&cs(t.stateNode.containerInfo),_e(t),null;case 10:return Ol(t.type._context),_e(t),null;case 17:return $e(t.type)&&Ei(),_e(t),null;case 19:if(Y(ee),i=t.memoizedState,i===null)return _e(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)$r(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$i(e),o!==null){for(t.flags|=128,$r(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>hr&&(t.flags|=128,r=!0,$r(i,!1),t.lanes=4194304)}else{if(!r)if(e=$i(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return _e(t),null}else 2*se()-i.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,r=!0,$r(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=ee.current,K(ee,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Kl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function ry(e,t){switch(El(t),t.tag){case 1:return $e(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),Y(Ae),Y(be),Dl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(Y(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(ee),null;case 4:return cr(),null;case 10:return Ol(t.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var ei=!1,ke=!1,sy=typeof WeakSet=="function"?WeakSet:Set,O=null;function Qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Wa(e,t,n){try{n()}catch(r){re(e,t,r)}}var Qc=!1;function iy(e,t){if(Ea=Si,e=jh(),Cl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(u=o),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},Si=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,E=b.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:et(t.type,S),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){re(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return b=Qc,Qc=!1,b}function Jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wa(t,n,i)}s=s.next}while(s!==r)}}function Zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kf(e){var t=e.alternate;t!==null&&(e.alternate=null,kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[hs],delete t[Oa],delete t[Bg],delete t[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bf(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ni));else if(r!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}var ge=null,tt=!1;function Ot(e,t,n){for(n=n.child;n!==null;)Sf(e,t,n),n=n.sibling}function Sf(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wi,n)}catch{}switch(n.tag){case 5:ke||Qn(n,t);case 6:var r=ge,s=tt;ge=null,Ot(e,t,n),ge=r,tt=s,ge!==null&&(tt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(tt?(e=ge,n=n.stateNode,e.nodeType===8?Vo(e.parentNode,n):e.nodeType===1&&Vo(e,n),as(e)):Vo(ge,n.stateNode));break;case 4:r=ge,s=tt,ge=n.stateNode.containerInfo,tt=!0,Ot(e,t,n),ge=r,tt=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wa(n,t,o),s=s.next}while(s!==r)}Ot(e,t,n);break;case 1:if(!ke&&(Qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){re(n,t,a)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Ot(e,t,n),ke=r):Ot(e,t,n);break;default:Ot(e,t,n)}}function Yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sy),t.forEach(function(r){var s=py.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,tt=!1;break e;case 3:ge=a.stateNode.containerInfo,tt=!0;break e;case 4:ge=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ge===null)throw Error(N(160));Sf(i,o,s),ge=null,tt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jf(t,e),t=t.sibling}function jf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ct(e),r&4){try{Jr(3,e,e.return),Zi(3,e)}catch(S){re(e,e.return,S)}try{Jr(5,e,e.return)}catch(S){re(e,e.return,S)}}break;case 1:Ze(t,e),ct(e),r&512&&n!==null&&Qn(n,n.return);break;case 5:if(Ze(t,e),ct(e),r&512&&n!==null&&Qn(n,n.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(S){re(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gd(s,i),va(a,o);var c=va(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Yd(s,h):d==="dangerouslySetInnerHTML"?Qd(s,h):d==="children"?rs(s,h):fl(s,d,h,c)}switch(a){case"input":fa(s,i);break;case"textarea":qd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Zn(s,!!i.multiple,w,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zn(s,!!i.multiple,i.defaultValue,!0):Zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(S){re(e,e.return,S)}}break;case 6:if(Ze(t,e),ct(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){re(e,e.return,S)}}break;case 3:if(Ze(t,e),ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(S){re(e,e.return,S)}break;case 4:Ze(t,e),ct(e);break;case 13:Ze(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gl=se())),r&4&&Yc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(c=ke)||d,Ze(t,e),ke=c):Ze(t,e),ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,w=f.child,f.tag){case 0:case 11:case 14:case 15:Jr(4,f,f.return);break;case 1:Qn(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(S){re(r,n,S)}}break;case 5:Qn(f,f.return);break;case 22:if(f.memoizedState!==null){Zc(h);continue}}w!==null?(w.return=f,O=w):Zc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Jd("display",o))}catch(S){re(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){re(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(t,e),ct(e),r&4&&Yc(e);break;case 21:break;default:Ze(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bf(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rs(s,""),r.flags&=-33);var i=Jc(e);Ka(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Jc(e);qa(e,a,o);break;default:throw Error(N(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oy(e,t,n){O=e,Cf(e)}function Cf(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ei;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ke;a=ei;var c=ke;if(ei=o,(ke=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?ed(s):u!==null?(u.return=o,O=u):ed(s);for(;i!==null;)O=i,Cf(i),i=i.sibling;O=s,ei=a,ke=c}Xc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Xc(e)}}function Xc(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Zi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&as(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ke||t.flags&512&&Ga(t)}catch(f){re(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Zc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function ed(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zi(4,t)}catch(u){re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){re(t,s,u)}}var i=t.return;try{Ga(t)}catch(u){re(t,i,u)}break;case 5:var o=t.return;try{Ga(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var ay=Math.ceil,zi=Nt.ReactCurrentDispatcher,Vl=Nt.ReactCurrentOwner,qe=Nt.ReactCurrentBatchConfig,H=0,fe=null,oe=null,ye=0,ze=0,Jn=tn(0),ce=0,vs=null,Sn=0,eo=0,Wl=0,Yr=null,Re=null,Gl=0,hr=1/0,yt=null,Ui=!1,Qa=null,Qt=null,ti=!1,Ht=null,Mi=0,Xr=0,Ja=null,gi=-1,yi=0;function Ne(){return H&6?se():gi!==-1?gi:gi=se()}function Jt(e){return e.mode&1?H&2&&ye!==0?ye&-ye:Vg.transition!==null?(yi===0&&(yi=uh()),yi):(e=W,e!==0||(e=window.event,e=e===void 0?16:gh(e.type)),e):1}function it(e,t,n,r){if(50<Xr)throw Xr=0,Ja=null,Error(N(185));_s(e,n,r),(!(H&2)||e!==fe)&&(e===fe&&(!(H&2)&&(eo|=n),ce===4&&Mt(e,ye)),Ie(e,r),n===1&&H===0&&!(t.mode&1)&&(hr=se()+500,Ji&&nn()))}function Ie(e,t){var n=e.callbackNode;Vm(e,t);var r=bi(e,e===fe?ye:0);if(r===0)n!==null&&uc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uc(n),t===1)e.tag===0?Hg(td.bind(null,e)):$h(td.bind(null,e)),Ug(function(){!(H&6)&&nn()}),n=null;else{switch(ch(r)){case 1:n=vl;break;case 4:n=ah;break;case 16:n=ki;break;case 536870912:n=lh;break;default:n=ki}n=Af(n,Nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nf(e,t){if(gi=-1,yi=0,H&6)throw Error(N(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=bi(e,e===fe?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bi(e,r);else{t=r;var s=H;H|=2;var i=Tf();(fe!==e||ye!==t)&&(yt=null,hr=se()+500,wn(e,t));do try{cy();break}catch(a){Ef(e,a)}while(!0);Rl(),zi.current=i,H=s,oe!==null?t=0:(fe=null,ye=0,t=ce)}if(t!==0){if(t===2&&(s=ba(e),s!==0&&(r=s,t=Ya(e,s))),t===1)throw n=vs,wn(e,0),Mt(e,r),Ie(e,se()),n;if(t===6)Mt(e,r);else{if(s=e.current.alternate,!(r&30)&&!ly(s)&&(t=Bi(e,r),t===2&&(i=ba(e),i!==0&&(r=i,t=Ya(e,i))),t===1))throw n=vs,wn(e,0),Mt(e,r),Ie(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:hn(e,Re,yt);break;case 3:if(Mt(e,r),(r&130023424)===r&&(t=Gl+500-se(),10<t)){if(bi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ra(hn.bind(null,e,Re,yt),t);break}hn(e,Re,yt);break;case 4:if(Mt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-st(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ay(r/1960))-r,10<r){e.timeoutHandle=Ra(hn.bind(null,e,Re,yt),r);break}hn(e,Re,yt);break;case 5:hn(e,Re,yt);break;default:throw Error(N(329))}}}return Ie(e,se()),e.callbackNode===n?Nf.bind(null,e):null}function Ya(e,t){var n=Yr;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=Re,Re=n,t!==null&&Xa(t)),e}function Xa(e){Re===null?Re=e:Re.push.apply(Re,e)}function ly(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~Wl,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function td(e){if(H&6)throw Error(N(327));sr();var t=bi(e,0);if(!(t&1))return Ie(e,se()),null;var n=Bi(e,t);if(e.tag!==0&&n===2){var r=ba(e);r!==0&&(t=r,n=Ya(e,r))}if(n===1)throw n=vs,wn(e,0),Mt(e,t),Ie(e,se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Re,yt),Ie(e,se()),null}function ql(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(hr=se()+500,Ji&&nn())}}function jn(e){Ht!==null&&Ht.tag===0&&!(H&6)&&sr();var t=H;H|=1;var n=qe.transition,r=W;try{if(qe.transition=null,W=1,e)return e()}finally{W=r,qe.transition=n,H=t,!(H&6)&&nn()}}function Kl(){ze=Jn.current,Y(Jn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zg(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(El(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:cr(),Y(Ae),Y(be),Dl();break;case 5:Il(r);break;case 4:cr();break;case 13:Y(ee);break;case 19:Y(ee);break;case 10:Ol(r.type._context);break;case 22:case 23:Kl()}n=n.return}if(fe=e,oe=e=Yt(e.current,null),ye=ze=t,ce=0,vs=null,Wl=eo=Sn=0,Re=Yr=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yn=null}return e}function Ef(e,t){do{var n=oe;try{if(Rl(),fi.current=Di,Ii){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ii=!1}if(bn=0,he=ue=te=null,Qr=!1,ms=0,Vl.current=null,n===null||n.return===null){ce=1,vs=t,oe=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=ye,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Fc(o);if(w!==null){w.flags&=-257,Hc(w,o,a,i,t),w.mode&1&&Bc(i,c,t),t=w,u=c;var b=t.updateQueue;if(b===null){var S=new Set;S.add(u),t.updateQueue=S}else b.add(u);break e}else{if(!(t&1)){Bc(i,c,t),Ql();break e}u=Error(N(426))}}else if(X&&a.mode&1){var E=Fc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Hc(E,o,a,i,t),Tl(dr(u,a));break e}}i=u=dr(u,a),ce!==4&&(ce=2),Yr===null?Yr=[i]:Yr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=df(i,u,t);$c(i,g);break e;case 1:a=u;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qt===null||!Qt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=hf(i,a,t);$c(i,x);break e}}i=i.return}while(i!==null)}Rf(n)}catch(C){t=C,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Tf(){var e=zi.current;return zi.current=Di,e===null?Di:e}function Ql(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(Sn&268435455)&&!(eo&268435455)||Mt(fe,ye)}function Bi(e,t){var n=H;H|=2;var r=Tf();(fe!==e||ye!==t)&&(yt=null,wn(e,t));do try{uy();break}catch(s){Ef(e,s)}while(!0);if(Rl(),H=n,zi.current=r,oe!==null)throw Error(N(261));return fe=null,ye=0,ce}function uy(){for(;oe!==null;)Pf(oe)}function cy(){for(;oe!==null&&!$m();)Pf(oe)}function Pf(e){var t=Lf(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?Rf(e):oe=t,Vl.current=null}function Rf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ry(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,oe=null;return}}else if(n=ny(n,t,ze),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ce===0&&(ce=5)}function hn(e,t,n){var r=W,s=qe.transition;try{qe.transition=null,W=1,dy(e,t,n,r)}finally{qe.transition=s,W=r}return null}function dy(e,t,n,r){do sr();while(Ht!==null);if(H&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Wm(e,i),e===fe&&(oe=fe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ti||(ti=!0,Af(ki,function(){return sr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=W;W=1;var a=H;H|=4,Vl.current=null,iy(e,n),jf(n,e),Rg(Ta),Si=!!Ea,Ta=Ea=null,e.current=n,oy(n),Im(),H=a,W=o,qe.transition=i}else e.current=n;if(ti&&(ti=!1,Ht=e,Mi=s),i=e.pendingLanes,i===0&&(Qt=null),Um(n.stateNode),Ie(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ui)throw Ui=!1,e=Qa,Qa=null,e;return Mi&1&&e.tag!==0&&sr(),i=e.pendingLanes,i&1?e===Ja?Xr++:(Xr=0,Ja=e):Xr=0,nn(),null}function sr(){if(Ht!==null){var e=ch(Mi),t=qe.transition,n=W;try{if(qe.transition=null,W=16>e?16:e,Ht===null)var r=!1;else{if(e=Ht,Ht=null,Mi=0,H&6)throw Error(N(331));var s=H;for(H|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Jr(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,w=d.return;if(kf(d),d===c){O=null;break}if(f!==null){f.return=w,O=f;break}O=w}}}var b=i.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=p;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zi(9,a)}}catch(C){re(a,a.return,C)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(H=s,nn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wi,e)}catch{}r=!0}return r}finally{W=n,qe.transition=t}}return!1}function nd(e,t,n){t=dr(n,t),t=df(e,t,1),e=Kt(e,t,1),t=Ne(),e!==null&&(_s(e,1,t),Ie(e,t))}function re(e,t,n){if(e.tag===3)nd(e,e,n);else for(;t!==null;){if(t.tag===3){nd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=dr(n,e),e=hf(t,e,1),t=Kt(t,e,1),e=Ne(),t!==null&&(_s(t,1,e),Ie(t,e));break}}t=t.return}}function hy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(ye&n)===n&&(ce===4||ce===3&&(ye&130023424)===ye&&500>se()-Gl?wn(e,0):Wl|=n),Ie(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):t=1);var n=Ne();e=jt(e,t),e!==null&&(_s(e,t,n),Ie(e,n))}function fy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function py(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Of(e,n)}var Lf;Lf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,ty(e,t,n);Le=!!(e.flags&131072)}else Le=!1,X&&t.flags&1048576&&Ih(t,Ri,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mi(e,t),e=t.pendingProps;var s=ar(t,be.current);rr(t,n),s=Ul(null,t,r,e,s,n);var i=Ml();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)?(i=!0,Ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Al(t),s.updater=Xi,t.stateNode=s,s._reactInternals=t,za(t,r,e,n),t=Ba(null,t,r,!0,i,n)):(t.tag=0,X&&i&&Nl(t),Ce(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gy(r),e=et(r,e),s){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=Gc(null,t,r,e,n);break e;case 11:t=Vc(null,t,r,e,n);break e;case 14:t=Wc(null,t,r,et(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Ma(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Gc(e,t,r,s,n);case 3:e:{if(gf(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Fh(e,t),Ai(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=dr(Error(N(423)),t),t=qc(e,t,r,n,s);break e}else if(r!==s){s=dr(Error(N(424)),t),t=qc(e,t,r,n,s);break e}else for(Ue=qt(t.stateNode.containerInfo.firstChild),Me=t,X=!0,rt=null,n=Mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===s){t=Ct(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return Hh(t),e===null&&$a(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Pa(r,s)?o=null:i!==null&&Pa(r,i)&&(t.flags|=32),mf(e,t),Ce(e,t,o,n),t.child;case 6:return e===null&&$a(t),null;case 13:return yf(e,t,n);case 4:return $l(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ur(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),Vc(e,t,r,s,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,K(Oi,r._currentValue),r._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Ae.current){t=Ct(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=kt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Ia(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ia(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,rr(t,n),s=Qe(s),r=r(s),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,s=et(r,t.pendingProps),s=et(r.type,s),Wc(e,t,r,s,n);case 15:return ff(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:et(r,s),mi(e,t),t.tag=1,$e(r)?(e=!0,Ti(t)):e=!1,rr(t,n),cf(t,r,s),za(t,r,s,n),Ba(null,t,r,!0,e,n);case 19:return vf(e,t,n);case 22:return pf(e,t,n)}throw Error(N(156,t.tag))};function Af(e,t){return oh(e,t)}function my(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new my(e,t,n,r)}function Jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gy(e){if(typeof e=="function")return Jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ml)return 11;if(e===gl)return 14}return 2}function Yt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Jl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mn:return xn(n.children,s,i,t);case pl:o=8,s|=8;break;case la:return e=Ge(12,n,t,s|2),e.elementType=la,e.lanes=i,e;case ua:return e=Ge(13,n,t,s),e.elementType=ua,e.lanes=i,e;case ca:return e=Ge(19,n,t,s),e.elementType=ca,e.lanes=i,e;case Hd:return to(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bd:o=10;break e;case Fd:o=9;break e;case ml:o=11;break e;case gl:o=14;break e;case It:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ge(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function xn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function to(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Hd,e.lanes=n,e.stateNode={isHidden:!1},e}function Xo(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Zo(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yl(e,t,n,r,s,i,o,a,u){return e=new yy(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(i),e}function vy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $f(e){if(!e)return Zt;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if($e(n))return Ah(e,n,t)}return t}function If(e,t,n,r,s,i,o,a,u){return e=Yl(n,r,!0,e,s,i,o,a,u),e.context=$f(null),n=e.current,r=Ne(),s=Jt(n),i=kt(r,s),i.callback=t??null,Kt(n,i,s),e.current.lanes=s,_s(e,s,r),Ie(e,r),e}function no(e,t,n,r){var s=t.current,i=Ne(),o=Jt(s);return n=$f(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(s,t,o),e!==null&&(it(e,s,o,i),hi(e,s,o)),o}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xl(e,t){rd(e,t),(e=e.alternate)&&rd(e,t)}function wy(){return null}var Df=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}ro.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));no(e,t,null,null)};ro.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){no(null,e,null,null)}),t[St]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=fh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&mh(e)}};function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function xy(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Fi(o);i.call(c)}}var o=If(t,r,e,0,null,!1,!1,"",sd);return e._reactRootContainer=o,e[St]=o.current,cs(e.nodeType===8?e.parentNode:e),jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Fi(u);a.call(c)}}var u=Yl(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=u,e[St]=u.current,cs(e.nodeType===8?e.parentNode:e),jn(function(){no(t,u,n,r)}),u}function io(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Fi(o);a.call(u)}}no(t,o,e,s)}else o=xy(n,t,e,s,r);return Fi(o)}dh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(wl(t,n|1),Ie(t,se()),!(H&6)&&(hr=se()+500,nn()))}break;case 13:jn(function(){var r=jt(e,1);if(r!==null){var s=Ne();it(r,e,1,s)}}),Xl(e,1)}};xl=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Ne();it(t,e,134217728,n)}Xl(e,134217728)}};hh=function(e){if(e.tag===13){var t=Jt(e),n=jt(e,t);if(n!==null){var r=Ne();it(n,e,t,r)}Xl(e,t)}};fh=function(){return W};ph=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};xa=function(e,t,n){switch(t){case"input":if(fa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Qi(r);if(!s)throw Error(N(90));Wd(r),fa(r,s)}}}break;case"textarea":qd(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};eh=ql;th=jn;var _y={usingClientEntryPoint:!1,Events:[bs,Vn,Qi,Xd,Zd,ql]},Ir={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{Wi=ni.inject(ky),pt=ni}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;Fe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(t))throw Error(N(200));return vy(e,t,null,n)};Fe.createRoot=function(e,t){if(!eu(e))throw Error(N(299));var n=!1,r="",s=Df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yl(e,1,!1,null,null,n,!1,r,s),e[St]=t.current,cs(e.nodeType===8?e.parentNode:e),new Zl(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=sh(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return jn(e)};Fe.hydrate=function(e,t,n){if(!so(t))throw Error(N(200));return io(null,e,t,!0,n)};Fe.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Df;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=If(t,null,e,1,n??null,s,!1,i,o),e[St]=t.current,cs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ro(t)};Fe.render=function(e,t,n){if(!so(t))throw Error(N(200));return io(null,e,t,!1,n)};Fe.unmountComponentAtNode=function(e){if(!so(e))throw Error(N(40));return e._reactRootContainer?(jn(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Fe.unstable_batchedUpdates=ql;Fe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!so(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return io(e,t,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(e){console.error(e)}}zf(),Dd.exports=Fe;var by=Dd.exports,Uf,id=by;Uf=id.createRoot,id.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>j.createElement("svg",{ref:d,...Sy,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jy(e)}`,a].join(" "),...c},[...t.map(([h,f])=>j.createElement(h,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=pe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=pe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dy="modulepreload",zy=function(e){return"/battle/"+e},ud={},fr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=zy(u),u in ud)return;ud[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Dy,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,w)=>{h.addEventListener("load",f),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class tu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class My extends tu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class By extends tu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fy extends tu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Za;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Za||(Za={}));var Hy=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Vy{constructor(t,{headers:n={},customFetch:r,region:s=Za.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Uy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Hy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new My(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new By(d);if(!d.ok)throw new Fy(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return f==="application/json"?w=yield d.json():f==="application/octet-stream"?w=yield d.blob():f==="text/event-stream"?w=d:f==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null}}catch(s){return{data:null,error:s}}})}}var Oe={},nu={},oo={},js={},ao={},lo={},Wy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pr=Wy();const Gy=pr.fetch,Bf=pr.fetch.bind(pr),Ff=pr.Headers,qy=pr.Request,Ky=pr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ff,Request:qy,Response:Ky,default:Bf,fetch:Gy},Symbol.toStringTag,{value:"Module"})),Qy=Jp(vr);var uo={};Object.defineProperty(uo,"__esModule",{value:!0});let Jy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};uo.default=Jy;var Hf=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lo,"__esModule",{value:!0});const Yy=Hf(Qy),Xy=Hf(uo);let Zy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Yy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,f=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,w="OK")}catch{i.status===404&&S===""?(f=204,w="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,w="OK"),c&&this.shouldThrowOnError)throw new Xy.default(c)}return{error:c,data:d,count:h,status:f,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};lo.default=Zy;var e0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ao,"__esModule",{value:!0});const t0=e0(lo);let n0=class extends t0.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ao.default=n0;var r0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(js,"__esModule",{value:!0});const s0=r0(ao);let i0=class extends s0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};js.default=i0;var o0=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oo,"__esModule",{value:!0});const Dr=o0(js);let a0=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Dr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Dr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oo.default=a0;var co={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.version=void 0;ho.version="0.0.0-automated";Object.defineProperty(co,"__esModule",{value:!0});co.DEFAULT_HEADERS=void 0;const l0=ho;co.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l0.version}`};var Vf=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nu,"__esModule",{value:!0});const u0=Vf(oo),c0=Vf(js),d0=co;let h0=class Wf{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},d0.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new u0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new c0.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};nu.default=h0;var wr=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Gf=wr(nu);Oe.PostgrestClient=Gf.default;const qf=wr(oo);Oe.PostgrestQueryBuilder=qf.default;const Kf=wr(js);Oe.PostgrestFilterBuilder=Kf.default;const Qf=wr(ao);Oe.PostgrestTransformBuilder=Qf.default;const Jf=wr(lo);Oe.PostgrestBuilder=Jf.default;const Yf=wr(uo);Oe.PostgrestError=Yf.default;var f0=Oe.default={PostgrestClient:Gf.default,PostgrestQueryBuilder:qf.default,PostgrestFilterBuilder:Kf.default,PostgrestTransformBuilder:Qf.default,PostgrestBuilder:Jf.default,PostgrestError:Yf.default};const{PostgrestClient:p0,PostgrestQueryBuilder:xw,PostgrestFilterBuilder:_w,PostgrestTransformBuilder:kw,PostgrestBuilder:bw,PostgrestError:Sw}=f0,m0="2.11.2",g0={"X-Client-Info":`realtime-js/${m0}`},y0="1.0.0",Xf=1e4,v0=1e3;var ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ir||(ir={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nt||(nt={}));var el;(function(e){e.websocket="websocket"})(el||(el={}));var mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mn||(mn={}));class w0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const u=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Zf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const cd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=x0(o,e,t,s),i),{})},x0=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ep(i,o):tl(o)},ep=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return S0(t,n)}switch(e){case q.bool:return _0(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return k0(t);case q.json:case q.jsonb:return b0(t);case q.timestamp:return j0(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return tl(t);default:return tl(t)}},tl=e=>e,_0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},b0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},S0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ep(t,a))}return e},j0=e=>typeof e=="string"?e.replace(" ","T"):e,tp=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ta{constructor(t,n,r={},s=Xf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dd||(dd={}));class Zr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Zr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(E=>E.presence_ref),w=h.map(E=>E.presence_ref),b=d.filter(E=>w.indexOf(E.presence_ref)<0),S=h.filter(E=>f.indexOf(E.presence_ref)<0);b.length>0&&(a[c]=b),S.length>0&&(u[c]=S)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const h=t[a].map(w=>w.presence_ref),f=d.filter(w=>h.indexOf(w.presence_ref)<0);t[a].unshift(...f)}r(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hd||(hd={}));var fd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fd||(fd={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class ru{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ta(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Zf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Zr(this),this.broadcastEndpointURL=tp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(vt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,w=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,b=[];for(let S=0;S<w;S++){const E=f[S],{filter:{event:g,schema:p,table:v,filter:x}}=E,C=d&&d[S];if(C&&C.event===g&&C.schema===p&&C.table===v&&C.filter===x)b.push(Object.assign(Object.assign({},E),{id:C.id}));else{this.unsubscribe(),t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ta(this,nt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ta(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=nt;if(r&&[a,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var b,S,E;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(w=>w.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var b,S,E,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const x=w.id,C=(b=w.filter)===null||b===void 0?void 0:b.event;return x&&((S=n.ids)===null||S===void 0?void 0:S.includes(x))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const x=(p=(g=w==null?void 0:w.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:S,table:E,commit_timestamp:g,type:p,errors:v}=b;f=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(b))}w.callback(f,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ru.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nt.close,{},t)}_onError(t){this._on(nt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cd(t.columns,t.old_record)),n}}const C0=()=>{},N0=typeof WebSocket<"u",E0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=g0,this.params={},this.timeout=Xf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=C0,this.conn=null,this.sendBuffer=[],this.serializer=new w0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>fr(async()=>{const{default:u}=await Promise.resolve().then(()=>vr);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${el.websocket}`,this.httpEndpoint=tp(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(N0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new P0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fr(async()=>{const{default:t}=await import("./browser-BSAP8wRS.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:y0}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ir.connecting:return mn.Connecting;case ir.open:return mn.Open;case ir.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}channel(t,n={config:{}}){const r=new ru(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(nt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(v0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([E0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class P0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ir.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class su extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class R0 extends su{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nl extends su{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var O0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const np=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},L0=()=>O0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fr(()=>Promise.resolve().then(()=>vr),void 0)).Response:Response}),rl=e=>{if(Array.isArray(e))return e.map(n=>rl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=rl(r)}),t};var En=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const na=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),A0=(e,t,n)=>En(void 0,void 0,void 0,function*(){const r=yield L0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new R0(na(s),e.status||500))}).catch(s=>{t(new nl(na(s),s))}):t(new nl(na(e),e))}),$0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Cs(e,t,n,r,s,i){return En(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,$0(t,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>A0(u,a,r))})})}function Hi(e,t,n,r){return En(this,void 0,void 0,function*(){return Cs(e,"GET",t,n,r)})}function zt(e,t,n,r,s){return En(this,void 0,void 0,function*(){return Cs(e,"POST",t,r,s,n)})}function I0(e,t,n,r,s){return En(this,void 0,void 0,function*(){return Cs(e,"PUT",t,r,s,n)})}function D0(e,t,n,r){return En(this,void 0,void 0,function*(){return Cs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rp(e,t,n,r,s){return En(this,void 0,void 0,function*(){return Cs(e,"DELETE",t,r,s,n)})}var Pe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const z0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class U0{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=np(s)}uploadOrUpdate(t,n,r,s){return Pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:pd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(de(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield zt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new su("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield zt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Pe(this,void 0,void 0,function*(){try{const s=yield zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,n){return Pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Hi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(t){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Hi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rl(r),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}exists(t){return Pe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield D0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(de(r)&&r instanceof nl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield rp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},z0),n),{prefix:t||""});return{data:yield zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const M0="2.7.1",B0={"X-Client-Info":`storage-js/${M0}`};var $n=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class F0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},B0),n),this.fetch=np(r)}listBuckets(){return $n(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return $n(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $n(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $n(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $n(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $n(this,void 0,void 0,function*(){try{return{data:yield rp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}}class H0 extends F0{constructor(t,n={},r){super(t,n,r)}from(t){return new U0(this.url,this.headers,t,this.fetch)}}const V0="2.49.4";let Hr="";typeof Deno<"u"?Hr="deno":typeof document<"u"?Hr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hr="react-native":Hr="node";const W0={"X-Client-Info":`supabase-js-${Hr}/${V0}`},G0={headers:W0},q0={schema:"public"},K0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q0={};var J0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const Y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Bf:t=fetch,(...n)=>t(...n)},X0=()=>typeof Headers>"u"?Ff:Headers,Z0=(e,t,n)=>{const r=Y0(n),s=X0();return(i,o)=>J0(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ev=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};function tv(e){return e.replace(/\/$/,"")}function nv(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>ev(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const sp="2.69.1",zn=30*1e3,sl=3,ra=sl*zn,rv="http://localhost:9999",sv="supabase.auth.token",iv={"X-Client-Info":`gotrue-js/${sp}`},il="X-Supabase-Api-Version",ip={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ov=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,av=6e5;class iu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lv extends iu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uv(e){return D(e)&&e.name==="AuthApiError"}class op extends iu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class rn extends iu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class At extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cv(e){return D(e)&&e.name==="AuthSessionMissingError"}class sa extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ri extends rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class si extends rn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dv(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class md extends rn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends rn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ia(e){return D(e)&&e.name==="AuthRetryableFetchError"}class gd extends rn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class es extends rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vd=` 	
\r=`.split(""),hv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vd.length;t+=1)e[vd[t].charCodeAt(0)]=-2;for(let t=0;t<yd.length;t+=1)e[yd[t].charCodeAt(0)]=t;return e})();function ap(e,t,n){const r=hv[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{mv(o,r,n)};for(let o=0;o<e.length;o+=1)ap(e.charCodeAt(o),s,i);return t.join("")}function fv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pv(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fv(r,t)}}function mv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gv(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ap(e.charCodeAt(s),n,r);return new Uint8Array(t)}function yv(e){const t=[];return pv(e,n=>t.push(n)),new Uint8Array(t)}function vv(e){return Math.round(Date.now()/1e3)+e}function wv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",cn={tested:!1,writable:!1},ts=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cn.tested)return cn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cn.tested=!0,cn.writable=!0}catch{cn.tested=!0,cn.writable=!1}return cn.writable};function xv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const lp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fr(async()=>{const{default:r}=await Promise.resolve().then(()=>vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_v=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",up=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ii=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},oi=async(e,t)=>{await e.removeItem(t)};class fo{constructor(){this.promise=new fo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}fo.promiseConstructor=Promise;function oa(e){const t=e.split(".");if(t.length!==3)throw new es("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ov.test(t[r]))throw new es("JWT not in base64url format");return{header:JSON.parse(wd(t[0])),payload:JSON.parse(wd(t[1])),signature:gv(t[2]),raw:{header:t[0],payload:t[1]}}}async function kv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bv(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Sv(e){return("0"+e.toString(16)).substr(-2)}function jv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Sv).join("")}async function Cv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Nv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Cv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function In(e,t,n=!1){const r=jv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await up(e,`${t}-code-verifier`,s);const i=await Nv(r);return[i,r===i?"plain":"s256"]}const Ev=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tv(e){const t=e.headers.get(il);if(!t||!t.match(Ev))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Rv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ov=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lv=[502,503,504];async function xd(e){var t;if(!_v(e))throw new ol(fn(e),0);if(Lv.includes(e.status))throw new ol(fn(e),e.status);let n;try{n=await e.json()}catch(i){throw new op(fn(i),i)}let r;const s=Tv(e);if(s&&s.getTime()>=ip["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gd(fn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gd(fn(n),e.status,n.weak_password.reasons);throw new lv(fn(n),e.status||500,r)}const Av=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[il]||(i[il]=ip["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await $v(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function $v(e,t,n,r,s,i){const o=Av(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new ol(fn(u),0)}if(a.ok||await xd(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await xd(u)}}function $t(e){var t;let n=null;Uv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _d(e){const t=$t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Iv(e){return{data:e,error:null}}function Dv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Ov(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function zv(e){return e}function Uv(e){return e.access_token&&e.refresh_token&&e.expires_in}var Mv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Bv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Mv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Dv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zv});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return w.length>0&&(w.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);c[`${E}Page`]=S}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Bt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}const Fv={getItem:e=>ts()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ts()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ts()&&globalThis.localStorage.removeItem(e)}};function kd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dn={debug:!!(globalThis&&ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vv extends cp{}async function Wv(e,t,n){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Hv();const Gv={url:rv,storageKey:sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bd(e,t,n){return await n()}class ws{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Gv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Bv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lp(s.fetch),this.lock=s.lock||bd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Wv:this.lock=bd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ts()?this.storage=Fv:(this.memoryStorage={},this.storage=kd(this.memoryStorage)):(this.memoryStorage={},this.storage=kd(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new op("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:$t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await In(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:w,code_challenge_method:b},xform:$t})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new ri("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_d})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_d})}else throw new ri("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ii(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$t});if(await oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$t}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new sa}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await In(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ri("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await In(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iv})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new At;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ri("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ra:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bt})})}catch(n){if(D(n))return cv(n)&&(await this._removeSession(),await oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new At;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await In(this.storage,this.storageKey));const{data:c,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Bt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=oa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!dt())throw new si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new md("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new md("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new si("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const w=f-d;w*1e3<=zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:S,error:E}=await this._getUser(i);if(E)throw E;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(uv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=wv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await In(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bv(async s=>(s>0&&await kv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ia(i)&&Date.now()+o-r<zn})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ii(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ra;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ra}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ia(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return ia(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await up(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await oi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zn}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await In(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oa(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+av>Date.now()))return r;const{data:s,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new es("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new es("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:w,error:b}=await this.getSession();if(b||!w.session)return{data:null,error:b};r=w.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=oa(r);if(Pv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:i,header:s,signature:o},error:null}}const c=Rv(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,yv(`${a}.${u}`)))throw new es("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}ws.nextInstanceID=0;const qv=ws;class Kv extends qv{constructor(t){super(t)}}var Qv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Jv{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=tv(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:q0,realtime:Q0,auth:Object.assign(Object.assign({},K0),{storageKey:u}),global:G0},d=nv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Z0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new p0(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new H0(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Qv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kv({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new T0(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yv=(e,t,n)=>new Jv(e,t,n),Xv="https://lveuekjktmkmvlxzkoai.supabase.co",Zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2ZXVla2prdG1rbXZseHprb2FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5MzQzNzEsImV4cCI6MjA1NzUxMDM3MX0.1wjy2lo0OYhOtV2nGbXDmeIPxEojCCdAkOZooDilru4",A=Yv(Xv,Zv),pn={dark:{gradient:"from-zinc-700 to-slate-800",text:"text-slate-600",background:"bg-slate-700"},purple:{gradient:"from-purple-500 to-indigo-600",text:"text-purple-600",background:"bg-purple-700"}},ew={appName:"텍스트 배틀",appDescription:"캐릭터 설정을 만들어 다른 사용자들의 캐릭터와 대결하고 승패에 따라 랭킹이 정해집니다.",loading:"로딩 중...",save:"저장",cancel:"취소",edit:"수정",delete:"삭제",login:"로그인",signup:"회원가입",email:"이메일",password:"비밀번호",continueWithGoogle:"Google로 계속하기",accountManagement:"계정",name:"이름",nameNotSet:"(이름 없음)",changePassword:"비밀번호 변경",language:"UI 언어",theme:"테마",themeDark:"다크",themePurple:"퍼플",logout:"로그아웃",deleteAccount:"계정 삭제",deleteAccountConfirm:'계정을 삭제하려면 "계정 삭제"를 입력하세요.',deleteButton:"삭제",deleteAccountConfirmText:"계정 삭제",deleteAccountWrongText:"올바른 확인 텍스트를 입력해주세요.",deleteAccountError:"계정 삭제 중 오류가 발생했습니다.",accountDeletable:"계정은 언제든 삭제할 수 있습니다.",myCharacters:"내 캐릭터",addCharacter:"캐릭터 추가",noCharactersYet:"아직 생성된 캐릭터가 없습니다",createCharacter:"새 캐릭터 만들기",editCharacter:"캐릭터 수정",characterName:"캐릭터 이름",characterDescription:"캐릭터 설정",create:"생성하기",characterInfo:"캐릭터 정보",battleLeague:"배틀 리그",leagueSelection:"리그 선택",leagueHint:"캐릭터가 참여할 리그를 선택하세요",leagueFixed:"리그는 생성 후 변경할 수 없습니다",ranking:"랭킹",battle:"배틀",startBattle:"배틀 시작",battling:"배틀 진행중...",eloScore:"Elo 점수",rank:"순위",winRate:"승률",recentBattleResult:"최근 배틀 결과",win:"승리!",lose:"패배",draw:"무승부",restTime:"휴식 시간",seconds:"초",noRankingsYet:"랭킹 정보가 없습니다",winStreakSingle:"1승 중",winStreakMulti:"연승 중",totalParticipants:"전체 참여자",sessionNotFound:"세션이 없습니다",failedToFetchRankings:"랭킹 데이터를 가져오는데 실패했습니다",contactInfo:"의견, 버그제보: ",ko:"한국어",en:"영어",ja:"일본어",battleStartFailed:"배틀 시작에 실패했습니다. 상대가 없거나 휴식시간이 남아있을 수 있습니다.",getStarted:"Email로 계속하기",insufficientCoins:"배틀코인이 부족합니다. 안내 페이지로 이동할까요?",battleRecord:"전적",totalBattles:"총 배틀",victories:"승리",defeats:"패배",draws:"무승부",battleLanguage:"배틀 언어",battleLanguageHint:"캐릭터간 배틀에 사용되는 언어입니다.",league_daily:"일간",league_daily_reverse:"일간 - 역순위",league_standard:"무기한",quickStart:"익명으로 시작",or:"또는",anonymousAccountNotice:"익명 계정은 기기를 변경하거나 브라우저 데이터를 삭제하면 접근할 수 없게 됩니다.",registerAccount:"계정 등록하기",accountRegistrationSuccess:"계정이 성공적으로 등록되었습니다!",home:"홈",test:"모의 배틀",testScreenDescription:"두 캐릭터의 모의 배틀을 해보세요.",account:"계정",load:"불러오기",selectCharacter:"캐릭터 선택",testBattle:"모의 배틀",opponent:"상대",deleteCharacterConfirm:"캐릭터를 삭제하시겠습니까?",deleteCharacterWarning:"이 작업은 되돌릴 수 없습니다.",connectGoogleAccount:"구글 계정 연결",termsOfService:"이용약관",privacyPolicy:"개인정보 처리방침",totalCharacters:"현재 대전 중인 캐릭터",linkGoogleAccount:"구글 계정 연결",googleAccountLinkSuccess:"구글 계정이 성공적으로 연결되었습니다.",connectGoogleAccountNotice:"구글 계정을 연결하세요. 연결 후 구글 계정으로도 로그인할 수 있습니다.",battleCoins:"배틀 코인",currentCoins:"현재 보유한 코인",coinUsage:"코인 사용처",coinUsage1:"휴식시간 없이 즉시 배틀 가능",coinUsage2:"특별한 배틀 모드 사용 가능",coinUsage3:"랭킹 목록의 캐릭터와 모의 배틀 가능",purchasing:"구매 중...",purchaseCoins:"코인 20개 구매하기",refundInfo:"환불 안내",googleAccountRequired:"구글 계정 생성 또는 연동이 필요합니다. 계정 화면으로 이동할까요?",premiumBattle:"휴식없는 배틀 시작",purchaseCoins20:"코인 20개 구매하기",purchaseCoins220:"코인 220개 구매하기",codeCopied:"코드가 복사되었습니다",copyCode:"코드 복사",codeBattleMenu:"코드 배틀",codeBattle:"코드 배틀",codeBattleDescription:"캐릭터 코드를 직접 입력하여 배틀을 진행할 수 있습니다.",characterCode:"캐릭터 코드",dailyTop:"일간 1위",updatedAt:"업데이트",referralCode:"초대 링크",referralCodeCopied:"초대 링크가 복사되었습니다",referralCodeDescription:"초대 링크로 가입한 친구가 구글 계정을 사용했다면, 코인 3개를 획득할 수 있습니다. (최대 100개까지)",referralCodeGoogleNotice:"구글 계정 연동 시, 초대 링크를 통해 코인을 얻을 수 있습니다.",nextTop:"다음 1위까지"},tw={appName:"Text Battle",appDescription:"Create a character description to battle against other users' characters, and your ranking will be determined by wins and losses.",loading:"Loading...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",login:"Login",signup:"Sign Up",email:"Email",password:"Password",continueWithGoogle:"Continue with Google",accountManagement:"Account",name:"Name",nameNotSet:"(No Name)",changePassword:"Change Password",language:"UI Language",theme:"Theme",themeDark:"Dark",themePurple:"Purple",logout:"Logout",deleteAccount:"Delete Account",deleteAccountConfirm:'Type "Delete Account" to confirm deletion.',deleteButton:"Delete",deleteAccountConfirmText:"Delete Account",deleteAccountWrongText:"Please enter the correct confirmation text.",deleteAccountError:"An error occurred while deleting the account.",accountDeletable:"You can delete your account at any time.",myCharacters:"My Characters",addCharacter:"Add Character",noCharactersYet:"No characters created yet",createCharacter:"Create New Character",editCharacter:"Edit Character",characterName:"Character Name",characterDescription:"Character Description",create:"Create",characterInfo:"Character Info",battleLeague:"Battle League",leagueSelection:"League Selection",leagueHint:"Choose the league for your character",leagueFixed:"League cannot be changed after creation",ranking:"Ranking",battle:"Battle",startBattle:"Start Battle",battling:"Battling...",eloScore:"Elo Score",rank:"Rank",winRate:"Win Rate",recentBattleResult:"Recent Battle Result",win:"Victory!",lose:"Defeat",draw:"Draw",restTime:"Rest Time",seconds:"seconds",noRankingsYet:"No ranking information available",winStreakSingle:"1 win",winStreakMulti:"win streak",totalParticipants:"Total Participants",sessionNotFound:"Session not found",failedToFetchRankings:"Failed to fetch rankings",contactInfo:"Feedback, bug reports: ",ko:"Korean",en:"English",ja:"Japanese",battleStartFailed:"Failed to start battle. There might be remaining rest time or opponent.",getStarted:"Continue with Email",insufficientCoins:"Insufficient battle coins. Would you like to go to the purchase page?",battleRecord:"Battle Record",totalBattles:"Total Battles",victories:"Victories",defeats:"Defeats",draws:"Draws",battleLanguage:"Battle Language",battleLanguageHint:"Language used for character battles",league_daily:"Daily",league_daily_reverse:"Daily - Reverse",league_standard:"Endless",quickStart:"Anonymous Start",or:"or",anonymousAccountNotice:"Anonymous accounts cannot be accessed if you change devices or clear browser data.",registerAccount:"Register Account",accountRegistrationSuccess:"Account registered successfully!",home:"Home",test:"Test Battle",testScreenDescription:"Let the two characters have a mock battle.",account:"Account",load:"Load",selectCharacter:"Select Character",testBattle:"Test Battle",opponent:"Opponent",deleteCharacterConfirm:"Delete Character?",deleteCharacterWarning:"This action cannot be undone.",connectGoogleAccount:"Connect Google Account",termsOfService:"Terms of Service",privacyPolicy:"Privacy Policy",totalCharacters:"Active Characters",linkGoogleAccount:"Link Google Account",googleAccountLinkSuccess:"Google account has been successfully linked.",connectGoogleAccountNotice:"Please connect your Google account. After linking, you can also log in with your Google account.",battleCoins:"Battle Coins",currentCoins:"Current Coins",coinUsage:"Coin Usage",coinUsage1:"Instant battle without rest time",coinUsage2:"Access to special battle modes",coinUsage3:"Mock battle with ranking characters",purchasing:"Purchasing...",purchaseCoins:"Purchase 20 Coins",refundInfo:"Refund Information",googleAccountRequired:"Google account creation or linking is required. Would you like to go to the account screen?",premiumBattle:"Start Battle Without Rest",purchaseCoins20:"Purchase 20 Coins",purchaseCoins220:"Purchase 220 Coins",codeCopied:"Code copied",copyCode:"Copy Code",codeBattleMenu:"Code Battle",codeBattle:"Code Battle",codeBattleDescription:"You can battle by directly entering character codes.",characterCode:"Character Code",dailyTop:"Daily Top",updatedAt:"Updated",referralCode:"Referral Link",referralCodeCopied:"Referral link copied",referralCodeDescription:"If a friend signs up using your invitation link with a Google account, you'll receive 3 coins. (Up to 100 coins total)",referralCodeGoogleNotice:"By linking your Google account, you can receive coins through an invitation link.",nextTop:"Next top until"},nw={appName:"テキストバトル",appDescription:"キャラクター設定を作成して他のユーザーのキャラクターと対戦し、勝敗に応じてランキングが決まります。",loading:"読み込み中...",save:"保存",cancel:"キャンセル",edit:"編集",delete:"削除",login:"ログイン",signup:"会員登録",email:"メールアドレス",password:"パスワード",continueWithGoogle:"Googleで続ける",accountManagement:"アカウント",name:"名前",nameNotSet:"(名前なし)",changePassword:"パスワード変更",language:"UI 言語",theme:"テーマ",themeDark:"ダーク",themePurple:"パープル",logout:"ログアウト",deleteAccount:"アカウント削除",deleteAccountConfirm:"アカウントを削除するには「アカウント削除」と入力してください。",deleteButton:"削除",deleteAccountConfirmText:"アカウント削除",deleteAccountWrongText:"正確な確認テキストを入力してください。",deleteAccountError:"アカウント削除中にエラーが発生しました。",accountDeletable:"アカウントはいつでも削除できます。",myCharacters:"マイキャラ",addCharacter:"キャラクター追加",noCharactersYet:"まだキャラクターが作成されていません",createCharacter:"新しいキャラを作成",editCharacter:"キャラクター編集",characterName:"キャラクター名",characterDescription:"キャラクター設定",create:"作成",characterInfo:"キャラクター情報",battleLeague:"バトルリーグ",leagueSelection:"リーグ選択",leagueHint:"キャラクターが参加するリーグを選択してください",leagueFixed:"リーグは作成後に変更できません",ranking:"ランク",battle:"バトル",startBattle:"バトル開始",battling:"バトル進行中...",eloScore:"Eloスコア",rank:"順位",winRate:"勝率",recentBattleResult:"最近のバトル結果",win:"勝利！",lose:"敗北",draw:"引き分け",restTime:"休憩時間",seconds:"秒",noRankingsYet:"ランキング情報がありません",winStreakSingle:"1勝中",winStreakMulti:"連勝中",totalParticipants:"総参加者",sessionNotFound:"セッションが見つかりません",failedToFetchRankings:"ランキングデータの取得に失敗しました",contactInfo:"ご意見、バグ報告: ",ko:"韓国語",en:"英語",ja:"日本語",battleStartFailed:"バトル開始に失敗しました。対戦相手がいないか、休憩時間が残っているかもしれません。",getStarted:"Emailで続ける",insufficientCoins:"バトルコインが不足しています。購入ページに移動しますか？",battleRecord:"戦績",totalBattles:"総バトル",victories:"勝利",defeats:"敗北",draws:"引き分け",battleLanguage:"バトル言語",battleLanguageHint:"キャラクター間のバトルで使用される言語です。",league_daily:"デイリー",league_daily_reverse:"デイリー - 逆順",league_standard:"エンドレス",quickStart:"匿名で始める",or:"または",anonymousAccountNotice:"これは匿名アカウントです。メールアドレスとパスワードを入力してアカウントをアップグレードできます。",registerAccount:"アカウント登録",accountRegistrationSuccess:"アカウントが正常に登録されました！",home:"ホーム",test:"模バト",testScreenDescription:"二人のキャラクターで模擬バトルをしてみて。",account:"アカウント",load:"ロード",selectCharacter:"キャラクター選択",testBattle:"もぎバトル",opponent:"対戦相手",deleteCharacterConfirm:"キャラクターを削除しますか？",deleteCharacterWarning:"この操作は取り消すことができません。",connectGoogleAccount:"Googleアカウントに接続",termsOfService:"利用規約",privacyPolicy:"プライバシーポリシー",totalCharacters:"現在の対戦キャラクター",linkGoogleAccount:"Googleアカウントを連携",googleAccountLinkSuccess:"Googleアカウントが正常に連携されました。",connectGoogleAccountNotice:"Googleアカウントを連携してください。連携後はGoogleアカウントでもログインできます。",battleCoins:"バトルコイン",currentCoins:"現在のコイン",coinUsage:"コインの使い道",coinUsage1:"休憩時間なしで即時バトル可能",coinUsage2:"特別なバトルモードの使用可能",coinUsage3:"ランキングのキャラクターと模擬バトル可能",purchasing:"購入中...",purchaseCoins:"コイン20個購入",refundInfo:"返金案内",googleAccountRequired:"Googleアカウントの作成または連携が必要です。アカウント画面に移動しますか？",premiumBattle:"休憩なしでバトル開始",purchaseCoins20:"コイン20個購入",purchaseCoins220:"コイン220個購入",codeCopied:"コードがコピーされました",copyCode:"コードをコピー",codeBattleMenu:"コード",codeBattle:"コードバトル",codeBattleDescription:"キャラクターコードを直接入力してバトルを進めることができます。",characterCode:"キャラコード",dailyTop:"デイリートップ",updatedAt:"更新",referralCode:"招待リンク",referralCodeCopied:"招待リンクをコピーしました",referralCodeDescription:"招待リンクから友達がGoogleアカウントで登録すると、コインを3枚獲得できます。（最大100枚まで）",referralCodeGoogleNotice:"Googleアカウントを連携すると、招待リンクを通じてコインを受け取ることができます",nextTop:"次の1位まで"},rw={ko:ew,en:tw,ja:nw},Yn=()=>{if(typeof window>"u")return"en";const e=navigator.language.toLowerCase();return e.startsWith("ko")?"ko":e.startsWith("ja")?"ja":"en"},sw=(e=Yn())=>{let t=e;return{t:i=>rw[t][i],setLanguage:i=>{t=i},getLanguage:()=>t}},gt={ar:"العربية",bn:"বাংলা",bg:"Български","zh-CN":"简体中文","zh-TW":"繁體中文",hr:"Hrvatski",cs:"Čeština",da:"Dansk",nl:"Nederlands",en:"English",et:"Eesti",fa:"فارسی",fi:"Suomi",fr:"Français",de:"Deutsch",el:"Νέα Ελληνικά",gu:"ગુજરાતી",he:"עברית",hi:"हिन्दी",hu:"Magyar nyelv",id:"Bahasa Indonesia",it:"Italiano",ja:"日本語",kn:"ಕನ್ನಡ",ko:"한국어",lv:"Latviešu",lt:"Lietuvių",ml:"മലയാളം",mr:"मराठी",no:"Norsk",pl:"Polski",pt:"Português",ro:"Română",ru:"Русский язык",sr:"Српски",sk:"Slovenčina",sl:"Slovenščina",es:"Español",sw:"Kiswahili",sv:"Svenska",ta:"தமிழ்",te:"తెలుగు",th:"ภาษาไทย",tr:"Türkçe",uk:"Українська",ur:"اردو",vi:"Tiếng Việt"},y=sw(),Xn=()=>{if(typeof window>"u")return gt.en;const e=navigator.language.toLowerCase();if(e.startsWith("zh"))return e.includes("cn")||e.includes("hans")?gt["zh-CN"]:e.includes("tw")||e.includes("hant")?gt["zh-TW"]:gt["zh-CN"];const t=e.split("-")[0];return Object.keys(gt).includes(t)?gt[t]:t==="nb"||t==="nn"?gt.no:gt.en};function iw({onAuthSuccess:e,onLogout:t,isAuthenticated:n,currentTheme:r}){const[s,i]=j.useState(""),[o,a]=j.useState(""),[u,c]=j.useState(!1),[d,h]=j.useState(null),f=async E=>{E.preventDefault(),c(!0),h(null);try{const g=Xn(),{data:p,error:v}=await A.auth.signInWithPassword({email:s,password:o});if(p&&p.user){const x=p.user.user_metadata;if(!x.battle_language_name){const{error:C}=await A.auth.updateUser({data:{...x,battle_language_name:g}});C&&console.error("battle_language_name update failed:",C.message)}}if(v){const{data:x,error:C}=await A.auth.signUp({email:s,password:o});if(C)throw C;if(x&&x.user){const P=Yn(),{error:R}=await A.auth.updateUser({data:{language:P,battle_language_name:g}});R?console.error("update user language failed:",R.message):console.log("user language updated successfully")}}e()}catch(g){h(g.message)}finally{c(!1)}},w=async()=>{c(!0);try{const{error:E}=await A.auth.signOut();if(E)throw E;t()}catch(E){h(E.message)}finally{c(!1)}},b=async()=>{c(!0),h(null);try{const E=Xn(),g=Yn(),{data:p,error:v}=await A.auth.signInAnonymously();if(v)throw v;if(p&&p.user){const{error:x}=await A.auth.updateUser({data:{language:g,battle_language_name:E}});x&&console.error("update user language failed:",x.message)}e()}catch(E){h(E.message)}finally{c(!1)}},S=async()=>{try{c(!0),h(null);const{data:E,error:g}=await A.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://plan9.kr/battle"}});if(g)throw g}catch(E){h(E.message),c(!1)}};return j.useEffect(()=>{(async()=>{const g=new URLSearchParams(window.location.hash.substring(1)),p=g.get("access_token"),v=g.get("refresh_token");if(p){const{data:{session:x},error:C}=await A.auth.setSession({access_token:p,refresh_token:v||""});if(C){console.error("Session setting error:",C);return}if(x){const P=x.user.user_metadata,R=Xn(),L=Yn();if(!P.battle_language_name||!P.language){const{error:G}=await A.auth.updateUser({data:{...P,battle_language_name:P.battle_language_name||R,language:P.language||L}});G?console.error("User metadata update failed:",G.message):console.log("User metadata updated successfully")}e()}}else{const{data:{session:x}}=await A.auth.getSession();if(x){const C=x.user.user_metadata,P=Xn(),R=Yn();if(!C.battle_language_name||!C.language){const{error:L}=await A.auth.updateUser({data:{...C,battle_language_name:C.battle_language_name||P,language:C.language||R}});L?console.error("User metadata update failed:",L.message):console.log("User metadata updated successfully")}e()}}})()},[]),n?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:y.t("logout")}),l.jsx("button",{onClick:w,disabled:u,className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:u?l.jsx(me,{className:"animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Mf,{size:20}),y.t("logout")]})})]})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[d&&l.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:d}),l.jsx("button",{onClick:b,disabled:u,className:`w-full bg-white ${pn[r].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 mb-6 btn-quick-start`,children:u?l.jsx(me,{className:"animate-spin mx-auto"}):y.t("quickStart")}),l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"}),l.jsx("span",{className:"text-sm text-white text-opacity-50",children:y.t("or")}),l.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"})]}),l.jsx("button",{onClick:S,disabled:u,className:"w-full bg-white text-gray-700 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 mb-6",children:u?l.jsx(me,{className:"animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:"https://plan9.kr/battle/google-logo.svg",alt:"Google",className:"w-5 h-5"}),y.t("continueWithGoogle")]})}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2",children:y.t("email")}),l.jsx("input",{type:"email",value:s,onChange:E=>i(E.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block mb-2",children:y.t("password")}),l.jsx("input",{type:"password",value:o,onChange:E=>a(E.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0}),l.jsx("p",{className:"text-sm mt-2 opacity-70",children:y.t("accountDeletable")})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full border border-white  text-white py-2 rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-colors btn-get-started",children:u?l.jsx(me,{className:"animate-spin mx-auto"}):y.t("getStarted")})]})]})})}const ow=async()=>{try{const{data:{session:e}}=await A.auth.getSession();if(!e)return console.error("세션이 없습니다"),[];const{data:t,error:n}=await A.from("characters").select("*").eq("user_id",e.user.id).order("created_at",{ascending:!1});return n?(console.error("캐릭터 불러오기 중 오류:",n),[]):t}catch(e){return console.error("캐릭터 불러오기 중 오류:",e),[]}},aw=async e=>{const{data:{session:t}}=await A.auth.getSession();if(!t)throw new Error("인증이 필요합니다");const{data:n,error:r}=await A.functions.invoke("create_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{...e}});if(r)throw r;return n.data};async function lw(e){if(!e.id)throw new Error("character id required");const{data:{session:t}}=await A.auth.getSession();if(console.log("session",t),!t)throw new Error("authentication required");const{data:n,error:r}=await A.functions.invoke("update_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{name:e.name,description:e.description,character_id:e.id}});if(console.log("updatedCharacter",n),r)throw console.error("failed to update character:",r),r;return n.updatedCharacter}async function uw(e){const{error:t}=await A.from("characters").delete().eq("id",e);if(t)throw t}const cw=async(e,t=!1)=>{const{data:{session:n}}=await A.auth.getSession();if(!n)throw new Error("인증이 필요합니다");if(n&&n.user){const r=n.user.user_metadata;if(!r.battle_language_name){const{error:s}=await A.auth.updateUser({data:{...r,battle_language_name:Xn()}});s&&console.error("battle_language_name update failed:",s.message)}}try{const r=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_text_250430",{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({character_id:e,quickmatch:t})});if(!r.ok){const a=await r.json().catch(()=>null);throw console.error("battle response error:",{status:r.status,statusText:r.statusText,error:a}),new Error((a==null?void 0:a.message)||`battle start failed (${r.status})`)}const s=await r.json();if(!s)throw new Error("no response data");const{data:i,error:o}=await A.functions.invoke("update_character",{headers:{Authorization:`Bearer ${n.access_token}`},body:{character_id:e}});if(o)throw o;return s}catch(r){throw console.error("배틀 요청 중 에러:",r),r}},dp=async e=>{const{data:t,error:n}=await A.rpc("get_character_rank",{character_id:e});if(n)throw n;return t[0].rank};async function dw(e){const{data:t,error:n}=await A.from("characters").select("*").eq("id",e).single();if(n)throw n;try{const r=await dp(e);return{...t,rank:r}}catch(r){return console.error(`순위 정보를 가져오는데 실패했습니다: ${r}`),t}}async function hw(){const{data:e,error:t}=await A.from("character_count").select("total").single();if(t)throw t;return e.total}const zr=()=>(j.useEffect(()=>{const e="google-ads-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0368183753784097",n.async=!0,n.crossOrigin="anonymous",document.body.appendChild(n)}const t=setInterval(()=>{if(window.adsbygoogle){try{window.adsbygoogle.push({})}catch(n){console.error("Adsense loading failed:",n)}clearInterval(t)}},300);return()=>{clearInterval(t)}},[]),l.jsx("ins",{className:"adsbygoogle",style:{display:"block",height:"90px",margin:"1rem auto 1rem"},"data-ad-client":"ca-pub-0368183753784097","data-ad-slot":"2504047860","data-ad-format":"horizontal","data-full-width-responsive":"false"})),Sd=()=>l.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-400 mt-4",children:[l.jsx("a",{href:"https://plan9.kr/terms/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300",children:y.t("termsOfService")}),l.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),l.jsx("a",{href:"https://plan9.kr/privacy/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300",children:y.t("privacyPolicy")})]}),jd=({message:e,duration:t=1e3,onClose:n})=>{const[r,s]=j.useState(!0);return j.useEffect(()=>{const i=setTimeout(()=>{s(!1),setTimeout(n,300)},t);return()=>clearTimeout(i)},[t,n]),l.jsx("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 bg-opacity-90 backdrop-blur-sm text-white px-4 py-3 rounded-lg transition-opacity duration-300 min-w-[280px] max-w-[90vw] shadow-lg font-medium ${r?"opacity-100":"opacity-0"}`,children:e})},Lt=(e,t=30)=>e.length>t?`${e.slice(0,t)}...`:e;function fw(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState("daily"),[o,a]=j.useState(Xn()),[u,c]=j.useState(Yn()),[d,h]=j.useState(!1),[f,w]=j.useState("list"),[b,S]=j.useState(""),[E,g]=j.useState(""),[p,v]=j.useState(!1),[x,C]=j.useState(""),[P,R]=j.useState(!1),[L,G]=j.useState(""),[M,V]=j.useState(null),[ie,we]=j.useState([]),[Tn,Ns]=j.useState(!1),[Se,at]=j.useState(null),[k,$]=j.useState(null),[I,Q]=j.useState(null),[ae,sn]=j.useState(0);j.useState(null),j.useState(null),j.useState(!1);const[Ye,xr]=j.useState(null),[lt,on]=j.useState([]),[hp,ou]=j.useState(!1),[_r,fp]=j.useState("daily"),[au,Es]=j.useState(!1),[lu,pp]=j.useState(null),[uu,cu]=j.useState(null),[Ts,du]=j.useState(!1),[kr,mp]=j.useState(0),[Ps,hu]=j.useState(!1),[fu,pu]=j.useState(null),[Rs,Os]=j.useState(null),[br,mu]=j.useState({code:""}),[Sr,gu]=j.useState({code:""}),[po,yu]=j.useState(!1),[mo,vu]=j.useState(!1),[Et,wu]=j.useState(null);j.useState(null);const[go,xu]=j.useState(0),[_u,ku]=j.useState(null),[an,gp]=j.useState(null),[pw,bu]=j.useState(!1),[jr,yp]=j.useState(0),[vp,wp]=j.useState("");j.useRef(new Map);const Tt=j.useRef(new Map),[yo,Su]=j.useState(new Map),[vo,ju]=j.useState(new Map),[je,wo]=j.useState({name:"",description:""}),[Xe,Ls]=j.useState({name:"",description:""}),[Cu,Nu]=j.useState(""),[Pn,Eu]=j.useState(null),[xo,Tu]=j.useState(!1),[_o,Pu]=j.useState(!1),[ko,Ru]=j.useState(0),[Cr,Ou]=j.useState(null),[As,$s]=j.useState(null),[xp,bo]=j.useState(!1),[Is,_p]=j.useState(null),[Rn,Lu]=j.useState(null),[ut,Au]=j.useState(!1);j.useEffect(()=>{Rn&&Nu(Rn.character_name)},[Rn]);const Ds=async m=>{_p(m),ie.length===0&&!Tn&&await $u(),bo(!0)},kp=m=>{f==="code-battle"?Is===1?mu({code:m.code||""}):Is===2&&gu({code:m.code||""}):Is===1?wo({name:m.name,description:m.description}):Is===2&&Ls({name:m.name,description:m.description}),bo(!1)};j.useEffect(()=>{let m=!0,_=null;return(async()=>{var z,U;try{const{data:{session:Z}}=await A.auth.getSession();m&&(h(!!Z),Z!=null&&Z.user&&(S(Z.user.email||""),g(((z=Z.user.user_metadata)==null?void 0:z.name)||""),C(((U=Z.user.user_metadata)==null?void 0:U.name)||""),Es(Z.user.is_anonymous||!1)))}catch(Z){console.error("세션 체크 중 오류:",Z),m&&h(!1)}})(),_=A.auth.onAuthStateChange((z,U)=>{var Z,Pt,Rt,Er;if(m){const un=!!U;h(un),un?U!=null&&U.user&&(S(U.user.email||""),g(((Z=U.user.user_metadata)==null?void 0:Z.name)||""),C(((Pt=U.user.user_metadata)==null?void 0:Pt.name)||""),Es(U.user.is_anonymous||!1),du(((Er=(Rt=U.user.app_metadata)==null?void 0:Rt.providers)==null?void 0:Er.includes("google"))||!1)):(S(""),g(""),C(""),Es(!1),du(!1),window.location.hash="")}}),()=>{m=!1,_&&_.data.subscription.unsubscribe()}},[]),j.useEffect(()=>{d&&f==="list"&&ie.length===0&&$u()},[d,f]),j.useEffect(()=>{(async()=>{if(f==="character-detail"&&k&&!k.rank)try{const _=await dp(k.id);$(T=>T?{...T,rank:_}:null),we(T=>T.map(z=>z.id===k.id?{...z,rank:_}:z))}catch(_){console.error("랭킹 정보를 가져오는데 실패했습니다:",_)}})()},[f,k]);const $u=async()=>{if(d){Ns(!0),V(null);try{const m=await ow();we(m)}catch(m){console.error("캐릭터 로드 중 오류:",m),m.message==="Login required"?(h(!1),w("list")):V(m.message)}finally{Ns(!1)}}},[Iu,Du]=j.useState(!1),[zu,Uu]=j.useState(!1),bp=async m=>{if(m.preventDefault(),e.trim()&&n.trim())try{Du(!0),V(null);const _=await aw({name:e,description:n,league:s});we([_,...ie]),t(""),r(""),i("daily"),$(_),le("character-detail")}catch(_){V(_.message)}finally{Du(!1)}},Sp=async m=>{if(m.preventDefault(),!!Se&&Se.name.trim()&&Se.description.trim())try{Uu(!0),V(null);const _=await lw(Se);we(ie.map(T=>T.id===_.id?_:T)),at(null),le("list")}catch(_){V(_.message)}finally{Uu(!1)}},[Mu,So]=j.useState(null),[jp,jo]=j.useState(!1),Cp=async()=>{if(Mu)try{await Np(Mu),jo(!1),So(null)}catch{}},Np=async m=>{try{V(null),await uw(m),we(ie.filter(_=>_.id!==m))}catch(_){V(_.message)}},Bu=async(m,_=!1)=>{if(_&&kr<1){window.confirm(y.t("insufficientCoins"))&&le("coin");return}$(m),_?ju(T=>new Map(T).set(m.id,!0)):Su(T=>new Map(T).set(m.id,!0)),we(T=>[...T]);try{const T=await cw(m.id,_);Q(T);const z=await dw(m.id);we(U=>U.map(Z=>Z.id===m.id?z:Z)),Fu(m.id),_&&Us()}catch{alert(y.t("battleStartFailed"))}finally{_?ju(T=>new Map(T).set(m.id,!1)):Su(T=>new Map(T).set(m.id,!1)),we(T=>[...T])}},Ep=async m=>{m.preventDefault();try{const{error:_}=await A.auth.updateUser({data:{name:x}});if(_)throw _;g(x),v(!1),V(null)}catch(_){V(_.message)}},Tp=async()=>{try{const{error:m}=await A.auth.signOut();if(m)throw m;h(!1),window.location.hash=""}catch(m){V(m.message)}},Pp=async()=>{if(L!==y.t("deleteAccountConfirmText")){V(y.t("deleteAccountWrongText"));return}try{const{data:{session:m}}=await A.auth.getSession();if(!m)throw new Error("no session");const{data:_,error:T}=await A.functions.invoke("battle-del-user",{headers:{Authorization:`Bearer ${m.access_token}`}});if(T)throw T;await A.auth.signOut(),h(!1),S(""),g(""),C(""),Es(!1),window.location.hash="",le("list")}catch(m){console.error("계정 삭제 중 오류:",m),V(m.message||y.t("deleteAccountError"))}};j.useEffect(()=>{if(!(k!=null&&k.recent_battle_at))return;const m=()=>{const T=new Date(k.recent_battle_at),U=60-Math.floor((new Date().getTime()-T.getTime())/1e3);return Math.max(0,U)};sn(m());const _=setInterval(()=>{const T=m();sn(T),T<=0&&clearInterval(_)},1e3);return()=>clearInterval(_)},[k==null?void 0:k.recent_battle_at]),j.useEffect(()=>{if(k&&ie.length>0){const m=ie.find(_=>_.id===k.id);m&&$(m)}},[ie,k==null?void 0:k.id]),j.useEffect(()=>{(()=>{const _=localStorage.getItem("characterRestTimes");if(_){const T=JSON.parse(_),z=Date.now();T.forEach(U=>{const Z=Math.ceil((U.endTime-z)/1e3);Z>0&&(Tt.current.set(U.characterId,Z),Fu(U.characterId,U.endTime))})}})()},[]);const Fu=(m,_)=>{As&&clearInterval(As);const T=_||Date.now()+6e4;Tt.current.set(m,60);const z=localStorage.getItem("characterRestTimes"),Z=[...(z?JSON.parse(z):[]).filter(Rt=>Rt.characterId!==m),{characterId:m,endTime:T}];localStorage.setItem("characterRestTimes",JSON.stringify(Z));const Pt=setInterval(()=>{const Rt=Date.now(),Er=Math.ceil((T-Rt)/1e3);if(Er<=0){clearInterval(Pt),Tt.current.delete(m),$s(null);const un=localStorage.getItem("characterRestTimes");if(un){const qp=JSON.parse(un).filter(Kp=>Kp.characterId!==m);localStorage.setItem("characterRestTimes",JSON.stringify(qp))}we(Ju=>[...Ju]);return}Tt.current.set(m,Er),we(un=>[...un])},1e3);return $s(Pt),Pt},Hu=async(m=_r)=>{ou(!0);try{const _=(await A.auth.getSession()).data.session;if(!_)throw new Error("세션이 없습니다");let T;if(m==="daily_reverse"?T=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/ranking_reverse",{method:"POST",headers:{Authorization:`Bearer ${_.access_token}`,"Content-Type":"application/json"}}):T=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_ranking3",{method:"POST",headers:{Authorization:`Bearer ${_.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({league:m})}),!T.ok)throw new Error("랭킹 데이터를 가져오는데 실패했습니다");const z=await T.json();m==="daily_reverse"?(on(z.lowestRankings),z.dailyTotalCount!==void 0&&pp(z.dailyTotalCount)):on(z.rankings)}catch(_){V(_.message)}finally{ou(!1)}},Rp=m=>{fp(m),Hu(m)},zs=j.useCallback(async(m=0)=>{bu(!0);try{const _=(await A.auth.getSession()).data.session;if(!_)throw new Error("세션이 없습니다");const T=await A.functions.invoke("daily_top",{headers:{Authorization:`Bearer ${_.access_token}`},body:{day_before:m}});if(T.error)throw T.error;gp(T.data),yp(m)}catch(_){V(_.message)}finally{bu(!1)}},[]);j.useEffect(()=>{f==="ranking"&&!an&&zs()},[f,an,zs]),j.useEffect(()=>{if(jr===0){const m=()=>{const T=new Date,z=new Date(T);z.setUTCHours(24,0,0,0);const U=z.getTime()-T.getTime(),Z=Math.floor(U/(1e3*60*60)),Pt=Math.floor(U%(1e3*60*60)/(1e3*60)),Rt=Math.floor(U%(1e3*60)/1e3);wp(`${Z}h : ${Pt}m : ${Rt}s`)};m();const _=setInterval(m,1e3);return()=>clearInterval(_)}},[jr,u]);const Vu=hm.memo(()=>l.jsxs("div",{className:"text-center text-sm opacity-70 mt-4",children:[y.t("contactInfo")," ",l.jsx("a",{href:"mailto:sungchi@plan9.kr",className:"hover:underline",children:"sungchi@plan9.kr"})]})),[On,Wu]=j.useState("dark"),ln="/battle/battle_coin.png",Gu=async m=>{try{const{error:_}=await A.auth.updateUser({data:{theme:m}});if(_)throw _;Wu(m),document.body.className=`min-h-screen bg-gradient-to-br ${pn[m].gradient} text-white`}catch(_){V(_.message)}},Co=async m=>{try{const{error:_}=await A.auth.updateUser({data:{language:m}});if(_)throw _;c(m),y.setLanguage(m)}catch(_){V(_.message)}};j.useEffect(()=>{A.auth.getSession().then(({data:{session:m}})=>{var _,T;if(m!=null&&m.user){const z=(_=m.user.user_metadata)==null?void 0:_.theme,U=(T=m.user.user_metadata)==null?void 0:T.language;z&&pn[z]&&(Wu(z),document.body.className=`min-h-screen bg-gradient-to-br ${pn[z].gradient} text-white`),U&&(c(U),y.setLanguage(U))}})},[]),j.useEffect(()=>{f==="ranking"&&Hu(_r)},[_r,f]),j.useEffect(()=>{var m;document.title=y.t("appName"),(m=document.querySelector('meta[name="description"]'))==null||m.setAttribute("content",y.t("appDescription"))},[u]),j.useEffect(()=>{const m=()=>{const _=window.location.hash.replace("#","")||"list";["list","create","battle","account","edit","character-detail","ranking","test","coin","code-battle"].includes(_)?w(_):window.location.hash="list"};return m(),window.addEventListener("hashchange",m),()=>{window.removeEventListener("hashchange",m)}},[]);const le=m=>{["list","create","battle","account","edit","character-detail","ranking","test","coin","code-battle"].includes(m)&&(window.location.hash=m,w(m))},Nr=m=>{(m==="list"||m==="ranking"||m==="account"||m==="test"||m==="coin"||m==="code-battle")&&(window.scrollTo({top:0,behavior:"smooth"}),le(m),Q(null),$(null),at(null))},Op=async m=>{try{a(m),A.auth.getSession().then(({data:{session:_}})=>{_&&A.auth.updateUser({data:{battle_language_name:m}}).then(({error:T})=>{T?console.error("배틀 언어 설정 저장 실패:",T.message):console.log("배틀 언어 설정이 성공적으로 저장되었습니다.")})})}catch(_){console.error("배틀 언어 설정 중 오류 발생:",_)}},qu=async(m=!1)=>{if(m&&kr<1){window.confirm(y.t("insufficientCoins"))&&le("coin");return}if(!je.name||!je.description){alert(y.t("battleStartFailed"));return}if(ut&&!Rn){alert(y.t("battleStartFailed"));return}m?Pu(!0):Tu(!0),Eu(null),Ou(null);try{const _=(await A.auth.getSession()).data.session;if(!_)throw new Error("세션이 없습니다");const T=await A.functions.invoke(ut?"test_battle_new":"test_battle_new_custom",{headers:{Authorization:`Bearer ${_.access_token}`},body:ut?{name1:je.name,desc1:je.description,char2Id:Rn.id,quickmatch:m}:{name1:je.name,desc1:je.description,name2:Xe.name,desc2:Xe.description,quickmatch:m}});if(T.error)throw T.error;Eu(T.data),Ou({name1:je.name,name2:ut?Cu:Xe.name}),As&&clearInterval(As),Ru(60);const z=setInterval(()=>{Ru(U=>U<=1?(clearInterval(z),$s(null),0):U-1)},1e3);$s(z),m&&Us()}catch{alert(y.t("battleStartFailed"))}finally{m?Pu(!1):Tu(!1)}},Lp=()=>l.jsxs(l.Fragment,{children:[l.jsx(zr,{}),l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:y.t("test")}),l.jsx("p",{className:"mb-6",children:y.t("testScreenDescription")}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[y.t("characterInfo")," 1"]}),l.jsx("button",{onClick:()=>Ds(1),className:"btn-load-character1 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:y.t("load")})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{id:"character1-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:je.name,onChange:m=>wo({...je,name:m.target.value}),placeholder:y.t("characterName")})}),l.jsx("div",{className:"mb-4",children:l.jsx("textarea",{id:"character1-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:je.description,onChange:m=>wo({...je,description:m.target.value}),placeholder:y.t("characterDescription"),rows:4})})]}),ut&&Rn?l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold",children:y.t("opponent")}),l.jsx("button",{onClick:()=>{Ls({name:"",description:""}),Nu(""),Au(!1),Lu(null)},className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:y.t("cancel")})]}),l.jsx("div",{className:"text-lg",children:Lt(Cu)})]}):!ut&&l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[y.t("characterInfo")," 2"]}),l.jsx("button",{onClick:()=>Ds(2),className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:y.t("load")})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{id:"character2-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Xe.name,onChange:m=>Ls({...Xe,name:m.target.value}),placeholder:y.t("characterName")})}),l.jsx("div",{className:"mb-4",children:l.jsx("textarea",{id:"character2-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Xe.description,onChange:m=>Ls({...Xe,description:m.target.value}),placeholder:y.t("characterDescription"),rows:4})})]})]}),!ut&&l.jsx("button",{onClick:()=>qu(),disabled:xo||_o||ko>0||!je.name||!je.description||!ut&&(!Xe.name||!Xe.description),className:"btn-start-battle mb-4 w-full bg-white bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:xo?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin mr-2",size:20}),y.t("battling")]}):ko>0?l.jsxs(l.Fragment,{children:[y.t("restTime"),": ",ko,y.t("seconds")]}):l.jsxs(l.Fragment,{children:[l.jsx(ea,{size:18,className:"mr-2"}),y.t("startBattle")]})}),l.jsx("button",{onClick:()=>qu(!0),disabled:xo||_o||!je.name||!je.description||!ut&&(!Xe.name||!Xe.description),className:"btn-start-battle2 mb-6 w-full bg-yellow-500 bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:_o?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin mr-2",size:20}),y.t("battling")]}):l.jsxs(l.Fragment,{children:[ut?y.t("startBattle"):y.t("premiumBattle"),l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-5 h-5"}),"1"]})}),Pn&&Cr&&l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:y.t("recentBattleResult")}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"text-lg",children:Lt(Cr.name1)}),l.jsx("div",{className:"text-lg",children:"VS"}),l.jsx("div",{className:"text-lg",children:Lt(Cr.name2)})]}),l.jsx("pre",{className:"whitespace-pre-wrap font-mono mb-4",children:Pn.battle}),l.jsx("div",{className:`text-center font-bold ${Pn.winner==="1"?"text-green-400":Pn.winner==="2"?"text-red-400":"text-yellow-400"}`,children:Pn.winner==="1"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),l.jsxs("span",{children:[Cr.name1," ",y.t("win")]})]}):Pn.winner==="2"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),l.jsxs("span",{children:[Cr.name2," ",y.t("win")]})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"⚖️"}),l.jsx("span",{children:y.t("draw")})]})})]})]})]})]}),Ap=()=>xp?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] overflow-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold",children:y.t("selectCharacter")}),l.jsx("button",{onClick:()=>bo(!1),className:"p-1 hover:bg-white hover:bg-opacity-10 rounded",children:l.jsx(Iy,{size:20})})]}),Tn?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(me,{className:"animate-spin",size:32})}):ie.length===0?l.jsx("div",{className:"text-center py-8 opacity-70",children:y.t("noCharactersYet")}):l.jsx("div",{className:"space-y-2",children:ie.map(m=>l.jsxs("div",{className:"bg-white bg-opacity-5 p-3 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>kp(m),children:[l.jsx("div",{className:"font-semibold",children:Lt(m.name)}),l.jsx("div",{className:"text-sm opacity-70 truncate",children:m.description})]},m.id))})]})}):null,$p=()=>l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white bg-opacity-10 backdrop-blur-sm border-t border-white border-opacity-30 shadow-lg flex justify-center items-center h-16 z-10",children:l.jsxs("div",{className:"max-w-2xl w-full flex justify-around",children:[l.jsxs("button",{onClick:()=>Nr("list"),className:`btn-tab-home flex flex-col items-center justify-center w-full h-full transition-colors ${f==="list"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[l.jsx(Py,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:y.t("home")})]}),l.jsxs("button",{onClick:()=>Nr("ranking"),className:`btn-tab-ranking flex flex-col items-center justify-center w-full h-full transition-colors ${f==="ranking"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[l.jsx(Cy,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:y.t("ranking")})]}),l.jsxs("button",{onClick:()=>Nr("test"),className:`btn-tab-test flex flex-col items-center justify-center w-full h-full transition-colors ${f==="test"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[l.jsx(Ty,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:y.t("test")})]}),l.jsxs("button",{onClick:()=>Nr("code-battle"),className:`btn-tab-code-battle flex flex-col items-center justify-center w-full h-full transition-colors ${f==="code-battle"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[l.jsx(Ny,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:y.t("codeBattleMenu")})]}),l.jsxs("button",{onClick:()=>Nr("account"),className:`btn-tab-account flex flex-col items-center justify-center w-full h-full transition-colors ${f==="account"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[l.jsx($y,{size:20}),l.jsx("span",{className:"text-xs mt-1",children:y.t("account")})]})]})}),No=async()=>{try{const m=await hw();cu(m)}catch(m){console.error("전체 캐릭터 수를 가져오는데 실패했습니다:",m),cu(null)}};j.useEffect(()=>{No();const m=setInterval(No,3e4);return()=>clearInterval(m)},[]),j.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("code");_&&localStorage.setItem("referralCode",_)},[]);const Us=async()=>{try{const{data:{session:m}}=await A.auth.getSession();if(!m)return;const _=localStorage.getItem("referralCode"),T=await A.functions.invoke("create_coin",{headers:{Authorization:`Bearer ${m.access_token}`},body:{code:_}});if(T.error)throw T.error;mp(T.data.coin),xr(T.data.code),localStorage.removeItem("referralCode")}catch(m){console.error("코인 수를 가져오는데 실패했습니다:",m)}};if(j.useEffect(()=>{d&&Us()},[d]),!d)return l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[l.jsx("h1",{className:"font-bold mb-4 text-3xl",children:y.t("appName")}),l.jsx("p",{className:"text-lg opacity-90 text-left",children:y.t("appDescription")}),uu!==null&&l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm opacity-70 inline-flex items-center gap-2",children:[l.jsx("span",{className:"animate-pulse",children:"🟢"}),y.t("totalCharacters"),":",l.jsx("span",{className:"font-semibold animate-count-up",children:uu})]})})]}),l.jsx(iw,{onAuthSuccess:()=>{typeof window.gtag<"u"&&window.gtag("event","conversion",{send_to:"AW-963865104/DZKZCMXl6MQaEJDUzcsD"}),h(!0),w("list")},onLogout:()=>{h(!1),No()},isAuthenticated:d,currentTheme:On}),l.jsx(Vu,{}),l.jsx(Sd,{})]})});const Ip=()=>l.jsxs("div",{className:"flex justify-between items-center mb-6 no-select",children:[l.jsx("h1",{className:`font-bold cursor-pointer hover:opacity-80 transition-opacity ${u==="ja"?"text-2xl":"text-3xl"}`,onClick:()=>le("list"),children:y.t("appName")}),l.jsxs("div",{className:"btn-coin flex items-center bg-black bg-opacity-20 px-3 py-1.5 rounded-full border border-white border-opacity-20 shadow-lg hover:bg-opacity-30 transition-all cursor-pointer",onClick:async m=>{m.stopPropagation(),le("coin")},children:[l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-6 h-6"}),l.jsx("span",{className:"font-bold ml-2 text-yellow-300 text-shadow leading-none",children:kr})]})]}),Dp=()=>l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:y.t("accountManagement")}),Ts&&l.jsx("img",{src:"https://plan9.kr/battle/google-logo.svg",alt:"Google",className:"w-5 h-5 ml-2"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{children:au?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-4 rounded-lg text-yellow-200 text-sm mb-4",children:y.t("anonymousAccountNotice")}),l.jsxs("button",{onClick:async()=>{try{const{data:m,error:_}=await A.auth.linkIdentity({provider:"google"});if(_)throw _;alert(y.t("googleAccountLinkSuccess"))}catch(m){alert(m.message)}},className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors flex items-center justify-center gap-2 mb-4",children:[l.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),y.t("linkGoogleAccount")]}),l.jsxs("form",{onSubmit:async m=>{m.preventDefault();const _=m.currentTarget.elements.namedItem("email").value,T=m.currentTarget.elements.namedItem("password").value;try{const{data:z,error:U}=await A.auth.updateUser({email:_,password:T});if(U)throw U;alert(y.t("accountRegistrationSuccess"))}catch(z){alert(z.message)}},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",children:y.t("email")}),l.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",children:y.t("password")}),l.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),l.jsx("button",{type:"submit",className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-register-account",children:y.t("registerAccount")})]})]}):l.jsxs(l.Fragment,{children:[p?l.jsxs("form",{onSubmit:Ep,className:"space-y-2",children:[l.jsx("label",{className:"block mb-2",children:y.t("name")}),l.jsx("input",{type:"text",value:x,onChange:m=>C(m.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"bg-white text-slate-600 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-save-name",children:y.t("save")}),l.jsx("button",{type:"button",onClick:()=>{v(!1),C(E)},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-cancel-name",children:y.t("cancel")})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("name")}),l.jsx("div",{children:Lt(E)||y.t("nameNotSet")})]}),l.jsx("button",{onClick:()=>v(!0),className:"bg-white bg-opacity-20 p-2 rounded-lg hover:bg-opacity-30 transition-colors btn-edit-name",children:l.jsx(Ly,{size:20})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("email")}),l.jsx("div",{children:b})]}),!au&&!Ts&&l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-4 rounded-lg text-yellow-200 text-sm mb-4",children:y.t("connectGoogleAccountNotice")}),l.jsxs("button",{onClick:async()=>{try{const{data:m,error:_}=await A.auth.linkIdentity({provider:"google"});if(_)throw _;alert(y.t("googleAccountLinkSuccess"))}catch(m){alert(m.message)}},className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors flex items-center justify-center gap-2",children:[l.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),y.t("linkGoogleAccount")]})]})]})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70 mb-2",children:y.t("language")}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("button",{onClick:()=>Co("ko"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${u==="ko"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ko`,children:"한국어"}),l.jsx("button",{onClick:()=>Co("en"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${u==="en"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-en`,children:"English"}),l.jsx("button",{onClick:()=>Co("ja"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${u==="ja"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ja`,children:"日本語"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"text-sm opacity-70 mb-2",children:y.t("battleLanguage")}),l.jsx("select",{value:o,onChange:m=>Op(m.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg 
                  border border-white border-opacity-30 focus:outline-none focus:border-opacity-50
                  appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:Object.entries(gt).map(([m,_])=>l.jsx("option",{value:_,className:"bg-slate-800 text-white",children:_},m))}),l.jsx("div",{className:"text-xs opacity-50 mt-1",children:y.t("battleLanguageHint")})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70 mb-2",children:y.t("theme")}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>Gu("dark"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${On==="dark"?"border-white":"border-transparent"} bg-gradient-to-br from-zinc-700 to-slate-800 btn-theme-dark`,children:y.t("themeDark")}),l.jsx("button",{onClick:()=>Gu("purple"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${On==="purple"?"border-white":"border-transparent"} bg-gradient-to-br from-purple-500 to-indigo-600 btn-theme-purple`,children:y.t("themePurple")})]})]}),l.jsxs("button",{onClick:Tp,className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 btn-logout",children:[l.jsx(Mf,{size:20}),y.t("logout")]}),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>R(!0),className:"text-red-400 hover:text-red-300 transition-colors flex items-center gap-2 btn-delete-account",children:[l.jsx(ld,{size:20}),y.t("deleteAccount")]}),P&&l.jsxs("div",{className:"mt-4 p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[l.jsx("p",{className:"text-sm mb-2",children:y.t("deleteAccountConfirm")}),l.jsx("input",{type:"text",value:L,onChange:m=>G(m.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50 mb-2"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Pp,className:"bg-red-500 px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition-colors btn-delete-confirm",children:y.t("deleteButton")}),l.jsx("button",{onClick:()=>{R(!1),G("")},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-delete-cancel",children:y.t("cancel")})]})]})]})]})]}),zp=()=>l.jsxs(l.Fragment,{children:[l.jsx(zr,{}),l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:` font-semibold ${u==="ja"?"text-lg":"text-xl"}`,children:y.t("myCharacters")})}),Tn?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(me,{className:"animate-spin",size:32})}):ie.length===0?l.jsx("div",{className:"text-center text-lg opacity-70 py-8",children:y.t("noCharactersYet")}):l.jsx("div",{className:"space-y-4",children:ie.map(m=>l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>{$(m),le("character-detail")},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-lg font-semibold",children:Lt(m.name)}),Tt.current.has(m.id)&&l.jsx(Ry,{size:18,className:"text-blue-400 animate-bounce"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:_=>{_.stopPropagation(),at(m),le("edit")},className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-edit-character",children:l.jsx(Ay,{size:18})}),l.jsx("button",{onClick:_=>{_.stopPropagation(),So(m.id),jo(!0)},className:"p-2 text-red-400 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-delete-character",children:l.jsx(ld,{size:18})})]})]}),l.jsx("p",{className:"text-sm opacity-80 break-all",children:m.description}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-lg text-sm",children:[m.elo_rate," Elo"]}),m&&m.streak?l.jsxs("div",{className:"ml-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-sm font-bold animate-pulse",children:[m.streak===1?y.t("winStreakSingle"):`${m.streak} ${y.t("winStreakMulti")}`,l.jsx("span",{className:"ml-1",children:"🔥"})]}):null]})]},m.id))})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("button",{onClick:()=>le("create"),className:"bg-white bg-opacity-20 p-3 hover:bg-opacity-30 transition-colors rounded-full flex items-center gap-2 mx-auto px-6 disabled:opacity-50 disabled:cursor-not-allowed btn-add-character",disabled:ie.length>=5,children:[l.jsx(Oy,{size:20}),l.jsx("span",{children:y.t("addCharacter")}),l.jsxs("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${pn[On].background} text-white`,children:[ie.length,"/5"]})]})})]}),Up=()=>l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>le("list"),className:" hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-create-character-back",children:l.jsx(An,{size:24})}),l.jsx("h2",{className:"text-xl font-semibold",children:y.t("createCharacter")})]}),l.jsxs("form",{onSubmit:bp,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2",children:y.t("characterName")}),l.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2",children:y.t("characterDescription")}),l.jsx("textarea",{value:n,onChange:m=>r(m.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),l.jsxs("div",{className:"text-right text-sm mt-1",children:[n.length,"/100"]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2",children:y.t("battleLeague")}),l.jsx("p",{className:"text-sm opacity-70 mb-2",children:y.t("leagueHint")}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("button",{type:"button",onClick:()=>i("daily"),className:`p-2 rounded-lg flex-1 ${s==="daily"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:y.t("league_daily")}),l.jsx("button",{type:"button",onClick:()=>i("standard"),className:`p-2 rounded-lg flex-1 ${s==="standard"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:y.t("league_standard")})]}),l.jsx("div",{className:"text-sm mt-2 opacity-70",children:y.t("leagueFixed")})]}),l.jsx("button",{type:"submit",disabled:Iu,className:`w-full bg-white ${pn[On].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-create-character`,children:Iu?l.jsx(me,{className:"animate-spin mx-auto"}):y.t("create")})]})]}),Mp=()=>Se?l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>{at(null),le("list")},className:"hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-edit-character-back",children:l.jsx(An,{size:24})}),l.jsx("h2",{className:"text-xl font-semibold",children:y.t("editCharacter")})]}),l.jsxs("form",{onSubmit:Sp,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2",children:y.t("characterName")}),l.jsx("input",{type:"text",value:Se.name,onChange:m=>at({...Se,name:m.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block mb-2",children:y.t("characterDescription")}),l.jsx("textarea",{value:Se.description,onChange:m=>at({...Se,description:m.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),l.jsxs("div",{className:"text-right text-sm mt-1",children:[Se.description.length,"/100"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block mb-2",children:y.t("battleLeague")}),l.jsxs("div",{className:"p-2 bg-white bg-opacity-10 border border-white border-opacity-30 rounded",children:[l.jsx("div",{className:"font-semibold",children:Se.league==="daily"?y.t("league_daily"):y.t("league_standard")}),l.jsx("div",{className:"text-sm mt-1 opacity-70",children:y.t("leagueFixed")})]})]}),l.jsx("button",{type:"submit",disabled:zu,className:`w-full bg-white ${pn[On].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-edit-character-save`,children:zu?l.jsx(me,{className:"animate-spin mx-auto"}):y.t("save")})]})]}):null,Bp=()=>{if(!k)return null;const m=k.battle_count-(k.win_count+k.lose_count),_=k.battle_count>0?(k.win_count/k.battle_count*100).toFixed(2):"-";return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("button",{onClick:()=>{$(null),Q(null),le("list")},className:"hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-character-detail-back",children:l.jsx(An,{size:24})})}),k.code&&l.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(k.code),Os(y.t("codeCopied"))},className:"btn-copy-code bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors flex items-center gap-1",children:[l.jsx(ad,{size:16}),y.t("copyCode")]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("h2",{className:"text-2xl font-bold",children:k.name}),l.jsx("div",{className:"flex items-center gap-2",children:k&&k.streak?l.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-base font-bold animate-pulse",children:[k.streak===1?y.t("winStreakSingle"):`${k.streak} ${y.t("winStreakMulti")}`,l.jsx("span",{className:"ml-1",children:"🔥"})]}):null})]}),l.jsx("p",{className:"text-sm opacity-70 mb-4",children:k.description}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("eloScore")}),l.jsx("div",{className:"text-xl font-bold",children:k.elo_rate})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("rank")}),l.jsx("div",{className:"text-xl font-bold",children:k.rank?`#${k.rank}`:"-"})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("winRate")}),l.jsxs("div",{className:"text-xl font-bold",children:[_,"%"]})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("battleLeague")}),l.jsx("div",{className:"text-xl font-bold",children:k.league==="daily"?y.t("league_daily"):y.t("league_standard")})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:y.t("battleRecord")}),l.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("totalBattles")}),l.jsx("div",{className:"text-xl font-bold",children:k.battle_count})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("victories")}),l.jsx("div",{className:"text-xl font-bold text-green-400",children:k.win_count})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("defeats")}),l.jsx("div",{className:"text-xl font-bold text-red-400",children:k.lose_count})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:y.t("draws")}),l.jsx("div",{className:"text-xl font-bold",children:m})]})]})]}),I&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:y.t("recentBattleResult")}),l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"text-lg",children:Lt(I.my_character)}),l.jsx("div",{className:"text-lg",children:"VS"}),l.jsx("div",{className:"text-lg",children:Lt(I.opponent_character)})]}),l.jsx("p",{className:"mb-4 break-all",children:I.battle}),l.jsx("div",{className:`text-center font-bold ${I.winner==="1"?"text-green-400 animate-bounce-in":I.winner==="2"?"text-red-400 animate-shake":"text-yellow-400 animate-scale"}`,children:I.winner==="1"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2 animate-bounce-in",children:"🎉"}),l.jsx("span",{children:y.t("win")})]}):I.winner==="2"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2 animate-shake",children:"💀"}),l.jsx("span",{children:y.t("lose")})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2 animate-scale",children:"⚖️"}),l.jsx("span",{children:y.t("draw")})]})})]})]}),l.jsx("button",{onClick:()=>Bu(k),disabled:yo.get(k.id)||vo.get(k.id)||Tt.current.has(k.id),className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed btn-character-detail-battle mb-4",children:yo.get(k.id)?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin",size:18}),y.t("battling")]}):Tt.current.has(k.id)?l.jsxs(l.Fragment,{children:[y.t("restTime"),": ",Tt.current.get(k.id),y.t("seconds")]}):l.jsxs(l.Fragment,{children:[l.jsx(ea,{size:18}),y.t("startBattle")]})}),l.jsx("button",{onClick:()=>Bu(k,!0),disabled:yo.get(k.id)||vo.get(k.id),className:"w-full bg-yellow-500 bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed btn-character-detail-premium-battle mt-2",children:vo.get(k.id)?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin",size:18}),y.t("battling")]}):l.jsxs(l.Fragment,{children:[y.t("premiumBattle"),l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-5 h-5"}),"1"]})})]}),l.jsx(zr,{}),Rs&&l.jsx(jd,{message:Rs,onClose:()=>Os(null)})]})},Fp=()=>{if(!an||an.rankings.length===0)return null;const m=an.rankings[0],_=new Date(m.created_at),T=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")} ${_.getHours()>=12?"PM":"AM"} ${String(_.getHours()%12||12).padStart(2,"0")}:${String(_.getMinutes()).padStart(2,"0")}`;return l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:"👑"}),y.t("dailyTop")]}),l.jsxs("div",{className:"flex items-center gap-2",children:[an.prev&&l.jsx("button",{onClick:()=>zs(jr-1),className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:l.jsx(An,{size:20})}),an.next&&l.jsx("button",{onClick:()=>zs(jr+1),className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:l.jsx(An,{size:20,className:"rotate-180"})})]})]}),l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h4",{className:"text-lg font-bold",children:m.name})}),l.jsxs("div",{className:"text-xl font-bold",children:[m.elo_rate," Elo"]})]}),l.jsx("div",{className:"text-sm opacity-70",children:m.user_name||y.t("nameNotSet")}),l.jsx("div",{className:"mt-4 text-sm",children:jr===0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm opacity-70",children:[y.t("nextTop")," "]}),l.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:vp})]}):l.jsxs("span",{className:"text-sm opacity-70",children:[y.t("updatedAt"),": ",T]})})]})]})},Hp=()=>l.jsxs(l.Fragment,{children:[l.jsx(zr,{}),Fp(),l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:y.t("ranking")}),l.jsx("div",{className:"ml-auto",children:l.jsxs("select",{value:_r,onChange:m=>Rp(m.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg 
                border border-white border-opacity-30 focus:outline-none focus:border-opacity-50
                appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:[l.jsx("option",{value:"daily",className:"bg-slate-800 text-white",children:y.t("league_daily")}),l.jsx("option",{value:"daily_reverse",className:"bg-slate-800 text-white",children:y.t("league_daily_reverse")}),l.jsx("option",{value:"standard",className:"bg-slate-800 text-white",children:y.t("league_standard")})]})})]}),hp?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(me,{className:"animate-spin",size:32})}):lt.length===0?l.jsx("div",{className:"text-center py-8 opacity-70",children:y.t("noRankingsYet")}):l.jsx("div",{className:"space-y-4",children:lt.map((m,_)=>l.jsx("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex min-w-0",children:[l.jsx("div",{className:"w-10 text-center font-bold text-xl flex-shrink-0",children:_r==="daily_reverse"&&lu!==null?lu-_:_+1}),l.jsxs("div",{className:"ml-4 overflow-hidden",children:[l.jsx("div",{className:"font-semibold truncate",children:m.character_name}),l.jsx("div",{className:"text-sm opacity-70 truncate",children:m.user_name?m.user_name:y.t("nameNotSet")})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[l.jsxs("div",{className:"font-bold",children:[m.elo_rate," Elo"]}),l.jsx("button",{onClick:()=>{Lu(m),Au(!0),le("test")},className:"btn-ranking-test bg-white bg-opacity-20 px-2 py-1 text-xs rounded hover:bg-opacity-30 transition-colors",children:y.t("testBattle")})]})]})},_))})]})]}),Ku=async m=>{if(!Ts){if(window.confirm(y.t("googleAccountRequired"))){le("account");return}return}hu(!0),pu(m);try{const{data:{session:_}}=await A.auth.getSession();if(!_)throw new Error("세션이 없습니다");const T=await A.functions.invoke("purchase1",{headers:{Authorization:`Bearer ${_.access_token}`},body:{sku:m}});if(T.error)throw T.error;const{token:z}=T.data;window.location.href=`https://secure.xsolla.com/paystation4/?token=${z}`}catch(_){console.error("코인 구매 중 오류 발생:",_)}finally{hu(!1),pu(null)}},Vp=()=>l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>le("list"),className:"hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors",children:l.jsx(An,{size:24})}),l.jsx("h2",{className:"text-xl font-semibold ml-4",children:y.t("battleCoins")})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white bg-opacity-5 p-6 rounded-lg text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-9 h-9"}),l.jsx("span",{className:"text-3xl font-bold text-yellow-300 leading-none -mt-1",children:kr})]}),l.jsx("p",{className:"text-sm opacity-70",children:y.t("currentCoins")})]}),l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:y.t("coinUsage")}),l.jsxs("ul",{className:"space-y-2 text-sm opacity-80",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(od,{size:16,className:"text-green-400"}),y.t("coinUsage1")]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(od,{size:16,className:"text-green-400"}),y.t("coinUsage3")]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>Ku("battle_coin_10"),disabled:Ps,className:"w-full bg-yellow-500 text-black py-3 rounded-lg font-semibold hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ps&&fu==="battle_coin_10"?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin",size:20}),y.t("purchasing")]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-5 h-5"}),y.t("purchaseCoins20")]})}),l.jsx("button",{onClick:()=>Ku("battle_coin_220"),disabled:Ps,className:"w-full bg-yellow-500 text-black py-3 rounded-lg font-semibold hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ps&&fu==="battle_coin_220"?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin",size:20}),y.t("purchasing")]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-5 h-5"}),y.t("purchaseCoins220")]})})]}),l.jsx("div",{className:"text-center",children:l.jsxs("a",{href:"https://wallet.xsolla.com/article/i-made-a-payment-and-need-a-refund",target:"_blank",rel:"noopener noreferrer",className:"text-sm opacity-70 hover:opacity-100 transition-opacity flex items-center justify-center gap-1",children:[l.jsx(Ey,{size:14}),y.t("refundInfo")]})}),Ts?Ye&&l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:y.t("referralCode")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:`https://plan9.kr/battle/?code=${Ye}`,readOnly:!0,className:"flex-1 p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`https://plan9.kr/battle/?code=${Ye}`),Os(y.t("referralCodeCopied"))},className:"btn-copy-referral bg-white bg-opacity-20 p-2 rounded hover:bg-opacity-30 transition-colors",children:l.jsx(ad,{size:20})})]}),l.jsx("p",{className:"text-sm opacity-70 mt-2",children:y.t("referralCodeDescription")})]}):l.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:y.t("referralCode")}),l.jsx("p",{className:"text-sm opacity-70 mb-4",children:y.t("referralCodeGoogleNotice")}),l.jsxs("button",{onClick:()=>le("account"),className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors flex items-center justify-center gap-2",children:[l.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),y.t("linkGoogleAccount")]})]})]}),Rs&&l.jsx(jd,{message:Rs,onClose:()=>Os(null)})]}),Wp=()=>l.jsx(Vp,{}),Qu=async(m=!1)=>{if(m&&kr<1){window.confirm(y.t("insufficientCoins"))&&le("coin");return}if(!br.code||!Sr.code){alert(y.t("battleStartFailed"));return}m?vu(!0):yu(!0),wu(null);try{const _=(await A.auth.getSession()).data.session;if(!_)throw new Error("세션이 없습니다");const T=await A.functions.invoke("test_battle_code",{headers:{Authorization:`Bearer ${_.access_token}`},body:{char1code:br.code,char2code:Sr.code,quickmatch:m}});if(T.error)throw T.error;if(wu(T.data),!m){_u&&clearInterval(_u),xu(60);const z=setInterval(()=>{xu(U=>U<=1?(clearInterval(z),ku(null),0):U-1)},1e3);ku(z)}m&&Us()}catch{alert(y.t("battleStartFailed"))}finally{m?vu(!1):yu(!1)}},Gp=()=>l.jsxs(l.Fragment,{children:[l.jsx(zr,{}),l.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:y.t("codeBattle")}),l.jsx("p",{className:"mb-6",children:y.t("codeBattleDescription")}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[y.t("characterCode")," 1"]}),l.jsx("button",{onClick:()=>Ds(1),className:"btn-load-character1-code bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:y.t("load")})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:br.code,onChange:m=>mu({code:m.target.value}),placeholder:y.t("characterCode"),maxLength:8})})]}),l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[y.t("characterCode")," 2"]}),l.jsx("button",{onClick:()=>Ds(2),className:"btn-load-character2-code bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:y.t("load")})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Sr.code,onChange:m=>gu({code:m.target.value}),placeholder:y.t("characterCode"),maxLength:8})})]})]}),l.jsx("button",{onClick:()=>Qu(),disabled:po||mo||!br.code||!Sr.code||go>0,className:"btn-start-code-battle mb-4 w-full bg-white bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:po?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin mr-2",size:20}),y.t("battling")]}):go>0?l.jsxs(l.Fragment,{children:[y.t("restTime"),": ",go,y.t("seconds")]}):l.jsxs(l.Fragment,{children:[l.jsx(ea,{size:18,className:"mr-2"}),y.t("startBattle")]})}),l.jsx("button",{onClick:()=>Qu(!0),disabled:po||mo||!br.code||!Sr.code,className:"btn-start-code-battle2 mb-6 w-full bg-yellow-500 bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:mo?l.jsxs(l.Fragment,{children:[l.jsx(me,{className:"animate-spin mr-2",size:20}),y.t("battling")]}):l.jsxs(l.Fragment,{children:[y.t("premiumBattle"),l.jsx("img",{src:ln,alt:"Battle Coin",className:"w-5 h-5"}),"1"]})}),Et&&l.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:y.t("recentBattleResult")}),l.jsxs("div",{className:"mb-4",children:[l.jsx("pre",{className:"whitespace-pre-wrap font-mono mb-4",children:Et.battle}),l.jsx("div",{className:`text-center font-bold ${Et.winner==="1"?"text-green-400":Et.winner==="2"?"text-red-400":"text-yellow-400"}`,children:Et.winner==="1"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),l.jsxs("span",{children:[Et.my_character," ",y.t("win")]})]}):Et.winner==="2"?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"🎉"}),l.jsxs("span",{children:[Et.opponent_character," ",y.t("win")]})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-4xl mb-2",children:"⚖️"}),l.jsx("span",{children:y.t("draw")})]})})]})]})]})]});return l.jsx("div",{className:"p-8 pb-24",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[Ip(),M&&l.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:M}),f==="account"&&Dp(),f==="list"&&zp(),f==="create"&&Up(),f==="edit"&&Mp(),f==="character-detail"&&Bp(),f==="ranking"&&Hp(),f==="test"&&Lp(),f==="code-battle"&&Gp(),f==="coin"&&Wp(),jp&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-sm w-full",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:y.t("deleteCharacterConfirm")}),l.jsx("p",{className:"mb-6 opacity-70",children:y.t("deleteCharacterWarning")}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:Cp,className:"flex-1 bg-red-500 hover:bg-red-600 transition-colors py-2 rounded-lg font-semibold",children:y.t("delete")}),l.jsx("button",{onClick:()=>{jo(!1),So(null)},className:"flex-1 bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors py-2 rounded-lg font-semibold",children:y.t("cancel")})]})]})}),l.jsx(Vu,{}),l.jsx(Sd,{}),$p(),Ap()]})})}Uf(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(fw,{})}));export{Qp as g};
