(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ff(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ec={exports:{}},ki={},Cc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Gf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),nu=Symbol.iterator;function Xf(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tc=Object.assign,Pc={};function or(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Nc}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oc(){}Oc.prototype=or.prototype;function Oa(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Nc}var Ra=Oa.prototype=new Oc;Ra.constructor=Oa;Tc(Ra,or.prototype);Ra.isPureReactComponent=!0;var ru=Array.isArray,Rc=Object.prototype.hasOwnProperty,La={current:null},Lc={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Rc.call(t,r)&&!Lc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ns,type:e,key:i,ref:o,props:s,_owner:La.current}}function Zf(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $a(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function ep(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var su=/\/+/g;function Xi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ep(""+e.key):t.toString(36)}function Ds(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case Bf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Xi(o,0):r,ru(s)?(n="",e!=null&&(n=e.replace(su,"$&/")+"/"),Ds(s,t,n,"",function(c){return c})):s!=null&&($a(s)&&(s=Zf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(su,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ru(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Xi(i,a);o+=Ds(i,t,n,l,s)}else if(l=Xf(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Xi(i,a++),o+=Ds(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(e,t,n){if(e==null)return e;var r=[],s=0;return Ds(e,r,"","",function(i){return t.call(n,i,s++)}),r}function tp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},zs={transition:null},np={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:zs,ReactCurrentOwner:La};function Ac(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ms,forEach:function(e,t,n){ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!$a(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=or;z.Fragment=Hf;z.Profiler=Wf;z.PureComponent=Oa;z.StrictMode=Vf;z.Suspense=Jf;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np;z.act=Ac;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=La.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Rc.call(t,l)&&!Lc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ns,type:e.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(e){return e={$$typeof:Qf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kf,_context:e},e.Consumer=e};z.createElement=$c;z.createFactory=function(e){var t=$c.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:qf,render:e}};z.isValidElement=$a;z.lazy=function(e){return{$$typeof:Yf,_payload:{_status:-1,_result:e},_init:tp}};z.memo=function(e,t){return{$$typeof:Gf,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};z.unstable_act=Ac;z.useCallback=function(e,t){return Se.current.useCallback(e,t)};z.useContext=function(e){return Se.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};z.useEffect=function(e,t){return Se.current.useEffect(e,t)};z.useId=function(){return Se.current.useId()};z.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Se.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};z.useRef=function(e){return Se.current.useRef(e)};z.useState=function(e){return Se.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Se.current.useTransition()};z.version="18.3.1";Cc.exports=z;var C=Cc.exports;const rp=Mf(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=C,ip=Symbol.for("react.element"),op=Symbol.for("react.fragment"),ap=Object.prototype.hasOwnProperty,lp=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,up={key:!0,ref:!0,__self:!0,__source:!0};function Ic(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ap.call(t,r)&&!up.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ip,type:e,key:i,ref:o,props:s,_owner:lp.current}}ki.Fragment=op;ki.jsx=Ic;ki.jsxs=Ic;Ec.exports=ki;var u=Ec.exports,Dc={exports:{}},Ue={},zc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,L){var $=S.length;S.push(L);e:for(;0<$;){var Q=$-1>>>1,oe=S[Q];if(0<s(oe,L))S[Q]=L,S[$]=oe,$=Q;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var L=S[0],$=S.pop();if($!==L){S[0]=$;e:for(var Q=0,oe=S.length,Zt=oe>>>1;Q<Zt;){var st=2*(Q+1)-1,dr=S[st],ht=st+1,en=S[ht];if(0>s(dr,$))ht<oe&&0>s(en,dr)?(S[Q]=en,S[ht]=$,Q=ht):(S[Q]=dr,S[st]=$,Q=st);else if(ht<oe&&0>s(en,$))S[Q]=en,S[ht]=$,Q=ht;else break e}}return L}function s(S,L){var $=S.sortIndex-L.sortIndex;return $!==0?$:S.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,y=!1,k=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=S)r(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function _(S){if(x=!1,g(S),!k)if(n(l)!==null)k=!0,_e(E);else{var L=n(c);L!==null&&rt(_,L.startTime-S)}}function E(S,L){k=!1,x&&(x=!1,m(R),R=-1),y=!0;var $=p;try{for(g(L),h=n(l);h!==null&&(!(h.expirationTime>L)||S&&!H());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var oe=Q(h.expirationTime<=L);L=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),g(L)}else r(l);h=n(l)}if(h!==null)var Zt=!0;else{var st=n(c);st!==null&&rt(_,st.startTime-L),Zt=!1}return Zt}finally{h=null,p=$,y=!1}}var P=!1,O=null,R=-1,G=5,D=-1;function H(){return!(e.unstable_now()-D<G)}function ie(){if(O!==null){var S=e.unstable_now();D=S;var L=!0;try{L=O(!0,S)}finally{L?we():(P=!1,O=null)}}else P=!1}var we;if(typeof f=="function")we=function(){f(ie)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,us=Sn.port2;Sn.port1.onmessage=ie,we=function(){us.postMessage(null)}}else we=function(){T(ie,0)};function _e(S){O=S,P||(P=!0,we())}function rt(S,L){R=T(function(){S(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,_e(E))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(S){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var $=p;p=L;try{return S()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var $=p;p=S;try{return L()}finally{p=$}},e.unstable_scheduleCallback=function(S,L,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,S){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,S={id:d++,callback:L,priorityLevel:S,startTime:$,expirationTime:oe,sortIndex:-1},$>Q?(S.sortIndex=$,t(c,S),n(l)===null&&S===n(c)&&(x?(m(R),R=-1):x=!0,rt(_,$-Q))):(S.sortIndex=oe,t(l,S),k||y||(k=!0,_e(E))),S},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(S){var L=p;return function(){var $=p;p=L;try{return S.apply(this,arguments)}finally{p=$}}}})(Uc);zc.exports=Uc;var cp=zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=C,ze=cp;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,zr={};function wn(e,t){Yn(e,t),Yn(e+"Capture",t)}function Yn(e,t){for(zr[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,hp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iu={},ou={};function fp(e){return Oo.call(ou,e)?!0:Oo.call(iu,e)?!1:hp.test(e)?ou[e]=!0:(iu[e]=!0,!1)}function pp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mp(e,t,n,r){if(t===null||typeof t>"u"||pp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function Ia(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aa,Ia);pe[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aa,Ia);pe[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aa,Ia);pe[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Da(e,t,n,r){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mp(t,n,s,r)&&(n=null),r||s===null?fp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),Fc=Symbol.for("react.provider"),Bc=Symbol.for("react.context"),Ua=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),$o=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Hc=Symbol.for("react.offscreen"),au=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Zi;function kr(e){if(Zi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zi=t&&t[1]||""}return`
`+Zi+e}var eo=!1;function to(e,t){if(!e||eo)return"";eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{eo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kr(e):""}function gp(e){switch(e.tag){case 5:return kr(e.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return e=to(e.type,!1),e;case 11:return e=to(e.type.render,!1),e;case 1:return e=to(e.type,!0),e;default:return""}}function Ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Rn:return"Portal";case Ro:return"Profiler";case za:return"StrictMode";case Lo:return"Suspense";case $o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bc:return(e.displayName||"Context")+".Consumer";case Fc:return(e._context.displayName||"Context")+".Provider";case Ua:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ma:return t=e.displayName||null,t!==null?t:Ao(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Ao(e(t))}catch{}}return null}function vp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ao(t);case 8:return t===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yp(e){var t=Vc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=yp(e))}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kc(e,t){t=t.checked,t!=null&&Da(e,"checked",t,!1)}function Do(e,t){Kc(e,t);var n=qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zo(e,t.type,n):t.hasOwnProperty("defaultValue")&&zo(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zo(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function Vn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Sr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function Qc(e,t){var n=qt(t.value),r=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wp=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){wp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function Gc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function Yc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _p=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(e,t){if(t){if(_p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function Fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vo=null,Wn=null,Kn=null;function hu(e){if(e=is(e)){if(typeof Vo!="function")throw Error(b(280));var t=e.stateNode;t&&(t=Ci(t),Vo(e.stateNode,e.type,t))}}function Xc(e){Wn?Kn?Kn.push(e):Kn=[e]:Wn=e}function Zc(){if(Wn){var e=Wn,t=Kn;if(Kn=Wn=null,hu(e),t)for(e=0;e<t.length;e++)hu(t[e])}}function ed(e,t){return e(t)}function td(){}var no=!1;function nd(e,t,n){if(no)return e(t,n);no=!0;try{return ed(e,t,n)}finally{no=!1,(Wn!==null||Kn!==null)&&(td(),Zc())}}function Mr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ci(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Wo=!1;if(xt)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Wo=!1}function xp(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Nr=!1,Gs=null,Ys=!1,Ko=null,kp={onError:function(e){Nr=!0,Gs=e}};function Sp(e,t,n,r,s,i,o,a,l){Nr=!1,Gs=null,xp.apply(kp,arguments)}function bp(e,t,n,r,s,i,o,a,l){if(Sp.apply(this,arguments),Nr){if(Nr){var c=Gs;Nr=!1,Gs=null}else throw Error(b(198));Ys||(Ys=!0,Ko=c)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(_n(e)!==e)throw Error(b(188))}function jp(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return fu(s),e;if(i===r)return fu(s),t;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function sd(e){return e=jp(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var od=ze.unstable_scheduleCallback,pu=ze.unstable_cancelCallback,Ep=ze.unstable_shouldYield,Cp=ze.unstable_requestPaint,ne=ze.unstable_now,Np=ze.unstable_getCurrentPriorityLevel,Ba=ze.unstable_ImmediatePriority,ad=ze.unstable_UserBlockingPriority,Xs=ze.unstable_NormalPriority,Tp=ze.unstable_LowPriority,ld=ze.unstable_IdlePriority,Si=null,ct=null;function Pp(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Lp,Op=Math.log,Rp=Math.LN2;function Lp(e){return e>>>=0,e===0?32:31-(Op(e)/Rp|0)|0}var ws=64,_s=4194304;function br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=br(a):(i&=o,i!==0&&(r=br(i)))}else o=n&~s,o!==0?r=br(o):i!==0&&(r=br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),s=1<<n,r|=e[n],t&=~s;return r}function $p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-et(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$p(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Qo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function Ip(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-et(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ha(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var B=0;function cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dd,Va,hd,fd,pd,qo=!1,xs=[],Mt=null,Ft=null,Bt=null,Fr=new Map,Br=new Map,At=[],Dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function mr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=is(t),t!==null&&Va(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zp(e,t,n,r,s){switch(t){case"focusin":return Mt=mr(Mt,e,t,n,r,s),!0;case"dragenter":return Ft=mr(Ft,e,t,n,r,s),!0;case"mouseover":return Bt=mr(Bt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fr.set(i,mr(Fr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Br.set(i,mr(Br.get(i)||null,e,t,n,r,s)),!0}return!1}function md(e){var t=un(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=rd(n),t!==null){e.blockedOn=t,pd(e.priority,function(){hd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ho=r,n.target.dispatchEvent(r),Ho=null}else return t=is(n),t!==null&&Va(t),e.blockedOn=n,!1;t.shift()}return!0}function gu(e,t,n){Us(e)&&n.delete(t)}function Up(){qo=!1,Mt!==null&&Us(Mt)&&(Mt=null),Ft!==null&&Us(Ft)&&(Ft=null),Bt!==null&&Us(Bt)&&(Bt=null),Fr.forEach(gu),Br.forEach(gu)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Up)))}function Hr(e){function t(s){return gr(s,e)}if(0<xs.length){gr(xs[0],e);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&gr(Mt,e),Ft!==null&&gr(Ft,e),Bt!==null&&gr(Bt,e),Fr.forEach(t),Br.forEach(t),n=0;n<At.length;n++)r=At[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)md(n),n.blockedOn===null&&At.shift()}var Qn=jt.ReactCurrentBatchConfig,ei=!0;function Mp(e,t,n,r){var s=B,i=Qn.transition;Qn.transition=null;try{B=1,Wa(e,t,n,r)}finally{B=s,Qn.transition=i}}function Fp(e,t,n,r){var s=B,i=Qn.transition;Qn.transition=null;try{B=4,Wa(e,t,n,r)}finally{B=s,Qn.transition=i}}function Wa(e,t,n,r){if(ei){var s=Jo(e,t,n,r);if(s===null)po(e,t,r,ti,n),mu(e,r);else if(zp(s,e,t,n,r))r.stopPropagation();else if(mu(e,r),t&4&&-1<Dp.indexOf(e)){for(;s!==null;){var i=is(s);if(i!==null&&dd(i),i=Jo(e,t,n,r),i===null&&po(e,t,r,ti,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else po(e,t,r,null,n)}}var ti=null;function Jo(e,t,n,r){if(ti=null,e=Fa(r),e=un(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Np()){case Ba:return 1;case ad:return 4;case Xs:case Tp:return 16;case ld:return 536870912;default:return 16}default:return 16}}var zt=null,Ka=null,Ms=null;function vd(){if(Ms)return Ms;var e,t=Ka,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ms=s.slice(e,1<r?1-r:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function vu(){return!1}function Me(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:vu,this.isPropagationStopped=vu,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Me(ar),ss=ee({},ar,{view:0,detail:0}),Bp=Me(ss),so,io,vr,bi=ee({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(so=e.screenX-vr.screenX,io=e.screenY-vr.screenY):io=so=0,vr=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),yu=Me(bi),Hp=ee({},bi,{dataTransfer:0}),Vp=Me(Hp),Wp=ee({},ss,{relatedTarget:0}),oo=Me(Wp),Kp=ee({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Me(Kp),qp=ee({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jp=Me(qp),Gp=ee({},ar,{data:0}),wu=Me(Gp),Yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zp[e])?!!t[e]:!1}function qa(){return em}var tm=ee({},ss,{key:function(e){if(e.key){var t=Yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nm=Me(tm),rm=ee({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=Me(rm),sm=ee({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),im=Me(sm),om=ee({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),am=Me(om),lm=ee({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),um=Me(lm),cm=[9,13,27,32],Ja=xt&&"CompositionEvent"in window,Tr=null;xt&&"documentMode"in document&&(Tr=document.documentMode);var dm=xt&&"TextEvent"in window&&!Tr,yd=xt&&(!Ja||Tr&&8<Tr&&11>=Tr),xu=" ",ku=!1;function wd(e,t){switch(e){case"keyup":return cm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function hm(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(ku=!0,xu);case"textInput":return e=t.data,e===xu&&ku?null:e;default:return null}}function fm(e,t){if($n)return e==="compositionend"||!Ja&&wd(e,t)?(e=vd(),Ms=Ka=zt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pm[e.type]:t==="textarea"}function xd(e,t,n,r){Xc(r),t=ni(t,"onChange"),0<t.length&&(n=new Qa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Vr=null;function mm(e){Rd(e,0)}function ji(e){var t=Dn(e);if(Wc(t))return e}function gm(e,t){if(e==="change")return t}var kd=!1;if(xt){var ao;if(xt){var lo="oninput"in document;if(!lo){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),lo=typeof bu.oninput=="function"}ao=lo}else ao=!1;kd=ao&&(!document.documentMode||9<document.documentMode)}function ju(){Pr&&(Pr.detachEvent("onpropertychange",Sd),Vr=Pr=null)}function Sd(e){if(e.propertyName==="value"&&ji(Vr)){var t=[];xd(t,Vr,e,Fa(e)),nd(mm,t)}}function vm(e,t,n){e==="focusin"?(ju(),Pr=t,Vr=n,Pr.attachEvent("onpropertychange",Sd)):e==="focusout"&&ju()}function ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(Vr)}function wm(e,t){if(e==="click")return ji(t)}function _m(e,t){if(e==="input"||e==="change")return ji(t)}function xm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:xm;function Wr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function Eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cu(e,t){var n=Eu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eu(n)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jd(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function km(e){var t=jd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bd(n.ownerDocument.documentElement,n)){if(r!==null&&Ga(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Cu(n,i);var o=Cu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sm=xt&&"documentMode"in document&&11>=document.documentMode,An=null,Go=null,Or=null,Yo=!1;function Nu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||An==null||An!==Js(r)||(r=An,"selectionStart"in r&&Ga(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Wr(Or,r)||(Or=r,r=ni(Go,"onSelect"),0<r.length&&(t=new Qa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function Ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},uo={},Ed={};xt&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function Ei(e){if(uo[e])return uo[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ed)return uo[e]=t[n];return e}var Cd=Ei("animationend"),Nd=Ei("animationiteration"),Td=Ei("animationstart"),Pd=Ei("transitionend"),Od=new Map,Tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){Od.set(e,t),wn(t,[e])}for(var co=0;co<Tu.length;co++){var ho=Tu[co],bm=ho.toLowerCase(),jm=ho[0].toUpperCase()+ho.slice(1);Gt(bm,"on"+jm)}Gt(Cd,"onAnimationEnd");Gt(Nd,"onAnimationIteration");Gt(Td,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(Pd,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Em=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bp(r,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Pu(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Pu(s,a,c),i=l}}}if(Ys)throw e=Ko,Ys=!1,Ko=null,e}function q(e,t){var n=t[na];n===void 0&&(n=t[na]=new Set);var r=e+"__bubble";n.has(r)||(Ld(t,e,2,!1),n.add(r))}function fo(e,t,n){var r=0;t&&(r|=4),Ld(n,e,r,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[bs]){e[bs]=!0,Mc.forEach(function(n){n!=="selectionchange"&&(Em.has(n)||fo(n,!1,e),fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,fo("selectionchange",!1,t))}}function Ld(e,t,n,r){switch(gd(t)){case 1:var s=Mp;break;case 4:s=Fp;break;default:s=Wa}n=s.bind(null,t,n,e),s=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function po(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nd(function(){var c=i,d=Fa(n),h=[];e:{var p=Od.get(e);if(p!==void 0){var y=Qa,k=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":y=nm;break;case"focusin":k="focus",y=oo;break;case"focusout":k="blur",y=oo;break;case"beforeblur":case"afterblur":y=oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=im;break;case Cd:case Nd:case Td:y=Qp;break;case Pd:y=am;break;case"scroll":y=Bp;break;case"wheel":y=um;break;case"copy":case"cut":case"paste":y=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_u}var x=(t&4)!==0,T=!x&&e==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var f=c,g;f!==null;){g=f;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Mr(f,m),_!=null&&x.push(Qr(f,_,g)))),T)break;f=f.return}0<x.length&&(p=new y(p,k,null,n,d),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Ho&&(k=n.relatedTarget||n.fromElement)&&(un(k)||k[kt]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=c,k=k?un(k):null,k!==null&&(T=_n(k),k!==T||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=c),y!==k)){if(x=yu,_="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=_u,_="onPointerLeave",m="onPointerEnter",f="pointer"),T=y==null?p:Dn(y),g=k==null?p:Dn(k),p=new x(_,f+"leave",y,n,d),p.target=T,p.relatedTarget=g,_=null,un(d)===c&&(x=new x(m,f+"enter",k,n,d),x.target=g,x.relatedTarget=T,_=x),T=_,y&&k)t:{for(x=y,m=k,f=0,g=x;g;g=Cn(g))f++;for(g=0,_=m;_;_=Cn(_))g++;for(;0<f-g;)x=Cn(x),f--;for(;0<g-f;)m=Cn(m),g--;for(;f--;){if(x===m||m!==null&&x===m.alternate)break t;x=Cn(x),m=Cn(m)}x=null}else x=null;y!==null&&Ou(h,p,y,x,!1),k!==null&&T!==null&&Ou(h,T,k,x,!0)}}e:{if(p=c?Dn(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var E=gm;else if(Su(p))if(kd)E=_m;else{E=ym;var P=vm}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=wm);if(E&&(E=E(e,c))){xd(h,E,n,d);break e}P&&P(e,p,c),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&zo(p,"number",p.value)}switch(P=c?Dn(c):window,e){case"focusin":(Su(P)||P.contentEditable==="true")&&(An=P,Go=c,Or=null);break;case"focusout":Or=Go=An=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Nu(h,n,d);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":Nu(h,n,d)}var O;if(Ja)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $n?wd(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(yd&&n.locale!=="ko"&&($n||R!=="onCompositionStart"?R==="onCompositionEnd"&&$n&&(O=vd()):(zt=d,Ka="value"in zt?zt.value:zt.textContent,$n=!0)),P=ni(c,R),0<P.length&&(R=new wu(R,e,null,n,d),h.push({event:R,listeners:P}),O?R.data=O:(O=_d(n),O!==null&&(R.data=O)))),(O=dm?hm(e,n):fm(e,n))&&(c=ni(c,"onBeforeInput"),0<c.length&&(d=new wu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=O))}Rd(h,t)})}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ni(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mr(e,n),i!=null&&r.unshift(Qr(e,i,s)),i=Mr(e,t),i!=null&&r.push(Qr(e,i,s))),e=e.return}return r}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ou(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Mr(n,i),l!=null&&o.unshift(Qr(n,l,a))):s||(l=Mr(n,i),l!=null&&o.push(Qr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Cm=/\r\n?/g,Nm=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace(Cm,`
`).replace(Nm,"")}function js(e,t,n){if(t=Ru(t),Ru(e)!==t&&n)throw Error(b(425))}function ri(){}var Xo=null,Zo=null;function ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,Pm=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(Om)}:ta;function Om(e){setTimeout(function(){throw e})}function mo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),ut="__reactFiber$"+lr,qr="__reactProps$"+lr,kt="__reactContainer$"+lr,na="__reactEvents$"+lr,Rm="__reactListeners$"+lr,Lm="__reactHandles$"+lr;function un(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$u(e);e!==null;){if(n=e[ut])return n;e=$u(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[ut]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function Ci(e){return e[qr]||null}var ra=[],zn=-1;function Yt(e){return{current:e}}function J(e){0>zn||(e.current=ra[zn],ra[zn]=null,zn--)}function K(e,t){zn++,ra[zn]=e.current,e.current=t}var Jt={},ye=Yt(Jt),Te=Yt(!1),pn=Jt;function Xn(e,t){var n=e.type.contextTypes;if(!n)return Jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function si(){J(Te),J(ye)}function Au(e,t,n){if(ye.current!==Jt)throw Error(b(168));K(ye,t),K(Te,n)}function $d(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(b(108,vp(e)||"Unknown",s));return ee({},n,r)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,pn=ye.current,K(ye,e),K(Te,Te.current),!0}function Iu(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=$d(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,J(Te),J(ye),K(ye,e)):J(Te),K(Te,n)}var vt=null,Ni=!1,go=!1;function Ad(e){vt===null?vt=[e]:vt.push(e)}function $m(e){Ni=!0,Ad(e)}function Xt(){if(!go&&vt!==null){go=!0;var e=0,t=B;try{var n=vt;for(B=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,Ni=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),od(Ba,Xt),s}finally{B=t,go=!1}}return null}var Un=[],Mn=0,oi=null,ai=0,Be=[],He=0,mn=null,yt=1,wt="";function rn(e,t){Un[Mn++]=ai,Un[Mn++]=oi,oi=e,ai=t}function Id(e,t,n){Be[He++]=yt,Be[He++]=wt,Be[He++]=mn,mn=e;var r=yt;e=wt;var s=32-et(r)-1;r&=~(1<<s),n+=1;var i=32-et(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yt=1<<32-et(t)+s|n<<s|r,wt=i+e}else yt=1<<i|n<<s|r,wt=e}function Ya(e){e.return!==null&&(rn(e,1),Id(e,1,0))}function Xa(e){for(;e===oi;)oi=Un[--Mn],Un[Mn]=null,ai=Un[--Mn],Un[Mn]=null;for(;e===mn;)mn=Be[--He],Be[He]=null,wt=Be[--He],Be[He]=null,yt=Be[--He],Be[He]=null}var De=null,Ie=null,Y=!1,Ze=null;function Dd(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Du(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Ie=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:yt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Ie=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ia(e){if(Y){var t=Ie;if(t){var n=t;if(!Du(e,t)){if(sa(e))throw Error(b(418));t=Ht(n.nextSibling);var r=De;t&&Du(e,t)?Dd(r,n):(e.flags=e.flags&-4097|2,Y=!1,De=e)}}else{if(sa(e))throw Error(b(418));e.flags=e.flags&-4097|2,Y=!1,De=e}}}function zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Es(e){if(e!==De)return!1;if(!Y)return zu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ea(e.type,e.memoizedProps)),t&&(t=Ie)){if(sa(e))throw zd(),Error(b(418));for(;t;)Dd(e,t),t=Ht(t.nextSibling)}if(zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=De?Ht(e.stateNode.nextSibling):null;return!0}function zd(){for(var e=Ie;e;)e=Ht(e.nextSibling)}function Zn(){Ie=De=null,Y=!1}function Za(e){Ze===null?Ze=[e]:Ze.push(e)}var Am=jt.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uu(e){var t=e._init;return t(e._payload)}function Ud(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Qt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,_){return f===null||f.tag!==6?(f=So(g,m.mode,_),f.return=m,f):(f=s(f,g),f.return=m,f)}function l(m,f,g,_){var E=g.type;return E===Ln?d(m,f,g.props.children,_,g.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&Uu(E)===f.type)?(_=s(f,g.props),_.ref=yr(m,f,g),_.return=m,_):(_=qs(g.type,g.key,g.props,null,m.mode,_),_.ref=yr(m,f,g),_.return=m,_)}function c(m,f,g,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=bo(g,m.mode,_),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,_,E){return f===null||f.tag!==7?(f=fn(g,m.mode,_,E),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=So(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gs:return g=qs(f.type,f.key,f.props,null,m.mode,g),g.ref=yr(m,null,f),g.return=m,g;case Rn:return f=bo(f,m.mode,g),f.return=m,f;case Rt:var _=f._init;return h(m,_(f._payload),g)}if(Sr(f)||fr(f))return f=fn(f,m.mode,g,null),f.return=m,f;Cs(m,f)}return null}function p(m,f,g,_){var E=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gs:return g.key===E?l(m,f,g,_):null;case Rn:return g.key===E?c(m,f,g,_):null;case Rt:return E=g._init,p(m,f,E(g._payload),_)}if(Sr(g)||fr(g))return E!==null?null:d(m,f,g,_,null);Cs(m,g)}return null}function y(m,f,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(f,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gs:return m=m.get(_.key===null?g:_.key)||null,l(f,m,_,E);case Rn:return m=m.get(_.key===null?g:_.key)||null,c(f,m,_,E);case Rt:var P=_._init;return y(m,f,g,P(_._payload),E)}if(Sr(_)||fr(_))return m=m.get(g)||null,d(f,m,_,E,null);Cs(f,_)}return null}function k(m,f,g,_){for(var E=null,P=null,O=f,R=f=0,G=null;O!==null&&R<g.length;R++){O.index>R?(G=O,O=null):G=O.sibling;var D=p(m,O,g[R],_);if(D===null){O===null&&(O=G);break}e&&O&&D.alternate===null&&t(m,O),f=i(D,f,R),P===null?E=D:P.sibling=D,P=D,O=G}if(R===g.length)return n(m,O),Y&&rn(m,R),E;if(O===null){for(;R<g.length;R++)O=h(m,g[R],_),O!==null&&(f=i(O,f,R),P===null?E=O:P.sibling=O,P=O);return Y&&rn(m,R),E}for(O=r(m,O);R<g.length;R++)G=y(O,m,R,g[R],_),G!==null&&(e&&G.alternate!==null&&O.delete(G.key===null?R:G.key),f=i(G,f,R),P===null?E=G:P.sibling=G,P=G);return e&&O.forEach(function(H){return t(m,H)}),Y&&rn(m,R),E}function x(m,f,g,_){var E=fr(g);if(typeof E!="function")throw Error(b(150));if(g=E.call(g),g==null)throw Error(b(151));for(var P=E=null,O=f,R=f=0,G=null,D=g.next();O!==null&&!D.done;R++,D=g.next()){O.index>R?(G=O,O=null):G=O.sibling;var H=p(m,O,D.value,_);if(H===null){O===null&&(O=G);break}e&&O&&H.alternate===null&&t(m,O),f=i(H,f,R),P===null?E=H:P.sibling=H,P=H,O=G}if(D.done)return n(m,O),Y&&rn(m,R),E;if(O===null){for(;!D.done;R++,D=g.next())D=h(m,D.value,_),D!==null&&(f=i(D,f,R),P===null?E=D:P.sibling=D,P=D);return Y&&rn(m,R),E}for(O=r(m,O);!D.done;R++,D=g.next())D=y(O,m,R,D.value,_),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?R:D.key),f=i(D,f,R),P===null?E=D:P.sibling=D,P=D);return e&&O.forEach(function(ie){return t(m,ie)}),Y&&rn(m,R),E}function T(m,f,g,_){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case gs:e:{for(var E=g.key,P=f;P!==null;){if(P.key===E){if(E=g.type,E===Ln){if(P.tag===7){n(m,P.sibling),f=s(P,g.props.children),f.return=m,m=f;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&Uu(E)===P.type){n(m,P.sibling),f=s(P,g.props),f.ref=yr(m,P,g),f.return=m,m=f;break e}n(m,P);break}else t(m,P);P=P.sibling}g.type===Ln?(f=fn(g.props.children,m.mode,_,g.key),f.return=m,m=f):(_=qs(g.type,g.key,g.props,null,m.mode,_),_.ref=yr(m,f,g),_.return=m,m=_)}return o(m);case Rn:e:{for(P=g.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=bo(g,m.mode,_),f.return=m,m=f}return o(m);case Rt:return P=g._init,T(m,f,P(g._payload),_)}if(Sr(g))return k(m,f,g,_);if(fr(g))return x(m,f,g,_);Cs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=So(g,m.mode,_),f.return=m,m=f),o(m)):n(m,f)}return T}var er=Ud(!0),Md=Ud(!1),li=Yt(null),ui=null,Fn=null,el=null;function tl(){el=Fn=ui=null}function nl(e){var t=li.current;J(li),e._currentValue=t}function oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){ui=e,el=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(el!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ui===null)throw Error(b(308));Fn=e,ui.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var cn=null;function rl(e){cn===null?cn=[e]:cn.push(e)}function Fd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,rl(t)):(n.next=s.next,s.next=n),t.interleaved=n,St(e,r)}function St(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lt=!1;function sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,St(e,n)}return s=r.interleaved,s===null?(t.next=t,rl(r)):(t.next=s.next,s.next=t),r.interleaved=t,St(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ha(e,n)}}function Mu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,x=a;switch(p=t,y=n,x.tag){case 1:if(k=x.payload,typeof k=="function"){h=k.call(y,h,p);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=x.payload,p=typeof k=="function"?k.call(y,h,p):k,p==null)break e;h=ee({},h,p);break e;case 2:Lt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=h}}function Fu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var os={},dt=Yt(os),Jr=Yt(os),Gr=Yt(os);function dn(e){if(e===os)throw Error(b(174));return e}function il(e,t){switch(K(Gr,t),K(Jr,e),K(dt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mo(t,e)}J(dt),K(dt,t)}function tr(){J(dt),J(Jr),J(Gr)}function Hd(e){dn(Gr.current);var t=dn(dt.current),n=Mo(t,e.type);t!==n&&(K(Jr,e),K(dt,n))}function ol(e){Jr.current===e&&(J(dt),J(Jr))}var X=Yt(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vo=[];function al(){for(var e=0;e<vo.length;e++)vo[e]._workInProgressVersionPrimary=null;vo.length=0}var Hs=jt.ReactCurrentDispatcher,yo=jt.ReactCurrentBatchConfig,gn=0,Z=null,ae=null,ce=null,hi=!1,Rr=!1,Yr=0,Im=0;function me(){throw Error(b(321))}function ll(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function ul(e,t,n,r,s,i){if(gn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?Mm:Fm,e=n(r,s),Rr){i=0;do{if(Rr=!1,Yr=0,25<=i)throw Error(b(301));i+=1,ce=ae=null,t.updateQueue=null,Hs.current=Bm,e=n(r,s)}while(Rr)}if(Hs.current=fi,t=ae!==null&&ae.next!==null,gn=0,ce=ae=Z=null,hi=!1,t)throw Error(b(300));return e}function cl(){var e=Yr!==0;return Yr=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=e:ce=ce.next=e,ce}function qe(){if(ae===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ce===null?Z.memoizedState:ce.next;if(t!==null)ce=t,ae=e;else{if(e===null)throw Error(b(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?Z.memoizedState=ce=e:ce=ce.next=e}return ce}function Xr(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=qe(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((gn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Z.lanes|=d,vn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,nt(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,vn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=qe(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vd(){}function Wd(e,t){var n=Z,r=qe(),s=t(),i=!nt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,dl(qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Qd.bind(null,n,r,s,t),void 0,null),de===null)throw Error(b(349));gn&30||Kd(n,t,s)}return s}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,r){t.value=n,t.getSnapshot=r,Jd(t)&&Gd(e)}function qd(e,t,n){return n(function(){Jd(t)&&Gd(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function Gd(e){var t=St(e,1);t!==null&&tt(t,e,1,-1)}function Bu(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},t.queue=e,e=e.dispatch=Um.bind(null,Z,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yd(){return qe().memoizedState}function Vs(e,t,n,r){var s=at();Z.flags|=e,s.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ti(e,t,n,r){var s=qe();r=r===void 0?null:r;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,r!==null&&ll(r,o.deps)){s.memoizedState=Zr(t,n,i,r);return}}Z.flags|=e,s.memoizedState=Zr(1|t,n,i,r)}function Hu(e,t){return Vs(8390656,8,e,t)}function dl(e,t){return Ti(2048,8,e,t)}function Xd(e,t){return Ti(4,2,e,t)}function Zd(e,t){return Ti(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4,4,eh.bind(null,t,e),n)}function hl(){}function nh(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ll(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ll(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sh(e,t,n){return gn&21?(nt(n,t)||(n=ud(),Z.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function Dm(e,t){var n=B;B=n!==0&&4>n?n:4,e(!0);var r=yo.transition;yo.transition={};try{e(!1),t()}finally{B=n,yo.transition=r}}function ih(){return qe().memoizedState}function zm(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oh(e))ah(t,n);else if(n=Fd(e,t,n,r),n!==null){var s=ke();tt(n,e,r,s),lh(n,t,r)}}function Um(e,t,n){var r=Kt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oh(e))ah(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var l=t.interleaved;l===null?(s.next=s,rl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Fd(e,t,s,r),n!==null&&(s=ke(),tt(n,e,r,s),lh(n,t,r))}}function oh(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function ah(e,t){Rr=hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ha(e,n)}}var fi={readContext:Qe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Mm={readContext:Qe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Hu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zm.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Bu,useDebugValue:hl,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Bu(!1),t=e[0];return e=Dm.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=at();if(Y){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),de===null)throw Error(b(349));gn&30||Kd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Hu(qd.bind(null,r,i,e),[e]),r.flags|=2048,Zr(9,Qd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=at(),t=de.identifierPrefix;if(Y){var n=wt,r=yt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Im++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fm={readContext:Qe,useCallback:nh,useContext:Qe,useEffect:dl,useImperativeHandle:th,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:rh,useReducer:wo,useRef:Yd,useState:function(){return wo(Xr)},useDebugValue:hl,useDeferredValue:function(e){var t=qe();return sh(t,ae.memoizedState,e)},useTransition:function(){var e=wo(Xr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Wd,useId:ih,unstable_isNewReconciler:!1},Bm={readContext:Qe,useCallback:nh,useContext:Qe,useEffect:dl,useImperativeHandle:th,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:rh,useReducer:_o,useRef:Yd,useState:function(){return _o(Xr)},useDebugValue:hl,useDeferredValue:function(e){var t=qe();return ae===null?t.memoizedState=e:sh(t,ae.memoizedState,e)},useTransition:function(){var e=_o(Xr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Wd,useId:ih,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function aa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pi={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Kt(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(tt(t,e,s,r),Bs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Kt(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(tt(t,e,s,r),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Kt(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(tt(t,e,r,n),Bs(t,e,r))}};function Vu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wr(n,r)||!Wr(s,i):!0}function uh(e,t,n){var r=!1,s=Jt,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Pe(t)?pn:ye.current,r=t.contextTypes,i=(r=r!=null)?Xn(e,s):Jt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},sl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Pe(t)?pn:ye.current,s.context=Xn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(aa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pi.enqueueReplaceState(s,s.state,null),ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=gp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hm=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){mi||(mi=!0,wa=r),ua(e,t)},n}function dh(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ua(e,t),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ku(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rg.bind(null,e,t,n),t.then(e,e))}function Qu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var Vm=jt.ReactCurrentOwner,Ne=!1;function xe(e,t,n,r){t.child=e===null?Md(t,null,n,r):er(t,e.child,n,r)}function Ju(e,t,n,r,s){n=n.render;var i=t.ref;return qn(t,s),r=ul(e,t,n,r,i,s),n=cl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&n&&Ya(t),t.flags|=1,xe(e,t,r,s),t.child)}function Gu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!_l(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hh(e,t,i,r,s)):(e=qs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wr,n(o,r)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Qt(i,r),e.ref=t.ref,e.return=t,t.child=e}function hh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Wr(i,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,bt(e,t,s)}return ca(e,t,n,r,s)}function fh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Hn,Ae),Ae|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Hn,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Hn,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(Hn,Ae),Ae|=r;return xe(e,t,s,n),t.child}function ph(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,n,r,s){var i=Pe(n)?pn:ye.current;return i=Xn(t,i),qn(t,s),n=ul(e,t,n,r,i,s),r=cl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&r&&Ya(t),t.flags|=1,xe(e,t,n,s),t.child)}function Yu(e,t,n,r,s){if(Pe(n)){var i=!0;ii(t)}else i=!1;if(qn(t,s),t.stateNode===null)Ws(e,t),uh(t,n,r),la(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Pe(n)?pn:ye.current,c=Xn(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wu(t,o,r,c),Lt=!1;var p=t.memoizedState;o.state=p,ci(t,r,o,s),l=t.memoizedState,a!==r||p!==l||Te.current||Lt?(typeof d=="function"&&(aa(t,n,d,r),l=t.memoizedState),(a=Lt||Vu(t,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ge(t.type,a),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qe(l):(l=Pe(n)?pn:ye.current,l=Xn(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Wu(t,o,r,l),Lt=!1,p=t.memoizedState,o.state=p,ci(t,r,o,s);var k=t.memoizedState;a!==h||p!==k||Te.current||Lt?(typeof y=="function"&&(aa(t,n,y,r),k=t.memoizedState),(c=Lt||Vu(t,n,c,r,p,k,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return da(e,t,n,r,i,s)}function da(e,t,n,r,s,i){ph(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Iu(t,n,!1),bt(e,t,i);r=t.stateNode,Vm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=er(t,e.child,null,i),t.child=er(t,null,a,i)):xe(e,t,a,i),t.memoizedState=r.state,s&&Iu(t,n,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?Au(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Au(e,t.context,!1),il(e,t.containerInfo)}function Xu(e,t,n,r,s){return Zn(),Za(s),t.flags|=256,xe(e,t,n,r),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function gh(e,t,n){var r=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(X,s&1),e===null)return ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Li(o,r,0,null),e=fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fa(n),t.memoizedState=ha,e):fl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Wm(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Qt(a,i):(i=fn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ha,r}return i=e.child,e=i.sibling,r=Qt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fl(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,r){return r!==null&&Za(r),er(t,e.child,null,n),e=fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=xo(Error(b(422))),Ns(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Li({mode:"visible",children:r.children},s,0,null),i=fn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&er(t,e.child,null,o),t.child.memoizedState=fa(o),t.memoizedState=ha,i);if(!(t.mode&1))return Ns(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(b(419)),r=xo(i,r,void 0),Ns(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ne||a){if(r=de,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),tt(r,e,s,-1))}return wl(),r=xo(Error(b(421))),Ns(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Ht(s.nextSibling),De=t,Y=!0,Ze=null,e!==null&&(Be[He++]=yt,Be[He++]=wt,Be[He++]=mn,yt=e.id,wt=e.overflow,mn=t),t=fl(t,r.children),t.flags|=4096,t)}function Zu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oa(e.return,t,n)}function ko(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xe(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,n,t);else if(e.tag===19)Zu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(X,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&di(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ko(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&di(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ko(t,!0,n,null,i);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Km(e,t,n){switch(t.tag){case 3:mh(t),Zn();break;case 5:Hd(t);break;case 1:Pe(t.type)&&ii(t);break;case 4:il(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;K(li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?gh(e,t,n):(K(X,X.current&1),e=bt(e,t,n),e!==null?e.sibling:null);K(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,n)}return bt(e,t,n)}var yh,pa,wh,_h;yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};wh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dn(dt.current);var i=null;switch(n){case"input":s=Io(e,s),r=Io(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Uo(e,s),r=Uo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ri)}Fo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};_h=function(e,t,n,r){n!==r&&(t.flags|=4)};function wr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qm(e,t,n){var r=t.pendingProps;switch(Xa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&si(),ge(t),null;case 3:return r=t.stateNode,tr(),J(Te),J(ye),al(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(ka(Ze),Ze=null))),pa(e,t),ge(t),null;case 5:ol(t);var s=dn(Gr.current);if(n=t.type,e!==null&&t.stateNode!=null)wh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return ge(t),null}if(e=dn(dt.current),Es(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ut]=t,r[qr]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)q(jr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":lu(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":cu(r,i),q("invalid",r)}Fo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&js(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&js(r.textContent,a,e),s=["children",""+a]):zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":vs(r),uu(r,i,!0);break;case"textarea":vs(r),du(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ri)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ut]=t,e[qr]=r,yh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bo(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)q(jr[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":lu(e,r),s=Io(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),q("invalid",e);break;case"textarea":cu(e,r),s=Uo(e,r),q("invalid",e);break;default:s=r}Fo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Yc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ur(e,l):typeof l=="number"&&Ur(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&Da(e,i,l,o))}switch(n){case"input":vs(e),uu(e,r,!1);break;case"textarea":vs(e),du(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Vn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)_h(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=dn(Gr.current),dn(dt.current),Es(t)){if(r=t.stateNode,n=t.memoizedProps,r[ut]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ut]=t,t.stateNode=r}return ge(t),null;case 13:if(J(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ie!==null&&t.mode&1&&!(t.flags&128))zd(),Zn(),t.flags|=98560,i=!1;else if(i=Es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[ut]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Ze!==null&&(ka(Ze),Ze=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?le===0&&(le=3):wl())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return tr(),pa(e,t),e===null&&Kr(t.stateNode.containerInfo),ge(t),null;case 10:return nl(t.type._context),ge(t),null;case 17:return Pe(t.type)&&si(),ge(t),null;case 19:if(J(X),i=t.memoizedState,i===null)return ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)wr(i,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=di(e),o!==null){for(t.flags|=128,wr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>rr&&(t.flags|=128,r=!0,wr(i,!1),t.lanes=4194304)}else{if(!r)if(e=di(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return ge(t),null}else 2*ne()-i.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,wr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=X.current,K(X,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return yl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function qm(e,t){switch(Xa(t),t.tag){case 1:return Pe(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),J(Te),J(ye),al(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(J(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(X),null;case 4:return tr(),null;case 10:return nl(t.type._context),null;case 22:case 23:return yl(),null;case 24:return null;default:return null}}var Ts=!1,ve=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,N=null;function Bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(e,t,r)}else n.current=null}function ma(e,t,n){try{n()}catch(r){te(e,t,r)}}var ec=!1;function Gm(e,t){if(Xo=ei,e=jd(),Ga(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:e,selectionRange:n},ei=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var x=k.memoizedProps,T=k.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ge(t.type,x),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(_){te(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return k=ec,ec=!1,k}function Lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ma(t,n,i)}s=s.next}while(s!==r)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xh(e){var t=e.alternate;t!==null&&(e.alternate=null,xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[qr],delete t[na],delete t[Rm],delete t[Lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kh(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(r!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}var he=null,Ye=!1;function Nt(e,t,n){for(n=n.child;n!==null;)Sh(e,t,n),n=n.sibling}function Sh(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Si,n)}catch{}switch(n.tag){case 5:ve||Bn(n,t);case 6:var r=he,s=Ye;he=null,Nt(e,t,n),he=r,Ye=s,he!==null&&(Ye?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Ye?(e=he,n=n.stateNode,e.nodeType===8?mo(e.parentNode,n):e.nodeType===1&&mo(e,n),Hr(e)):mo(he,n.stateNode));break;case 4:r=he,s=Ye,he=n.stateNode.containerInfo,Ye=!0,Nt(e,t,n),he=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ma(n,t,o),s=s.next}while(s!==r)}Nt(e,t,n);break;case 1:if(!ve&&(Bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,t,a)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Nt(e,t,n),ve=r):Nt(e,t,n);break;default:Nt(e,t,n)}}function nc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jm),t.forEach(function(r){var s=ig.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Ye=!1;break e;case 3:he=a.stateNode.containerInfo,Ye=!0;break e;case 4:he=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(he===null)throw Error(b(160));Sh(i,o,s),he=null,Ye=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}function bh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),it(e),r&4){try{Lr(3,e,e.return),Oi(3,e)}catch(x){te(e,e.return,x)}try{Lr(5,e,e.return)}catch(x){te(e,e.return,x)}}break;case 1:Je(t,e),it(e),r&512&&n!==null&&Bn(n,n.return);break;case 5:if(Je(t,e),it(e),r&512&&n!==null&&Bn(n,n.return),e.flags&32){var s=e.stateNode;try{Ur(s,"")}catch(x){te(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Kc(s,i),Bo(a,o);var c=Bo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Yc(s,h):d==="dangerouslySetInnerHTML"?Jc(s,h):d==="children"?Ur(s,h):Da(s,d,h,c)}switch(a){case"input":Do(s,i);break;case"textarea":Qc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[qr]=i}catch(x){te(e,e.return,x)}}break;case 6:if(Je(t,e),it(e),r&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){te(e,e.return,x)}}break;case 3:if(Je(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(x){te(e,e.return,x)}break;case 4:Je(t,e),it(e);break;case 13:Je(t,e),it(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gl=ne())),r&4&&nc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||d,Je(t,e),ve=c):Je(t,e),it(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(N=e,d=e.child;d!==null;){for(h=N=d;N!==null;){switch(p=N,y=p.child,p.tag){case 0:case 11:case 14:case 15:Lr(4,p,p.return);break;case 1:Bn(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(x){te(r,n,x)}}break;case 5:Bn(p,p.return);break;case 22:if(p.memoizedState!==null){sc(h);continue}}y!==null?(y.return=p,N=y):sc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gc("display",o))}catch(x){te(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){te(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(t,e),it(e),r&4&&nc(e);break;case 21:break;default:Je(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kh(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ur(s,""),r.flags&=-33);var i=tc(e);ya(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tc(e);va(e,a,o);break;default:throw Error(b(161))}}catch(l){te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ym(e,t,n){N=e,jh(e)}function jh(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ve;a=Ts;var c=ve;if(Ts=o,(ve=l)&&!c)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?ic(s):l!==null?(l.return=o,N=l):ic(s);for(;i!==null;)N=i,jh(i),i=i.sibling;N=s,Ts=a,ve=c}rc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):rc(e)}}function rc(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Oi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ge(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}ve||t.flags&512&&ga(t)}catch(p){te(t,t.return,p)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function sc(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function ic(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(l){te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){te(t,s,l)}}var i=t.return;try{ga(t)}catch(l){te(t,i,l)}break;case 5:var o=t.return;try{ga(t)}catch(l){te(t,o,l)}}}catch(l){te(t,t.return,l)}if(t===e){N=null;break}var a=t.sibling;if(a!==null){a.return=t.return,N=a;break}N=t.return}}var Xm=Math.ceil,pi=jt.ReactCurrentDispatcher,pl=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,F=0,de=null,se=null,fe=0,Ae=0,Hn=Yt(0),le=0,es=null,vn=0,Ri=0,ml=0,$r=null,Ee=null,gl=0,rr=1/0,mt=null,mi=!1,wa=null,Wt=null,Ps=!1,Ut=null,gi=0,Ar=0,_a=null,Ks=-1,Qs=0;function ke(){return F&6?ne():Ks!==-1?Ks:Ks=ne()}function Kt(e){return e.mode&1?F&2&&fe!==0?fe&-fe:Am.transition!==null?(Qs===0&&(Qs=ud()),Qs):(e=B,e!==0||(e=window.event,e=e===void 0?16:gd(e.type)),e):1}function tt(e,t,n,r){if(50<Ar)throw Ar=0,_a=null,Error(b(185));rs(e,n,r),(!(F&2)||e!==de)&&(e===de&&(!(F&2)&&(Ri|=n),le===4&&It(e,fe)),Oe(e,r),n===1&&F===0&&!(t.mode&1)&&(rr=ne()+500,Ni&&Xt()))}function Oe(e,t){var n=e.callbackNode;Ap(e,t);var r=Zs(e,e===de?fe:0);if(r===0)n!==null&&pu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pu(n),t===1)e.tag===0?$m(oc.bind(null,e)):Ad(oc.bind(null,e)),Pm(function(){!(F&6)&&Xt()}),n=null;else{switch(cd(r)){case 1:n=Ba;break;case 4:n=ad;break;case 16:n=Xs;break;case 536870912:n=ld;break;default:n=Xs}n=Lh(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(Ks=-1,Qs=0,F&6)throw Error(b(327));var n=e.callbackNode;if(Jn()&&e.callbackNode!==n)return null;var r=Zs(e,e===de?fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vi(e,r);else{t=r;var s=F;F|=2;var i=Nh();(de!==e||fe!==t)&&(mt=null,rr=ne()+500,hn(e,t));do try{tg();break}catch(a){Ch(e,a)}while(!0);tl(),pi.current=i,F=s,se!==null?t=0:(de=null,fe=0,t=le)}if(t!==0){if(t===2&&(s=Qo(e),s!==0&&(r=s,t=xa(e,s))),t===1)throw n=es,hn(e,0),It(e,r),Oe(e,ne()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!Zm(s)&&(t=vi(e,r),t===2&&(i=Qo(e),i!==0&&(r=i,t=xa(e,i))),t===1))throw n=es,hn(e,0),It(e,r),Oe(e,ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:sn(e,Ee,mt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=gl+500-ne(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ta(sn.bind(null,e,Ee,mt),t);break}sn(e,Ee,mt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-et(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xm(r/1960))-r,10<r){e.timeoutHandle=ta(sn.bind(null,e,Ee,mt),r);break}sn(e,Ee,mt);break;case 5:sn(e,Ee,mt);break;default:throw Error(b(329))}}}return Oe(e,ne()),e.callbackNode===n?Eh.bind(null,e):null}function xa(e,t){var n=$r;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=vi(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&ka(t)),e}function ka(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Zm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~ml,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(F&6)throw Error(b(327));Jn();var t=Zs(e,0);if(!(t&1))return Oe(e,ne()),null;var n=vi(e,t);if(e.tag!==0&&n===2){var r=Qo(e);r!==0&&(t=r,n=xa(e,r))}if(n===1)throw n=es,hn(e,0),It(e,t),Oe(e,ne()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Ee,mt),Oe(e,ne()),null}function vl(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(rr=ne()+500,Ni&&Xt())}}function yn(e){Ut!==null&&Ut.tag===0&&!(F&6)&&Jn();var t=F;F|=1;var n=We.transition,r=B;try{if(We.transition=null,B=1,e)return e()}finally{B=r,We.transition=n,F=t,!(F&6)&&Xt()}}function yl(){Ae=Hn.current,J(Hn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tm(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Xa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&si();break;case 3:tr(),J(Te),J(ye),al();break;case 5:ol(r);break;case 4:tr();break;case 13:J(X);break;case 19:J(X);break;case 10:nl(r.type._context);break;case 22:case 23:yl()}n=n.return}if(de=e,se=e=Qt(e.current,null),fe=Ae=t,le=0,es=null,ml=Ri=vn=0,Ee=$r=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cn=null}return e}function Ch(e,t){do{var n=se;try{if(tl(),Hs.current=fi,hi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hi=!1}if(gn=0,ce=ae=Z=null,Rr=!1,Yr=0,pl.current=null,n===null||n.return===null){le=1,es=t,se=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Qu(o);if(y!==null){y.flags&=-257,qu(y,o,a,i,t),y.mode&1&&Ku(i,c,t),t=y,l=c;var k=t.updateQueue;if(k===null){var x=new Set;x.add(l),t.updateQueue=x}else k.add(l);break e}else{if(!(t&1)){Ku(i,c,t),wl();break e}l=Error(b(426))}}else if(Y&&a.mode&1){var T=Qu(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),qu(T,o,a,i,t),Za(nr(l,a));break e}}i=l=nr(l,a),le!==4&&(le=2),$r===null?$r=[i]:$r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ch(i,l,t);Mu(i,m);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=dh(i,a,t);Mu(i,_);break e}}i=i.return}while(i!==null)}Ph(n)}catch(E){t=E,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function Nh(){var e=pi.current;return pi.current=fi,e===null?fi:e}function wl(){(le===0||le===3||le===2)&&(le=4),de===null||!(vn&268435455)&&!(Ri&268435455)||It(de,fe)}function vi(e,t){var n=F;F|=2;var r=Nh();(de!==e||fe!==t)&&(mt=null,hn(e,t));do try{eg();break}catch(s){Ch(e,s)}while(!0);if(tl(),F=n,pi.current=r,se!==null)throw Error(b(261));return de=null,fe=0,le}function eg(){for(;se!==null;)Th(se)}function tg(){for(;se!==null&&!Ep();)Th(se)}function Th(e){var t=Rh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Ph(e):se=t,pl.current=null}function Ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qm(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,se=null;return}}else if(n=Qm(n,t,Ae),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);le===0&&(le=5)}function sn(e,t,n){var r=B,s=We.transition;try{We.transition=null,B=1,ng(e,t,n,r)}finally{We.transition=s,B=r}return null}function ng(e,t,n,r){do Jn();while(Ut!==null);if(F&6)throw Error(b(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ip(e,i),e===de&&(se=de=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,Lh(Xs,function(){return Jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=B;B=1;var a=F;F|=4,pl.current=null,Gm(e,n),bh(n,e),km(Zo),ei=!!Xo,Zo=Xo=null,e.current=n,Ym(n),Cp(),F=a,B=o,We.transition=i}else e.current=n;if(Ps&&(Ps=!1,Ut=e,gi=s),i=e.pendingLanes,i===0&&(Wt=null),Pp(n.stateNode),Oe(e,ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mi)throw mi=!1,e=wa,wa=null,e;return gi&1&&e.tag!==0&&Jn(),i=e.pendingLanes,i&1?e===_a?Ar++:(Ar=0,_a=e):Ar=0,Xt(),null}function Jn(){if(Ut!==null){var e=cd(gi),t=We.transition,n=B;try{if(We.transition=null,B=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,gi=0,F&6)throw Error(b(331));var s=F;for(F|=4,N=e.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Lr(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var p=d.sibling,y=d.return;if(xh(d),d===c){N=null;break}if(p!==null){p.return=y,N=p;break}N=y}}}var k=i.alternate;if(k!==null){var x=k.child;if(x!==null){k.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,N=m;break e}N=i.return}}var f=e.current;for(N=f;N!==null;){o=N;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,N=g;else e:for(o=f;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oi(9,a)}}catch(E){te(a,a.return,E)}if(a===o){N=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,N=_;break e}N=a.return}}if(F=s,Xt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Si,e)}catch{}r=!0}return r}finally{B=n,We.transition=t}}return!1}function ac(e,t,n){t=nr(n,t),t=ch(e,t,1),e=Vt(e,t,1),t=ke(),e!==null&&(rs(e,1,t),Oe(e,t))}function te(e,t,n){if(e.tag===3)ac(e,e,n);else for(;t!==null;){if(t.tag===3){ac(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){e=nr(n,e),e=dh(t,e,1),t=Vt(t,e,1),e=ke(),t!==null&&(rs(t,1,e),Oe(t,e));break}}t=t.return}}function rg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(fe&n)===n&&(le===4||le===3&&(fe&130023424)===fe&&500>ne()-gl?hn(e,0):ml|=n),Oe(e,t)}function Oh(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var n=ke();e=St(e,t),e!==null&&(rs(e,t,n),Oe(e,n))}function sg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oh(e,n)}function ig(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Oh(e,n)}var Rh;Rh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,Km(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,Y&&t.flags&1048576&&Id(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var s=Xn(t,ye.current);qn(t,n),s=ul(null,t,r,e,s,n);var i=cl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(r)?(i=!0,ii(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sl(t),s.updater=Pi,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=da(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Ya(t),xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ag(r),e=Ge(r,e),s){case 0:t=ca(null,t,r,e,n);break e;case 1:t=Yu(null,t,r,e,n);break e;case 11:t=Ju(null,t,r,e,n);break e;case 14:t=Gu(null,t,r,Ge(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ge(r,s),ca(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ge(r,s),Yu(e,t,r,s,n);case 3:e:{if(mh(t),e===null)throw Error(b(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Bd(e,t),ci(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nr(Error(b(423)),t),t=Xu(e,t,r,n,s);break e}else if(r!==s){s=nr(Error(b(424)),t),t=Xu(e,t,r,n,s);break e}else for(Ie=Ht(t.stateNode.containerInfo.firstChild),De=t,Y=!0,Ze=null,n=Md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===s){t=bt(e,t,n);break e}xe(e,t,r,n)}t=t.child}return t;case 5:return Hd(t),e===null&&ia(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ea(r,s)?o=null:i!==null&&ea(r,i)&&(t.flags|=32),ph(e,t),xe(e,t,o,n),t.child;case 6:return e===null&&ia(t),null;case 13:return gh(e,t,n);case 4:return il(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,n):xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ge(r,s),Ju(e,t,r,s,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,K(li,r._currentValue),r._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Te.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_t(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),oa(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),oa(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,qn(t,n),s=Qe(s),r=r(s),t.flags|=1,xe(e,t,r,n),t.child;case 14:return r=t.type,s=Ge(r,t.pendingProps),s=Ge(r.type,s),Gu(e,t,r,s,n);case 15:return hh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ge(r,s),Ws(e,t),t.tag=1,Pe(r)?(e=!0,ii(t)):e=!1,qn(t,n),uh(t,r,s),la(t,r,s,n),da(null,t,r,!0,e,n);case 19:return vh(e,t,n);case 22:return fh(e,t,n)}throw Error(b(156,t.tag))};function Lh(e,t){return od(e,t)}function og(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new og(e,t,n,r)}function _l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ag(e){if(typeof e=="function")return _l(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ua)return 11;if(e===Ma)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")_l(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return fn(n.children,s,i,t);case za:o=8,s|=8;break;case Ro:return e=Ve(12,n,t,s|2),e.elementType=Ro,e.lanes=i,e;case Lo:return e=Ve(13,n,t,s),e.elementType=Lo,e.lanes=i,e;case $o:return e=Ve(19,n,t,s),e.elementType=$o,e.lanes=i,e;case Hc:return Li(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fc:o=10;break e;case Bc:o=9;break e;case Ua:o=11;break e;case Ma:o=14;break e;case Rt:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Ve(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fn(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Li(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=Hc,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function bo(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ro(0),this.expirationTimes=ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ro(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xl(e,t,n,r,s,i,o,a,l){return e=new lg(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sl(i),e}function ug(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $h(e){if(!e)return Jt;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Pe(n))return $d(e,n,t)}return t}function Ah(e,t,n,r,s,i,o,a,l){return e=xl(n,r,!0,e,s,i,o,a,l),e.context=$h(null),n=e.current,r=ke(),s=Kt(n),i=_t(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,rs(e,s,r),Oe(e,r),e}function $i(e,t,n,r){var s=t.current,i=ke(),o=Kt(s);return n=$h(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,o),e!==null&&(tt(e,s,o,i),Bs(e,s,o)),o}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kl(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function cg(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sl(e){this._internalRoot=e}Ai.prototype.render=Sl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));$i(e,t,null,null)};Ai.prototype.unmount=Sl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){$i(null,e,null,null)}),t[kt]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=fd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&md(e)}};function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function dg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yi(o);i.call(c)}}var o=Ah(t,r,e,0,null,!1,!1,"",uc);return e._reactRootContainer=o,e[kt]=o.current,Kr(e.nodeType===8?e.parentNode:e),yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=yi(l);a.call(c)}}var l=xl(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=l,e[kt]=l.current,Kr(e.nodeType===8?e.parentNode:e),yn(function(){$i(t,l,n,r)}),l}function Di(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yi(o);a.call(l)}}$i(t,o,e,s)}else o=dg(n,t,e,s,r);return yi(o)}dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=br(t.pendingLanes);n!==0&&(Ha(t,n|1),Oe(t,ne()),!(F&6)&&(rr=ne()+500,Xt()))}break;case 13:yn(function(){var r=St(e,1);if(r!==null){var s=ke();tt(r,e,1,s)}}),kl(e,1)}};Va=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var n=ke();tt(t,e,134217728,n)}kl(e,134217728)}};hd=function(e){if(e.tag===13){var t=Kt(e),n=St(e,t);if(n!==null){var r=ke();tt(n,e,t,r)}kl(e,t)}};fd=function(){return B};pd=function(e,t){var n=B;try{return B=e,t()}finally{B=n}};Vo=function(e,t,n){switch(t){case"input":if(Do(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ci(r);if(!s)throw Error(b(90));Wc(r),Do(r,s)}}}break;case"textarea":Qc(e,n);break;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}};ed=vl;td=yn;var hg={usingClientEntryPoint:!1,Events:[is,Dn,Ci,Xc,Zc,vl]},_r={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:_r.bundleType,version:_r.version,rendererPackageName:_r.rendererPackageName,rendererConfig:_r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sd(e),e===null?null:e.stateNode},findFiberByHostInstance:_r.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Si=Os.inject(fg),ct=Os}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(t))throw Error(b(200));return ug(e,t,null,n)};Ue.createRoot=function(e,t){if(!bl(e))throw Error(b(299));var n=!1,r="",s=Ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xl(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,Kr(e.nodeType===8?e.parentNode:e),new Sl(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=sd(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return yn(e)};Ue.hydrate=function(e,t,n){if(!Ii(t))throw Error(b(200));return Di(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!bl(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ih;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ah(t,null,e,1,n??null,s,!1,i,o),e[kt]=t.current,Kr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ai(t)};Ue.render=function(e,t,n){if(!Ii(t))throw Error(b(200));return Di(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(b(40));return e._reactRootContainer?(yn(function(){Di(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};Ue.unstable_batchedUpdates=vl;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ii(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return Di(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(e){console.error(e)}}Dh(),Dc.exports=Ue;var pg=Dc.exports,zh,cc=pg;zh=cc.createRoot,cc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>C.createElement("svg",{ref:d,...mg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gg(e)}`,a].join(" "),...c},[...t.map(([h,p])=>C.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Re("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Re("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Eg="modulepreload",Cg=function(e){return"/battle/"+e},fc={},sr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Cg(l),l in fc)return;fc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Eg,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ng=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:r}=await Promise.resolve().then(()=>ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class jl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Tg extends jl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pg extends jl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Og extends jl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sa||(Sa={}));var Rg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Lg{constructor(t,{headers:n={},customFetch:r,region:s=Sa.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ng(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Rg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(k=>{throw new Tg(k)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Pg(d);if(!d.ok)throw new Og(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},El={},zi={},as={},Ui={},Mi={},$g=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ir=$g();const Ag=ir.fetch,Mh=ir.fetch.bind(ir),Fh=ir.Headers,Ig=ir.Request,Dg=ir.Response,ur=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fh,Request:Ig,Response:Dg,default:Mh,fetch:Ag},Symbol.toStringTag,{value:"Module"})),zg=Ff(ur);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});let Ug=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fi.default=Ug;var Bh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const Mg=Bh(zg),Fg=Bh(Fi);let Bg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Mg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),T=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&T&&T.length>1&&(h=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,y="OK")}catch{i.status===404&&x===""?(p=204,y="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&this.shouldThrowOnError)throw new Fg.default(c)}return{error:c,data:d,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Mi.default=Bg;var Hg=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const Vg=Hg(Mi);let Wg=class extends Vg.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ui.default=Wg;var Kg=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});const Qg=Kg(Ui);let qg=class extends Qg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};as.default=qg;var Jg=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});const xr=Jg(as);let Gg=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new xr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new xr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new xr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zi.default=Gg;var Bi={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.version=void 0;Hi.version="0.0.0-automated";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.DEFAULT_HEADERS=void 0;const Yg=Hi;Bi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yg.version}`};var Hh=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const Xg=Hh(zi),Zg=Hh(as),ev=Bi;let tv=class Vh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ev.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Xg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Zg.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};El.default=tv;var cr=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Wh=cr(El);Ce.PostgrestClient=Wh.default;const Kh=cr(zi);Ce.PostgrestQueryBuilder=Kh.default;const Qh=cr(as);Ce.PostgrestFilterBuilder=Qh.default;const qh=cr(Ui);Ce.PostgrestTransformBuilder=qh.default;const Jh=cr(Mi);Ce.PostgrestBuilder=Jh.default;const Gh=cr(Fi);Ce.PostgrestError=Gh.default;var nv=Ce.default={PostgrestClient:Wh.default,PostgrestQueryBuilder:Kh.default,PostgrestFilterBuilder:Qh.default,PostgrestTransformBuilder:qh.default,PostgrestBuilder:Jh.default,PostgrestError:Gh.default};const{PostgrestClient:rv,PostgrestQueryBuilder:Zy,PostgrestFilterBuilder:e0,PostgrestTransformBuilder:t0,PostgrestBuilder:n0,PostgrestError:r0}=nv,sv="2.11.2",iv={"X-Client-Info":`realtime-js/${sv}`},ov="1.0.0",Yh=1e4,av=1e3;var Gn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gn||(Gn={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var Xe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xe||(Xe={}));var ba;(function(e){e.websocket="websocket"})(ba||(ba={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class lv{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Xh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const pc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=uv(o,e,t,s),i),{})},uv=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Zh(i,o):ja(o)},Zh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fv(t,n)}switch(e){case W.bool:return cv(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return dv(t);case W.json:case W.jsonb:return hv(t);case W.timestamp:return pv(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return ja(t);default:return ja(t)}},ja=e=>e,cv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fv=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Zh(t,a))}return e},pv=e=>typeof e=="string"?e.replace(" ","T"):e,ef=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Eo{constructor(t,n,r={},s=Yh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mc||(mc={}));class Ir{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ir.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ir.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ir.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(T=>T.presence_ref),y=h.map(T=>T.presence_ref),k=d.filter(T=>y.indexOf(T.presence_ref)<0),x=h.filter(T=>p.indexOf(T.presence_ref)<0);k.length>0&&(a[c]=k),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(y=>y.presence_ref),p=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gc||(gc={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Cl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new Xh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ir(this),this.broadcastEndpointURL=ef(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(gt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(gt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(gt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,k=[];for(let x=0;x<y;x++){const T=p[x],{filter:{event:m,schema:f,table:g,filter:_}}=T,E=d&&d[x];if(E&&E.event===m&&E.schema===f&&E.table===g&&E.filter===_)k.push(Object.assign(Object.assign({},T),{id:E.id}));else{this.unsubscribe(),t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(gt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Eo(this,Xe.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Xe;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var k,x,T;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((T=(x=y.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(y=>y.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var k,x,T,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,E=(k=y.filter)===null||k===void 0?void 0:k.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const _=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const k=p.data,{schema:x,table:T,commit_timestamp:m,type:f,errors:g}=k;p=Object.assign(Object.assign({},{schema:x,table:T,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(k))}y.callback(p,r)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Cl.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xe.close,{},t)}_onError(t){this._on(Xe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=pc(t.columns,t.old_record)),n}}const mv=()=>{},gv=typeof WebSocket<"u",vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yv{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iv,this.params={},this.timeout=Yh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mv,this.conn=null,this.sendBuffer=[],this.serializer=new lv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>sr(async()=>{const{default:l}=await Promise.resolve().then(()=>ur);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ba.websocket}`,this.httpEndpoint=ef(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),sr(async()=>{const{default:t}=await import("./browser-DhGYOiEr.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ov}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return ln.Connecting;case Gn.open:return ln.Open;case Gn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(t,n={config:{}}){const r=new Cl(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Xe.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(av,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([vv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wv{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Nl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _v extends Nl{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ea extends Nl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var xv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const tf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:r}=await Promise.resolve().then(()=>ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},kv=()=>xv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sr(()=>Promise.resolve().then(()=>ur),void 0)).Response:Response}),Ca=e=>{if(Array.isArray(e))return e.map(n=>Ca(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ca(r)}),t};var xn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sv=(e,t,n)=>xn(void 0,void 0,void 0,function*(){const r=yield kv();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new _v(Co(s),e.status||500))}).catch(s=>{t(new Ea(Co(s),s))}):t(new Ea(Co(e),e))}),bv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ls(e,t,n,r,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,bv(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Sv(l,a,r))})})}function wi(e,t,n,r){return xn(this,void 0,void 0,function*(){return ls(e,"GET",t,n,r)})}function $t(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ls(e,"POST",t,r,s,n)})}function jv(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ls(e,"PUT",t,r,s,n)})}function Ev(e,t,n,r){return xn(this,void 0,void 0,function*(){return ls(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nf(e,t,n,r,s){return xn(this,void 0,void 0,function*(){return ls(e,"DELETE",t,r,s,n)})}var je=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Cv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nv{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tf(s)}uploadOrUpdate(t,n,r,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},yc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:yc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Nl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(t,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return je(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(t,n,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield $t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return je(this,void 0,void 0,function*(){try{const s=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(t,n){return je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield wi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(t){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ca(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(t){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Ev(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof Ea){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}list(t,n,r){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cv),n),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Tv="2.7.1",Pv={"X-Client-Info":`storage-js/${Tv}`};var Nn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Ov{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Pv),n),this.fetch=tf(r)}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Nn(this,void 0,void 0,function*(){try{return{data:yield jv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}}class Rv extends Ov{constructor(t,n={},r){super(t,n,r)}from(t){return new Nv(this.url,this.headers,t,this.fetch)}}const Lv="2.49.1";let Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";const $v={"X-Client-Info":`supabase-js-${Er}/${Lv}`},Av={headers:$v},Iv={schema:"public"},Dv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zv={};var Uv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Mv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mh:t=fetch,(...n)=>t(...n)},Fv=()=>typeof Headers>"u"?Fh:Headers,Bv=(e,t,n)=>{const r=Mv(n),s=Fv();return(i,o)=>Uv(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Hv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Vv(e){return e.replace(/\/$/,"")}function Wv(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>Hv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const rf="2.68.0",On=30*1e3,Na=3,No=Na*On,Kv="http://localhost:9999",Qv="supabase.auth.token",qv={"X-Client-Info":`gotrue-js/${rf}`},Ta="X-Supabase-Api-Version",sf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Jv(e){return Math.round(Date.now()/1e3)+e}function Gv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Dr=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function Yv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const of=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sr(async()=>{const{default:r}=await Promise.resolve().then(()=>ur);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",af=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ls=async(e,t)=>{await e.removeItem(t)};function Zv(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Vi{constructor(){this.promise=new Vi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vi.promiseConstructor=Promise;function wc(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Zv(r))}async function ey(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ty(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ny(e){return("0"+e.toString(16)).substr(-2)}function ry(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ny).join("")}async function sy(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function iy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sy(e);return iy(n)}async function Tn(e,t,n=!1){const r=ry();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await af(e,`${t}-code-verifier`,s);const i=await oy(r);return[i,r===i?"plain":"s256"]}const ay=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ly(e){const t=e.headers.get(Ta);if(!t||!t.match(ay))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Tl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uy extends Tl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cy(e){return I(e)&&e.name==="AuthApiError"}class lf extends Tl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kn extends Tl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Pt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dy(e){return I(e)&&e.name==="AuthSessionMissingError"}class To extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends kn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hy(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class _c extends kn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pa extends kn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Po(e){return I(e)&&e.name==="AuthRetryableFetchError"}class xc extends kn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var fy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),py=[502,503,504];async function kc(e){var t;if(!Xv(e))throw new Pa(on(e),0);if(py.includes(e.status))throw new Pa(on(e),e.status);let n;try{n=await e.json()}catch(i){throw new lf(on(i),i)}let r;const s=ly(e);if(s&&s.getTime()>=sf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xc(on(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xc(on(n),e.status,n.weak_password.reasons);throw new uy(on(n),e.status||500,r)}const my=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ta]||(i[Ta]=sf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gy(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function gy(e,t,n,r,s,i){const o=my(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Pa(on(l),0)}if(a.ok||await kc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await kc(l)}}function Ot(e){var t;let n=null;_y(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Jv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Sc(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vy(e){return{data:e,error:null}}function yy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=fy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wy(e){return e}function _y(e){return e.access_token&&e.refresh_token&&e.expires_in}var xy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class ky{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=of(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xy(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wy});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);c[`${T}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}const Sy={getItem:e=>Dr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dr()&&globalThis.localStorage.removeItem(e)}};function bc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function by(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pn={debug:!!(globalThis&&Dr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jy extends uf{}async function Ey(e,t,n){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}by();const Cy={url:Kv,storageKey:Qv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(e,t,n){return await n()}class ts{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Cy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ky({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=of(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ey:this.lock=jc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Dr()?this.storage=Sy:(this.memoryStorage={},this.storage=bc(this.memoryStorage)):(this.memoryStorage={},this.storage=bc(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Yv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new lf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await Tn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ot})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ot})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sc})}else throw new $s("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new To}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Rs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ot});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new To}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ot}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new To}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new $s("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:vy})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new $s("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<No:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(n){if(I(n))return dy(n)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Tn(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return wc(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=wc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ot())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _c("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const y=p-d;y*1e3<=On&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const k=p-h;d-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,p,d):d-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,p,d);const{data:x,error:T}=await this._getUser(i);if(T)throw T;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Gv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Tn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ty(async s=>(s>0&&await ey(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Po(i)&&Date.now()+o-r<On})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Rs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<No;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${No}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Po(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return Po(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await af(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),On);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/On);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${On}ms, refresh threshold is ${Na} ticks`),s<=Na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ts.nextInstanceID=0;const Ny=ts;class Ty extends Ny{constructor(t){super(t)}}var Py=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Oy{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Vv(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Iv,realtime:zv,auth:Object.assign(Object.assign({},Dv),{storageKey:l}),global:Av},d=Wv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new rv(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Lg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Py(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ty({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ry=(e,t,n)=>new Oy(e,t,n),Ly="https://lveuekjktmkmvlxzkoai.supabase.co",$y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2ZXVla2prdG1rbXZseHprb2FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5MzQzNzEsImV4cCI6MjA1NzUxMDM3MX0.1wjy2lo0OYhOtV2nGbXDmeIPxEojCCdAkOZooDilru4",M=Ry(Ly,$y),an={dark:{gradient:"from-zinc-700 to-slate-800",text:"text-slate-600",background:"bg-slate-700"},purple:{gradient:"from-purple-500 to-indigo-600",text:"text-purple-600",background:"bg-purple-700"}},Ay={appName:" ",appDescription:"           .",loading:" ...",save:"",cancel:"",edit:"",delete:"",login:"",signup:"",email:"",password:"",accountManagement:"",name:"",nameNotSet:"( )",changePassword:" ",language:"UI ",theme:"",themeDark:"",themePurple:"",logout:"",deleteAccount:" ",deleteAccountConfirm:'  " " .',deleteButton:"",deleteAccountConfirmText:" ",deleteAccountWrongText:"   .",deleteAccountError:"    .",accountDeletable:"    .",myCharacters:" ",addCharacter:" ",noCharactersYet:"   ",createCharacter:"  ",editCharacter:" ",characterName:" ",characterDescription:" ",create:"",characterInfo:" ",battleLeague:" ",leagueSelection:" ",leagueHint:"   ",leagueFixed:"     ",ranking:"",battle:"",startBattle:" ",battling:" ...",eloScore:"Elo ",rank:"",winRate:"",recentBattleResult:"  ",win:"!",lose:"",draw:"",restTime:" ",seconds:"",noRankingsYet:"  ",winStreakSingle:"1 ",winStreakMulti:" ",sessionNotFound:" ",failedToFetchRankings:"   ",contactInfo:", : sungchi@plan9.kr",ko:"",en:"",ja:"",battleStartFailed:"  .      .",getStarted:"",battleRecord:"",totalBattles:" ",victories:"",defeats:"",draws:"",battleLanguage:" ",battleLanguageHint:"   .",league_daily:"",league_standard:"",quickStart:" ",or:"",anonymousAccountNotice:"          .",registerAccount:" ",accountRegistrationSuccess:"  !",home:"",test:" ",testScreenDescription:"    .",account:"",load:"",selectCharacter:" ",testBattle:" ",opponent:"",deleteCharacterConfirm:" ?",deleteCharacterWarning:"    ."},Iy={appName:"Text Battle",appDescription:"Create a character description to battle against other users' characters, and your ranking will be determined by wins and losses.",loading:"Loading...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",login:"Login",signup:"Sign Up",email:"Email",password:"Password",accountManagement:"Account",name:"Name",nameNotSet:"(No Name)",changePassword:"Change Password",language:"UI Language",theme:"Theme",themeDark:"Dark",themePurple:"Purple",logout:"Logout",deleteAccount:"Delete Account",deleteAccountConfirm:'Type "Delete Account" to confirm deletion.',deleteButton:"Delete",deleteAccountConfirmText:"Delete Account",deleteAccountWrongText:"Please enter the correct confirmation text.",deleteAccountError:"An error occurred while deleting the account.",accountDeletable:"You can delete your account at any time.",myCharacters:"My Characters",addCharacter:"Add Character",noCharactersYet:"No characters created yet",createCharacter:"Create New Character",editCharacter:"Edit Character",characterName:"Character Name",characterDescription:"Character Description",create:"Create",characterInfo:"Character Info",battleLeague:"Battle League",leagueSelection:"League Selection",leagueHint:"Choose the league for your character",leagueFixed:"League cannot be changed after creation",ranking:"Ranking",battle:"Battle",startBattle:"Start Battle",battling:"Battling...",eloScore:"Elo Score",rank:"Rank",winRate:"Win Rate",recentBattleResult:"Recent Battle Result",win:"Victory!",lose:"Defeat",draw:"Draw",restTime:"Rest Time",seconds:"seconds",noRankingsYet:"No ranking information available",winStreakSingle:"1 win",winStreakMulti:"win streak",sessionNotFound:"Session not found",failedToFetchRankings:"Failed to fetch rankings",contactInfo:"Feedback, bug reports: sungchi@plan9.kr",ko:"Korean",en:"English",ja:"Japanese",battleStartFailed:"Failed to start battle. There might be remaining rest time or opponent.",getStarted:"Get Started",battleRecord:"Battle Record",totalBattles:"Total Battles",victories:"Victories",defeats:"Defeats",draws:"Draws",battleLanguage:"Battle Language",battleLanguageHint:"Language used for character battles",league_daily:"Daily",league_standard:"Endless",quickStart:"Quick Start",or:"or",anonymousAccountNotice:"Anonymous accounts cannot be accessed if you change devices or clear browser data.",registerAccount:"Register Account",accountRegistrationSuccess:"Account registered successfully!",home:"Home",test:"Test Battle",testScreenDescription:"Let the two characters have a mock battle.",account:"Account",load:"Load",selectCharacter:"Select Character",testBattle:"Test Battle",opponent:"Opponent",deleteCharacterConfirm:"Delete Character?",deleteCharacterWarning:"This action cannot be undone."},Dy={appName:"",appDescription:"",loading:"...",save:"",cancel:"",edit:"",delete:"",login:"",signup:"",email:"",password:"",accountManagement:"",name:"",nameNotSet:"()",changePassword:"",language:"UI ",theme:"",themeDark:"",themePurple:"",logout:"",deleteAccount:"",deleteAccountConfirm:"",deleteButton:"",deleteAccountConfirmText:"",deleteAccountWrongText:"",deleteAccountError:"",accountDeletable:"",myCharacters:"",addCharacter:"",noCharactersYet:"",createCharacter:"",editCharacter:"",characterName:"",characterDescription:"",create:"",characterInfo:"",battleLeague:"",leagueSelection:"",leagueHint:"",leagueFixed:"",ranking:"",battle:"",startBattle:"",battling:"...",eloScore:"Elo",rank:"",winRate:"",recentBattleResult:"",win:"",lose:"",draw:"",restTime:"",seconds:"",noRankingsYet:"",winStreakSingle:"1",winStreakMulti:"",sessionNotFound:"",failedToFetchRankings:"",contactInfo:": sungchi@plan9.kr",ko:"",en:"",ja:"",battleStartFailed:"",getStarted:"",battleRecord:"",totalBattles:"",victories:"",defeats:"",draws:"",battleLanguage:"",battleLanguageHint:"",league_daily:"",league_standard:"",quickStart:"",or:"",anonymousAccountNotice:"",registerAccount:"",accountRegistrationSuccess:"",home:"",test:"",testScreenDescription:"",account:"",load:"",selectCharacter:"",testBattle:"",opponent:"",deleteCharacterConfirm:"",deleteCharacterWarning:""},zy={ko:Ay,en:Iy,ja:Dy},_i=()=>{if(typeof window>"u")return"en";const e=navigator.language.toLowerCase();return e.startsWith("ko")?"ko":e.startsWith("ja")?"ja":"en"},Uy=(e=_i())=>{let t=e;return{t:i=>zy[t][i],setLanguage:i=>{t=i},getLanguage:()=>t}},pt={ar:"",bn:"",bg:"","zh-CN":"","zh-TW":"",hr:"Hrvatski",cs:"etina",da:"Dansk",nl:"Nederlands",en:"English",et:"Eesti",fa:"",fi:"Suomi",fr:"Franais",de:"Deutsch",el:" ",gu:"",he:"",hi:"",hu:"Magyar nyelv",id:"Bahasa Indonesia",it:"Italiano",ja:"",kn:"",ko:"",lv:"Latvieu",lt:"Lietuvi",ml:"",mr:"",no:"Norsk",pl:"Polski",pt:"Portugus",ro:"Romn",ru:" ",sr:"",sk:"Slovenina",sl:"Slovenina",es:"Espaol",sw:"Kiswahili",sv:"Svenska",ta:"",te:"",th:"",tr:"Trke",uk:"",ur:"",vi:"Ting Vit"},w=Uy(),xi=()=>{if(typeof window>"u")return pt.en;const e=navigator.language.toLowerCase();if(e.startsWith("zh"))return e.includes("cn")||e.includes("hans")?pt["zh-CN"]:e.includes("tw")||e.includes("hant")?pt["zh-TW"]:pt["zh-CN"];const t=e.split("-")[0];return Object.keys(pt).includes(t)?pt[t]:t==="nb"||t==="nn"?pt.no:pt.en};function My({onAuthSuccess:e,onLogout:t,isAuthenticated:n,currentTheme:r}){const[s,i]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(!1),[d,h]=C.useState(null),p=async x=>{x.preventDefault(),c(!0),h(null);try{const T=xi(),{data:m,error:f}=await M.auth.signInWithPassword({email:s,password:o});if(m&&m.user){const g=m.user.user_metadata;if(!g.battle_language_name){const{error:_}=await M.auth.updateUser({data:{...g,battle_language_name:T}});_&&console.error("battle_language_name update failed:",_.message)}}if(f){const{data:g,error:_}=await M.auth.signUp({email:s,password:o});if(_)throw _;if(g&&g.user){const E=_i(),{error:P}=await M.auth.updateUser({data:{language:E,battle_language_name:T}});P?console.error("update user language failed:",P.message):console.log("user language updated successfully")}}e()}catch(T){h(T.message)}finally{c(!1)}},y=async()=>{c(!0);try{const{error:x}=await M.auth.signOut();if(x)throw x;t()}catch(x){h(x.message)}finally{c(!1)}},k=async()=>{c(!0),h(null);try{const x=xi(),T=_i(),{data:m,error:f}=await M.auth.signInAnonymously();if(f)throw f;if(m&&m.user){const{error:g}=await M.auth.updateUser({data:{language:T,battle_language_name:x}});g&&console.error("update user language failed:",g.message)}e()}catch(x){h(x.message)}finally{c(!1)}};return n?u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:w.t("logout")}),u.jsx("button",{onClick:y,disabled:l,className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:l?u.jsx(lt,{className:"animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Uh,{size:20}),w.t("logout")]})})]}):u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[d&&u.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:d}),u.jsx("button",{onClick:k,disabled:l,className:`w-full bg-white ${an[r].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 mb-6 btn-quick-start`,children:l?u.jsx(lt,{className:"animate-spin mx-auto"}):w.t("quickStart")}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"}),u.jsx("span",{className:"text-sm text-white text-opacity-50",children:w.t("or")}),u.jsx("div",{className:"h-[1px] flex-1 bg-white bg-opacity-20"})]}),u.jsxs("form",{onSubmit:p,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("email")}),u.jsx("input",{type:"email",value:s,onChange:x=>i(x.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("password")}),u.jsx("input",{type:"password",value:o,onChange:x=>a(x.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",required:!0}),u.jsx("p",{className:"text-sm mt-2 opacity-70",children:w.t("accountDeletable")})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full border border-white  text-white py-2 rounded-lg font-semibold hover:bg-white hover:bg-opacity-10 transition-colors btn-get-started",children:l?u.jsx(lt,{className:"animate-spin mx-auto"}):w.t("getStarted")})]})]})}async function Fy(){const{data:{user:e}}=await M.auth.getUser();if(!e)throw new Error("Login required");const{data:t,error:n}=await M.from("characters").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return await Promise.all((t||[]).map(async s=>{try{const i=await cf(s.id);return{...s,rank:i}}catch(i){return console.error(`   : ${i}`),s}}))}const By=async e=>{const{data:{session:t}}=await M.auth.getSession();if(!t)throw new Error(" ");const{data:n,error:r}=await M.functions.invoke("create_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{...e}});if(r)throw r;return n.data};async function Hy(e){if(!e.id)throw new Error("character id required");const{data:{session:t}}=await M.auth.getSession();if(console.log("session",t),!t)throw new Error("authentication required");const{data:n,error:r}=await M.functions.invoke("update_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{name:e.name,description:e.description,character_id:e.id}});if(console.log("updatedCharacter",n),r)throw console.error("failed to update character:",r),r;return n.updatedCharacter}async function Vy(e){const{error:t}=await M.from("characters").delete().eq("id",e);if(t)throw t}const Wy=async e=>{const{data:{session:t}}=await M.auth.getSession();if(!t)throw new Error(" ");if(t&&t.user){const n=t.user.user_metadata;if(!n.battle_language_name){const{error:r}=await M.auth.updateUser({data:{...n,battle_language_name:xi()}});r&&console.error("battle_language_name update failed:",r.message)}}try{const n=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_text2",{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({character_id:e})});if(!n.ok){const o=await n.json().catch(()=>null);throw console.error("battle response error:",{status:n.status,statusText:n.statusText,error:o}),new Error((o==null?void 0:o.message)||`battle start failed (${n.status})`)}const r=await n.json();if(!r)throw new Error("no response data");if(!t)throw new Error("authentication required");const{data:s,error:i}=await M.functions.invoke("update_character",{headers:{Authorization:`Bearer ${t.access_token}`},body:{character_id:e}});if(i)throw i;return r}catch(n){throw console.error("   :",n),n}},cf=async e=>{const{data:t,error:n}=await M.rpc("get_character_rank",{character_id:e});if(n)throw n;return t[0].rank};async function Ky(e){const{data:t,error:n}=await M.from("characters").select("*").eq("id",e).single();if(n)throw n;try{const r=await cf(e);return{...t,rank:r}}catch(r){return console.error(`   : ${r}`),t}}const Is=()=>(C.useEffect(()=>{const e="google-ads-script";if(!document.getElementById(e)){const n=document.createElement("script");n.id=e,n.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0368183753784097",n.async=!0,n.crossOrigin="anonymous",document.body.appendChild(n)}const t=setInterval(()=>{if(window.adsbygoogle){try{window.adsbygoogle.push({})}catch(n){console.error("Adsense loading failed:",n)}clearInterval(t)}},300);return()=>{clearInterval(t)}},[]),u.jsx("ins",{className:"adsbygoogle",style:{display:"block",height:"90px",margin:"1rem auto 1rem"},"data-ad-client":"ca-pub-0368183753784097","data-ad-slot":"2504047860","data-ad-format":"horizontal","data-full-width-responsive":"false"})),Tt=(e,t=30)=>e.length>t?`${e.slice(0,t)}...`:e;function Qy(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState("daily"),[o,a]=C.useState(xi()),[l,c]=C.useState(_i()),[d,h]=C.useState(!1),[p,y]=C.useState("list"),[k,x]=C.useState(""),[T,m]=C.useState(""),[f,g]=C.useState(!1),[_,E]=C.useState(""),[P,O]=C.useState(!1),[R,G]=C.useState(""),[D,H]=C.useState(null),[ie,we]=C.useState([]),[Sn,us]=C.useState(!1),[_e,rt]=C.useState(null),[S,L]=C.useState(null),[$,Q]=C.useState(null),[oe,Zt]=C.useState(0);C.useState(null),C.useState(null),C.useState(!1);const[st,dr]=C.useState([]),[ht,en]=C.useState(!1),[cs,df]=C.useState("daily"),[hf,Pl]=C.useState(!1);C.useRef(new Map);const Et=C.useRef(new Map),ds=C.useRef(new Map),[Le,Wi]=C.useState({name:"",description:""}),[ft,hs]=C.useState({name:"",description:""}),[Ol,Rl]=C.useState(""),[bn,Ll]=C.useState(null),[$l,Al]=C.useState(!1),[Ki,Il]=C.useState(0),[hr,Dl]=C.useState(null),[ff,Qi]=C.useState(!1),[zl,pf]=C.useState(null),[jn,Ul]=C.useState(null),[Ct,Ml]=C.useState(!1);C.useEffect(()=>{jn&&Rl(jn.character_name)},[jn]);const Fl=async v=>{pf(v),ie.length===0&&!Sn&&await Bl(),Qi(!0)},mf=v=>{zl===1?Wi({name:v.name,description:v.description}):zl===2&&hs({name:v.name,description:v.description}),Qi(!1)};C.useEffect(()=>{M.auth.getSession().then(({data:{session:j}})=>{var A,V;h(!!j),j!=null&&j.user&&(x(j.user.email||""),m(((A=j.user.user_metadata)==null?void 0:A.name)||""),E(((V=j.user.user_metadata)==null?void 0:V.name)||""),Pl(j.user.is_anonymous||!1))});const{data:{subscription:v}}=M.auth.onAuthStateChange((j,A)=>{var re,tn;const V=!!A;h(V),!V&&window.location.hash&&(window.location.hash=""),A!=null&&A.user&&(x(A.user.email||""),m(((re=A.user.user_metadata)==null?void 0:re.name)||""),E(((tn=A.user.user_metadata)==null?void 0:tn.name)||""),Pl(A.user.is_anonymous||!1))});return()=>v.unsubscribe()},[]),C.useEffect(()=>{d&&p==="list"&&Bl()},[d,p]);const Bl=async()=>{us(!0),H(null);try{const v=await Fy();we(v)}catch(v){h(!1),y("list"),H(v.message)}finally{us(!1)}},[Hl,Vl]=C.useState(!1),[Wl,Kl]=C.useState(!1),gf=async v=>{if(v.preventDefault(),e.trim()&&n.trim())try{Vl(!0),H(null);const j=await By({name:e,description:n,league:s});we([j,...ie]),t(""),r(""),i("daily"),L(j),Fe("character-detail")}catch(j){H(j.message)}finally{Vl(!1)}},vf=async v=>{if(v.preventDefault(),!!_e&&_e.name.trim()&&_e.description.trim())try{Kl(!0),H(null);const j=await Hy(_e);we(ie.map(A=>A.id===j.id?j:A)),rt(null),Fe("list")}catch(j){H(j.message)}finally{Kl(!1)}},[Ql,qi]=C.useState(null),[yf,Ji]=C.useState(!1),wf=async()=>{if(Ql)try{await _f(Ql),Ji(!1),qi(null)}catch{}},_f=async v=>{try{H(null),await Vy(v),we(ie.filter(j=>j.id!==v))}catch(j){H(j.message)}},xf=async v=>{L(v),ds.current.set(v.id,!0),we(j=>[...j]),y("character-detail");try{const j=await Wy(v.id);Q(j);const A=await Ky(v.id);we(V=>V.map(re=>re.id===v.id?A:re)),ql(v.id)}catch{alert(w.t("battleStartFailed"))}finally{ds.current.delete(v.id),we(j=>[...j])}},kf=async v=>{v.preventDefault();try{const{error:j}=await M.auth.updateUser({data:{name:_}});if(j)throw j;m(_),g(!1),H(null)}catch(j){H(j.message)}},Sf=async()=>{try{const{error:v}=await M.auth.signOut();if(v)throw v;h(!1),window.location.hash=""}catch(v){H(v.message)}},bf=async()=>{if(R!==w.t("deleteAccountConfirmText")){H(w.t("deleteAccountWrongText"));return}try{const{data:{session:v}}=await M.auth.getSession();if(!v)throw new Error("no session");const{data:j,error:A}=await M.functions.invoke("battle-del-user",{headers:{Authorization:`Bearer ${v.access_token}`}});if(await M.auth.signOut(),h(!1),window.location.hash="",Fe("list"),A)throw A}catch(v){console.error("   :",v),H(v.message||w.t("deleteAccountError"))}};C.useEffect(()=>{if(!(S!=null&&S.recent_battle_at))return;const v=()=>{const A=new Date(S.recent_battle_at),re=60-Math.floor((new Date().getTime()-A.getTime())/1e3);return Math.max(0,re)};Zt(v());const j=setInterval(()=>{const A=v();Zt(A),A<=0&&clearInterval(j)},1e3);return()=>clearInterval(j)},[S==null?void 0:S.recent_battle_at]),C.useEffect(()=>{if(S&&ie.length>0){const v=ie.find(j=>j.id===S.id);v&&L(v)}},[ie,S==null?void 0:S.id]),C.useEffect(()=>{(()=>{const j=localStorage.getItem("characterRestTimes");if(j){const A=JSON.parse(j),V=Date.now();A.forEach(re=>{const tn=Math.ceil((re.endTime-V)/1e3);tn>0&&(Et.current.set(re.characterId,tn),ql(re.characterId,re.endTime))})}})()},[]);const ql=(v,j)=>{const A=j||Date.now()+6e4;Et.current.set(v,60);const V=localStorage.getItem("characterRestTimes"),tn=[...(V?JSON.parse(V):[]).filter(Yi=>Yi.characterId!==v),{characterId:v,endTime:A}];localStorage.setItem("characterRestTimes",JSON.stringify(tn));const Zl=setInterval(()=>{const Yi=Date.now(),eu=Math.ceil((A-Yi)/1e3);if(eu<=0){clearInterval(Zl),Et.current.delete(v);const ps=localStorage.getItem("characterRestTimes");if(ps){const zf=JSON.parse(ps).filter(Uf=>Uf.characterId!==v);localStorage.setItem("characterRestTimes",JSON.stringify(zf))}we(tu=>[...tu]);return}Et.current.set(v,eu),we(ps=>[...ps])},1e3);return Zl},Jl=async(v=cs)=>{en(!0);try{const j=(await M.auth.getSession()).data.session;if(!j)throw new Error(" ");const A=await fetch("https://lveuekjktmkmvlxzkoai.supabase.co/functions/v1/battle_ranking3",{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({league:v})});if(!A.ok)throw new Error("   ");const V=await A.json();dr(V.rankings)}catch(j){H(j.message)}finally{en(!1)}},jf=v=>{df(v),Jl(v)},Gl=rp.memo(()=>u.jsx("div",{className:"text-center text-sm opacity-70 mt-4",children:w.t("contactInfo")})),[En,Yl]=C.useState("dark"),Xl=async v=>{try{const{error:j}=await M.auth.updateUser({data:{theme:v}});if(j)throw j;Yl(v),document.body.className=`min-h-screen bg-gradient-to-br ${an[v].gradient} text-white`}catch(j){H(j.message)}},Gi=async v=>{try{const{error:j}=await M.auth.updateUser({data:{language:v}});if(j)throw j;c(v),w.setLanguage(v)}catch(j){H(j.message)}};C.useEffect(()=>{M.auth.getSession().then(({data:{session:v}})=>{var j,A;if(v!=null&&v.user){const V=(j=v.user.user_metadata)==null?void 0:j.theme,re=(A=v.user.user_metadata)==null?void 0:A.language;V&&an[V]&&(Yl(V),document.body.className=`min-h-screen bg-gradient-to-br ${an[V].gradient} text-white`),re&&(c(re),w.setLanguage(re))}})},[]),C.useEffect(()=>{p==="ranking"&&Jl(cs)},[cs,p]),C.useEffect(()=>{var v;document.title=w.t("appName"),(v=document.querySelector('meta[name="description"]'))==null||v.setAttribute("content",w.t("appDescription"))},[l]),C.useEffect(()=>{const v=()=>{const j=window.location.hash.replace("#","")||"list";["list","create","battle","account","edit","character-detail","ranking","test"].includes(j)?y(j):window.location.hash="list"};return v(),window.addEventListener("hashchange",v),()=>{window.removeEventListener("hashchange",v)}},[]);const Fe=v=>{window.location.hash=v},Ef=async v=>{try{a(v),M.auth.getSession().then(({data:{session:j}})=>{j&&M.auth.updateUser({data:{battle_language_name:v}}).then(({error:A})=>{A?console.error("    :",A.message):console.log("    .")})})}catch(j){console.error("     :",j)}},fs=v=>{(v==="list"||v==="ranking"||v==="account"||v==="test")&&(window.scrollTo({top:0,behavior:"smooth"}),Fe(v),Q(null),L(null),rt(null))},Cf=async()=>{if(!Le.name||!Le.description){alert(w.t("battleStartFailed"));return}if(Ct&&!jn){alert(w.t("battleStartFailed"));return}Al(!0),Ll(null),Dl(null);try{const v=(await M.auth.getSession()).data.session;if(!v)throw new Error(" ");const j=await M.functions.invoke(Ct?"test_battle2":"test_battle",{headers:{Authorization:`Bearer ${v.access_token}`},body:Ct?{name1:Le.name,desc1:Le.description,char2Id:jn.id}:{name1:Le.name,desc1:Le.description,name2:ft.name,desc2:ft.description}});if(j.error)throw j.error;Ll(j.data),Dl({name1:Le.name,name2:Ct?Ol:ft.name}),Il(Ct?60:10);const A=setInterval(()=>{Il(V=>V<=1?(clearInterval(A),0):V-1)},1e3)}catch{alert(w.t("battleStartFailed"))}finally{Al(!1)}},Nf=()=>u.jsxs(u.Fragment,{children:[u.jsx(Is,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:w.t("test")}),u.jsx("p",{className:"mb-6",children:w.t("testScreenDescription")}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-semibold",children:[w.t("characterInfo")," 1"]}),u.jsx("button",{onClick:()=>Fl(1),className:"btn-load-character1 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("load")})]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{id:"character1-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Le.name,onChange:v=>Wi({...Le,name:v.target.value}),placeholder:w.t("characterName")})}),u.jsx("div",{className:"mb-4",children:u.jsx("textarea",{id:"character1-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:Le.description,onChange:v=>Wi({...Le,description:v.target.value}),placeholder:w.t("characterDescription"),rows:4})})]}),Ct&&jn?u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:w.t("opponent")}),u.jsx("button",{onClick:()=>{hs({name:"",description:""}),Rl(""),Ml(!1),Ul(null)},className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("cancel")})]}),u.jsx("div",{className:"text-lg",children:Tt(Ol)})]}):!Ct&&u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("h3",{className:"text-lg font-semibold",children:[w.t("characterInfo")," 2"]}),u.jsx("button",{onClick:()=>Fl(2),className:"btn-load-character2 bg-white bg-opacity-20 px-3 py-1 rounded text-sm hover:bg-opacity-30 transition-colors",children:w.t("load")})]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{id:"character2-name",type:"text",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:ft.name,onChange:v=>hs({...ft,name:v.target.value}),placeholder:w.t("characterName")})}),u.jsx("div",{className:"mb-4",children:u.jsx("textarea",{id:"character2-desc",className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",value:ft.description,onChange:v=>hs({...ft,description:v.target.value}),placeholder:w.t("characterDescription"),rows:4})})]})]}),u.jsx("button",{onClick:Cf,disabled:$l||Ki>0||!Le.name||!Le.description||!Ct&&(!ft.name||!ft.description),className:"btn-start-battle mb-6 w-full bg-white bg-opacity-20 px-6 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:$l?u.jsxs(u.Fragment,{children:[u.jsx(lt,{className:"animate-spin mr-2",size:20}),w.t("battling")]}):Ki>0?u.jsxs(u.Fragment,{children:[w.t("restTime"),": ",Ki,w.t("seconds")]}):u.jsxs(u.Fragment,{children:[u.jsx(dc,{size:18,className:"mr-2"}),w.t("startBattle")]})}),bn&&hr&&u.jsxs("div",{className:"p-4 bg-white bg-opacity-5 border border-white border-opacity-30 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:w.t("recentBattleResult")}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"text-lg",children:Tt(hr.name1)}),u.jsx("div",{className:"text-lg",children:"VS"}),u.jsx("div",{className:"text-lg",children:Tt(hr.name2)})]}),u.jsx("pre",{className:"whitespace-pre-wrap font-mono mb-4",children:bn.battle}),u.jsx("div",{className:`text-center font-bold ${bn.winner==="1"?"text-green-400":bn.winner==="2"?"text-red-400":"text-yellow-400"}`,children:bn.winner==="1"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:""}),u.jsxs("span",{children:[hr.name1," !"]})]}):bn.winner==="2"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:""}),u.jsxs("span",{children:[hr.name2," !"]})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2",children:""}),u.jsx("span",{children:"!"})]})})]})]})]})]}),Tf=()=>ff?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-md w-full max-h-[80vh] overflow-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-semibold",children:w.t("selectCharacter")}),u.jsx("button",{onClick:()=>Qi(!1),className:"p-1 hover:bg-white hover:bg-opacity-10 rounded",children:u.jsx(jg,{size:20})})]}),Sn?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(lt,{className:"animate-spin",size:32})}):ie.length===0?u.jsx("div",{className:"text-center py-8 opacity-70",children:w.t("noCharactersYet")}):u.jsx("div",{className:"space-y-2",children:ie.map(v=>u.jsxs("div",{className:"bg-white bg-opacity-5 p-3 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>mf(v),children:[u.jsx("div",{className:"font-semibold",children:Tt(v.name)}),u.jsx("div",{className:"text-sm opacity-70 truncate",children:v.description})]},v.id))})]})}):null,Pf=()=>u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white bg-opacity-10 backdrop-blur-sm border-t border-white border-opacity-30 shadow-lg flex justify-center items-center h-16 z-10",children:u.jsxs("div",{className:"max-w-2xl w-full flex justify-around",children:[u.jsxs("button",{onClick:()=>fs("list"),className:`btn-tab-home flex flex-col items-center justify-center w-full h-full transition-colors ${p==="list"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(wg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("home")})]}),u.jsxs("button",{onClick:()=>fs("ranking"),className:`btn-tab-ranking flex flex-col items-center justify-center w-full h-full transition-colors ${p==="ranking"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(vg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("ranking")})]}),u.jsxs("button",{onClick:()=>fs("test"),className:`btn-tab-test flex flex-col items-center justify-center w-full h-full transition-colors ${p==="test"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(yg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("test")})]}),u.jsxs("button",{onClick:()=>fs("account"),className:`btn-tab-account flex flex-col items-center justify-center w-full h-full transition-colors ${p==="account"?"text-white":"text-white text-opacity-70 hover:text-opacity-100"}`,children:[u.jsx(bg,{size:20}),u.jsx("span",{className:"text-xs mt-1",children:w.t("account")})]})]})});if(!d)return u.jsx("div",{className:"p-8",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-12",children:[u.jsx("h1",{className:"font-bold mb-4 text-3xl",children:w.t("appName")}),u.jsx("p",{className:"text-lg opacity-90 text-left",children:w.t("appDescription")})]}),u.jsx(My,{onAuthSuccess:()=>{h(!0),y("list")},onLogout:()=>h(!1),isAuthenticated:d,currentTheme:En}),u.jsx(Gl,{})]})});const Of=()=>u.jsx("div",{className:"flex justify-between items-center mb-6 no-select",children:u.jsx("h1",{className:`font-bold cursor-pointer hover:opacity-80 transition-opacity ${l==="ja"?"text-2xl":"text-3xl"}`,onClick:()=>Fe("list"),children:w.t("appName")})}),Rf=()=>u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("div",{className:"flex items-center mb-6",children:u.jsx("h2",{className:"text-xl font-semibold",children:w.t("accountManagement")})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:hf?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-yellow-500 bg-opacity-20 p-4 rounded-lg text-yellow-200 text-sm mb-4",children:w.t("anonymousAccountNotice")}),u.jsxs("form",{onSubmit:async v=>{v.preventDefault();const j=v.currentTarget.elements.namedItem("email").value,A=v.currentTarget.elements.namedItem("password").value;try{const{data:V,error:re}=await M.auth.updateUser({email:j,password:A});if(re)throw re;alert(w.t("accountRegistrationSuccess"))}catch(V){alert(V.message)}},className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("email")}),u.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("password")}),u.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50"})]}),u.jsx("button",{type:"submit",className:"w-full bg-white text-slate-600 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-register-account",children:w.t("registerAccount")})]})]}):u.jsxs(u.Fragment,{children:[f?u.jsxs("form",{onSubmit:kf,className:"space-y-2",children:[u.jsx("label",{className:"block mb-2",children:w.t("name")}),u.jsx("input",{type:"text",value:_,onChange:v=>E(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{type:"submit",className:"bg-white text-slate-600 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors btn-save-name",children:w.t("save")}),u.jsx("button",{type:"button",onClick:()=>{g(!1),E(T)},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-cancel-name",children:w.t("cancel")})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("name")}),u.jsx("div",{children:Tt(T)||w.t("nameNotSet")})]}),u.jsx("button",{onClick:()=>g(!0),className:"bg-white bg-opacity-20 p-2 rounded-lg hover:bg-opacity-30 transition-colors btn-edit-name",children:u.jsx(kg,{size:20})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("email")}),u.jsx("div",{children:k})]})]})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("language")}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>Gi("ko"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="ko"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ko`,children:""}),u.jsx("button",{onClick:()=>Gi("en"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="en"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-en`,children:"English"}),u.jsx("button",{onClick:()=>Gi("ja"),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${l==="ja"?"border-white":"border-transparent"} bg-white bg-opacity-10 btn-language-ja`,children:""})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("battleLanguage")}),u.jsx("select",{value:o,onChange:v=>Ef(v.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg \r
                border border-white border-opacity-30 focus:outline-none focus:border-opacity-50\r
                appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:Object.entries(pt).map(([v,j])=>u.jsx("option",{value:j,className:"bg-slate-800 text-white",children:j},v))}),u.jsx("div",{className:"text-xs opacity-50 mt-1",children:w.t("battleLanguageHint")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70 mb-2",children:w.t("theme")}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Xl("dark"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${En==="dark"?"border-white":"border-transparent"} bg-gradient-to-br from-zinc-700 to-slate-800 btn-theme-dark`,children:w.t("themeDark")}),u.jsx("button",{onClick:()=>Xl("purple"),className:`flex-1 p-4 rounded-lg border-2 transition-colors ${En==="purple"?"border-white":"border-transparent"} bg-gradient-to-br from-purple-500 to-indigo-600 btn-theme-purple`,children:w.t("themePurple")})]})]}),u.jsxs("button",{onClick:Sf,className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 btn-logout",children:[u.jsx(Uh,{size:20}),w.t("logout")]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>O(!0),className:"text-red-400 hover:text-red-300 transition-colors flex items-center gap-2 btn-delete-account",children:[u.jsx(hc,{size:20}),w.t("deleteAccount")]}),P&&u.jsxs("div",{className:"mt-4 p-4 bg-red-500 bg-opacity-20 rounded-lg",children:[u.jsx("p",{className:"text-sm mb-2",children:w.t("deleteAccountConfirm")}),u.jsx("input",{type:"text",value:R,onChange:v=>G(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50 mb-2"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:bf,className:"bg-red-500 px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition-colors btn-delete-confirm",children:w.t("deleteButton")}),u.jsx("button",{onClick:()=>{O(!1),G("")},className:"bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors btn-delete-cancel",children:w.t("cancel")})]})]})]})]})]}),Lf=()=>u.jsxs(u.Fragment,{children:[u.jsx(Is,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h2",{className:` font-semibold ${l==="ja"?"text-lg":"text-xl"}`,children:w.t("myCharacters")})}),Sn?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(lt,{className:"animate-spin",size:32})}):ie.length===0?u.jsx("div",{className:"text-center text-lg opacity-70 py-8",children:w.t("noCharactersYet")}):u.jsx("div",{className:"space-y-4",children:ie.map(v=>u.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg cursor-pointer hover:bg-opacity-10 transition-colors",onClick:()=>{L(v),Fe("character-detail")},children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:Tt(v.name)}),Et.current.has(v.id)&&u.jsx(_g,{size:18,className:"text-blue-400 animate-bounce"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:j=>{j.stopPropagation(),rt(v),Fe("edit")},className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-edit-character",children:u.jsx(Sg,{size:18})}),u.jsx("button",{onClick:j=>{j.stopPropagation(),qi(v.id),Ji(!0)},className:"p-2 text-red-400 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors btn-delete-character",children:u.jsx(hc,{size:18})})]})]}),u.jsx("p",{className:"text-sm opacity-80 break-all",children:v.description}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsxs("div",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-lg text-sm",children:[v.elo_rate," Elo"]}),v&&v.streak?u.jsxs("div",{className:"ml-2 bg-orange-500 text-white px-2 py-1 rounded-lg text-sm font-bold animate-pulse",children:[v.streak===1?w.t("winStreakSingle"):`${v.streak} ${w.t("winStreakMulti")}`,u.jsx("span",{className:"ml-1",children:""})]}):null]})]},v.id))})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("button",{onClick:()=>Fe("create"),className:"bg-white bg-opacity-20 p-3 hover:bg-opacity-30 transition-colors rounded-full flex items-center gap-2 mx-auto px-6 disabled:opacity-50 disabled:cursor-not-allowed btn-add-character",disabled:ie.length>=5,children:[u.jsx(xg,{size:20}),u.jsx("span",{children:w.t("addCharacter")}),u.jsxs("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${an[En].background} text-white`,children:[ie.length,"/5"]})]})})]}),$f=()=>u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>Fe("list"),className:" hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-create-character-back",children:u.jsx(jo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("createCharacter")})]}),u.jsxs("form",{onSubmit:gf,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterName")}),u.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2",children:w.t("characterDescription")}),u.jsx("textarea",{value:n,onChange:v=>r(v.target.value),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),u.jsxs("div",{className:"text-right text-sm mt-1",children:[n.length,"/100"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("battleLeague")}),u.jsx("p",{className:"text-sm opacity-70 mb-2",children:w.t("leagueHint")}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{type:"button",onClick:()=>i("daily"),className:`p-2 rounded-lg flex-1 ${s==="daily"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:w.t("league_daily")}),u.jsx("button",{type:"button",onClick:()=>i("standard"),className:`p-2 rounded-lg flex-1 ${s==="standard"?"bg-white bg-opacity-30 border-2 border-white":"bg-white bg-opacity-10 border border-white border-opacity-30"} hover:bg-opacity-20 transition-colors`,children:w.t("league_standard")})]}),u.jsx("div",{className:"text-sm mt-2 opacity-70",children:w.t("leagueFixed")})]}),u.jsx("button",{type:"submit",disabled:Hl,className:`w-full bg-white ${an[En].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-create-character`,children:Hl?u.jsx(lt,{className:"animate-spin mx-auto"}):w.t("create")})]})]}),Af=()=>_e?u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>{rt(null),Fe("list")},className:"mr-4 hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-edit-character-back",children:u.jsx(jo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("editCharacter")})]}),u.jsxs("form",{onSubmit:vf,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterName")}),u.jsx("input",{type:"text",value:_e.name,onChange:v=>rt({..._e,name:v.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:30,required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("characterDescription")}),u.jsx("textarea",{value:_e.description,onChange:v=>rt({..._e,description:v.target.value}),className:"w-full p-2 rounded bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:border-opacity-50",maxLength:100,rows:4,required:!0}),u.jsxs("div",{className:"text-right text-sm mt-1",children:[_e.description.length,"/100"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2",children:w.t("battleLeague")}),u.jsxs("div",{className:"p-2 bg-white bg-opacity-10 border border-white border-opacity-30 rounded",children:[u.jsx("div",{className:"font-semibold",children:_e.league==="daily"?w.t("league_daily"):w.t("league_standard")}),u.jsx("div",{className:"text-sm mt-1 opacity-70",children:w.t("leagueFixed")})]})]}),u.jsx("button",{type:"submit",disabled:Wl,className:`w-full bg-white ${an[En].text} py-2 rounded-lg font-semibold hover:bg-opacity-90 transition-colors disabled:opacity-50 btn-edit-character-save`,children:Wl?u.jsx(lt,{className:"animate-spin mx-auto"}):w.t("save")})]})]}):null,If=()=>{if(!S)return null;const v=S.battle_count-(S.win_count+S.lose_count),j=S.battle_count>0?(S.win_count/S.battle_count*100).toFixed(2):"-";return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("button",{onClick:()=>{L(null),Q(null),Fe("list")},className:"mr-4 hover:bg-white hover:bg-opacity-10 p-2 rounded-lg transition-colors btn-character-detail-back",children:u.jsx(jo,{size:24})}),u.jsx("h2",{className:"text-xl font-semibold",children:w.t("characterInfo")})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h2",{className:"text-2xl font-bold",children:S.name}),S&&S.streak?u.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-base font-bold animate-pulse",children:[S.streak===1?w.t("winStreakSingle"):`${S.streak} ${w.t("winStreakMulti")}`,u.jsx("span",{className:"ml-1",children:""})]}):null]}),u.jsx("p",{className:"text-sm opacity-70 mb-4",children:S.description}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("eloScore")}),u.jsx("div",{className:"text-xl font-bold",children:S.elo_rate})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("rank")}),u.jsx("div",{className:"text-xl font-bold",children:S.rank?`#${S.rank}`:"-"})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("winRate")}),u.jsxs("div",{className:"text-xl font-bold",children:[j,"%"]})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-3",children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("battleLeague")}),u.jsx("div",{className:"text-xl font-bold",children:S.league==="daily"?w.t("league_daily"):w.t("league_standard")})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:w.t("battleRecord")}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("totalBattles")}),u.jsx("div",{className:"text-xl font-bold",children:S.battle_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("victories")}),u.jsx("div",{className:"text-xl font-bold text-green-400",children:S.win_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("defeats")}),u.jsx("div",{className:"text-xl font-bold text-red-400",children:S.lose_count})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-70",children:w.t("draws")}),u.jsx("div",{className:"text-xl font-bold",children:v})]})]})]}),$&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:w.t("recentBattleResult")}),u.jsxs("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"text-lg",children:Tt($.my_character)}),u.jsx("div",{className:"text-lg",children:"VS"}),u.jsx("div",{className:"text-lg",children:Tt($.opponent_character)})]}),u.jsx("p",{className:"mb-4 break-all",children:$.battle}),u.jsx("div",{className:`text-center font-bold ${$.winner==="1"?"text-green-400 animate-bounce-in":$.winner==="2"?"text-red-400 animate-shake":"text-yellow-400 animate-scale"}`,children:$.winner==="1"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-bounce-in",children:""}),u.jsx("span",{children:w.t("win")})]}):$.winner==="2"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-shake",children:""}),u.jsx("span",{children:w.t("lose")})]}):u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl mb-2 animate-scale",children:""}),u.jsx("span",{children:w.t("draw")})]})})]})]}),u.jsx("button",{onClick:()=>xf(S),disabled:ds.current.get(S.id)||Et.current.has(S.id),className:"w-full bg-white bg-opacity-20 py-2 rounded-lg font-semibold hover:bg-opacity-30 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed btn-character-detail-battle",children:ds.current.get(S.id)?u.jsxs(u.Fragment,{children:[u.jsx(lt,{className:"animate-spin",size:18}),w.t("battling")]}):Et.current.has(S.id)?u.jsxs(u.Fragment,{children:[w.t("restTime"),": ",Et.current.get(S.id),w.t("seconds")]}):u.jsxs(u.Fragment,{children:[u.jsx(dc,{size:18}),w.t("startBattle")]})})]})]}),u.jsx(Is,{})]})},Df=()=>u.jsxs(u.Fragment,{children:[u.jsx(Is,{}),u.jsxs("div",{className:"bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:w.t("ranking")}),u.jsx("div",{className:"ml-auto",children:u.jsxs("select",{value:cs,onChange:v=>jf(v.target.value),className:`bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg \r
                border border-white border-opacity-30 focus:outline-none focus:border-opacity-50\r
                appearance-none cursor-pointer hover:bg-opacity-20 transition-colors`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.2em",paddingRight:"2.5rem"},children:[u.jsx("option",{value:"daily",className:"bg-slate-800 text-white",children:w.t("league_daily")}),u.jsx("option",{value:"standard",className:"bg-slate-800 text-white",children:w.t("league_standard")})]})})]}),ht?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(lt,{className:"animate-spin",size:32})}):st.length===0?u.jsx("div",{className:"text-center py-8 opacity-70",children:w.t("noRankingsYet")}):u.jsx("div",{className:"space-y-4",children:st.map((v,j)=>u.jsx("div",{className:"bg-white bg-opacity-5 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex min-w-0",children:[u.jsx("div",{className:"w-10 text-center font-bold text-xl flex-shrink-0",children:j+1}),u.jsxs("div",{className:"ml-4 overflow-hidden",children:[u.jsx("div",{className:"font-semibold truncate",children:v.character_name}),u.jsx("div",{className:"text-sm opacity-70 truncate",children:v.user_name?v.user_name:w.t("nameNotSet")})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[u.jsxs("div",{className:"font-bold",children:[v.elo_rate," Elo"]}),u.jsx("button",{onClick:()=>{Ul(v),Ml(!0),Fe("test")},className:"btn-ranking-test bg-white bg-opacity-20 px-2 py-1 text-xs rounded hover:bg-opacity-30 transition-colors",children:w.t("testBattle")})]})]})},j))})]})]});return u.jsx("div",{className:"p-8 pb-24",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[Of(),D&&u.jsx("div",{className:"bg-red-500 bg-opacity-90 p-4 rounded-lg mb-6",children:D}),p==="account"&&Rf(),p==="list"&&Lf(),p==="create"&&$f(),p==="edit"&&Af(),p==="character-detail"&&If(),p==="ranking"&&Df(),p==="test"&&Nf(),yf&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg shadow-lg p-6 max-w-sm w-full",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:w.t("deleteCharacterConfirm")}),u.jsx("p",{className:"mb-6 opacity-70",children:w.t("deleteCharacterWarning")}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:wf,className:"flex-1 bg-red-500 hover:bg-red-600 transition-colors py-2 rounded-lg font-semibold",children:w.t("delete")}),u.jsx("button",{onClick:()=>{Ji(!1),qi(null)},className:"flex-1 bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors py-2 rounded-lg font-semibold",children:w.t("cancel")})]})]})}),u.jsx(Gl,{}),Pf(),Tf()]})})}zh(document.getElementById("root")).render(u.jsx(C.StrictMode,{children:u.jsx(Qy,{})}));export{Mf as g};
